var e,t,n,r,s,a,i,o,l,c,u,d,h,p,f,m,g,b,y,x,v,E,_,T,w,k,N,S,A,C,I,j,O,R,P,D,L,M,B,U,F,H,z,G,$,W,q,V,Y,K,Q,J,X,Z,ee,te,ne,re,se,ae,ie,oe,le,ce,ue,de,he,pe,fe,me,ge,be=e=>{throw TypeError(e)},ye=(e,t,n)=>t.has(e)||be("Cannot "+n),xe=(e,t,n)=>(ye(e,t,"read from private field"),n?n.call(e):t.get(e)),ve=(e,t,n)=>t.has(e)?be("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ee=(e,t,n,r)=>(ye(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),_e=(e,t,n)=>(ye(e,t,"access private method"),n),Te=(e,t,n,r)=>({set _(r){Ee(e,t,r,n)},get _(){return xe(e,t,r)}});function we(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var ke="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Ne(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Se(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),n}var Ae={exports:{}},Ce={},Ie={exports:{}},je={},Oe=Symbol.for("react.element"),Re=Symbol.for("react.portal"),Pe=Symbol.for("react.fragment"),De=Symbol.for("react.strict_mode"),Le=Symbol.for("react.profiler"),Me=Symbol.for("react.provider"),Be=Symbol.for("react.context"),Ue=Symbol.for("react.forward_ref"),Fe=Symbol.for("react.suspense"),He=Symbol.for("react.memo"),ze=Symbol.for("react.lazy"),Ge=Symbol.iterator;var $e={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},We=Object.assign,qe={};function Ve(e,t,n){this.props=e,this.context=t,this.refs=qe,this.updater=n||$e}function Ye(){}function Ke(e,t,n){this.props=e,this.context=t,this.refs=qe,this.updater=n||$e}Ve.prototype.isReactComponent={},Ve.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},Ve.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},Ye.prototype=Ve.prototype;var Qe=Ke.prototype=new Ye;Qe.constructor=Ke,We(Qe,Ve.prototype),Qe.isPureReactComponent=!0;var Je=Array.isArray,Xe=Object.prototype.hasOwnProperty,Ze={current:null},et={key:!0,ref:!0,__self:!0,__source:!0};function tt(e,t,n){var r,s={},a=null,i=null;if(null!=t)for(r in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(a=""+t.key),t)Xe.call(t,r)&&!et.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(1===o)s.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===s[r]&&(s[r]=o[r]);return{$$typeof:Oe,type:e,key:a,ref:i,props:s,_owner:Ze.current}}function nt(e){return"object"==typeof e&&null!==e&&e.$$typeof===Oe}var rt=/\/+/g;function st(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function at(e,t,n,r,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var i=!1;if(null===e)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Oe:case Re:i=!0}}if(i)return s=s(i=e),e=""===r?"."+st(i,0):r,Je(s)?(n="",null!=e&&(n=e.replace(rt,"$&/")+"/"),at(s,t,n,"",function(e){return e})):null!=s&&(nt(s)&&(s=function(e,t){return{$$typeof:Oe,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(rt,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=""===r?".":r+":",Je(e))for(var o=0;o<e.length;o++){var l=r+st(a=e[o],o);i+=at(a,t,n,l,s)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Ge&&e[Ge]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),o=0;!(a=e.next()).done;)i+=at(a=a.value,t,n,l=r+st(a,o++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function it(e,t,n){if(null==e)return e;var r=[],s=0;return at(e,r,"","",function(e){return t.call(n,e,s++)}),r}function ot(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var lt={current:null},ct={transition:null},ut={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:ct,ReactCurrentOwner:Ze};function dt(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:it,forEach:function(e,t,n){it(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return it(e,function(){t++}),t},toArray:function(e){return it(e,function(e){return e})||[]},only:function(e){if(!nt(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},je.Component=Ve,je.Fragment=Pe,je.Profiler=Le,je.PureComponent=Ke,je.StrictMode=De,je.Suspense=Fe,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ut,je.act=dt,je.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=We({},e.props),s=e.key,a=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,i=Ze.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Xe.call(t,l)&&!et.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==o?o[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Oe,type:e.type,key:s,ref:a,props:r,_owner:i}},je.createContext=function(e){return(e={$$typeof:Be,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:Me,_context:e},e.Consumer=e},je.createElement=tt,je.createFactory=function(e){var t=tt.bind(null,e);return t.type=e,t},je.createRef=function(){return{current:null}},je.forwardRef=function(e){return{$$typeof:Ue,render:e}},je.isValidElement=nt,je.lazy=function(e){return{$$typeof:ze,_payload:{_status:-1,_result:e},_init:ot}},je.memo=function(e,t){return{$$typeof:He,type:e,compare:void 0===t?null:t}},je.startTransition=function(e){var t=ct.transition;ct.transition={};try{e()}finally{ct.transition=t}},je.unstable_act=dt,je.useCallback=function(e,t){return lt.current.useCallback(e,t)},je.useContext=function(e){return lt.current.useContext(e)},je.useDebugValue=function(){},je.useDeferredValue=function(e){return lt.current.useDeferredValue(e)},je.useEffect=function(e,t){return lt.current.useEffect(e,t)},je.useId=function(){return lt.current.useId()},je.useImperativeHandle=function(e,t,n){return lt.current.useImperativeHandle(e,t,n)},je.useInsertionEffect=function(e,t){return lt.current.useInsertionEffect(e,t)},je.useLayoutEffect=function(e,t){return lt.current.useLayoutEffect(e,t)},je.useMemo=function(e,t){return lt.current.useMemo(e,t)},je.useReducer=function(e,t,n){return lt.current.useReducer(e,t,n)},je.useRef=function(e){return lt.current.useRef(e)},je.useState=function(e){return lt.current.useState(e)},je.useSyncExternalStore=function(e,t,n){return lt.current.useSyncExternalStore(e,t,n)},je.useTransition=function(){return lt.current.useTransition()},je.version="18.3.1",Ie.exports=je;var ht=Ie.exports;const pt=Ne(ht),ft=we({__proto__:null,default:pt},[ht]);
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var mt=ht,gt=Symbol.for("react.element"),bt=Symbol.for("react.fragment"),yt=Object.prototype.hasOwnProperty,xt=mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vt={key:!0,ref:!0,__self:!0,__source:!0};function Et(e,t,n){var r,s={},a=null,i=null;for(r in void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(i=t.ref),t)yt.call(t,r)&&!vt.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:gt,type:e,key:a,ref:i,props:s,_owner:xt.current}}Ce.Fragment=bt,Ce.jsx=Et,Ce.jsxs=Et,Ae.exports=Ce;var _t=Ae.exports,Tt={},wt={exports:{}},kt={},Nt={exports:{}},St={};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<a&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var l=[],c=[],u=1,d=null,h=3,p=!1,f=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var s=n(c);null!==s;){if(null===s.callback)r(c);else{if(!(s.startTime<=e))break;r(c),s.sortIndex=s.expirationTime,t(l,s)}s=n(c)}}function v(e){if(m=!1,x(e),!f)if(null!==n(l))f=!0,O(E);else{var t=n(c);null!==t&&R(v,t.startTime-e)}}function E(t,s){f=!1,m&&(m=!1,b(k),k=-1),p=!0;var a=h;try{for(x(s),d=n(l);null!==d&&(!(d.expirationTime>s)||t&&!A());){var i=d.callback;if("function"==typeof i){d.callback=null,h=d.priorityLevel;var o=i(d.expirationTime<=s);s=e.unstable_now(),"function"==typeof o?d.callback=o:d===n(l)&&r(l),x(s)}else r(l);d=n(l)}if(null!==d)var u=!0;else{var g=n(c);null!==g&&R(v,g.startTime-s),u=!1}return u}finally{d=null,h=a,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,T=!1,w=null,k=-1,N=5,S=-1;function A(){return!(e.unstable_now()-S<N)}function C(){if(null!==w){var t=e.unstable_now();S=t;var n=!0;try{n=w(!0,t)}finally{n?_():(T=!1,w=null)}}else T=!1}if("function"==typeof y)_=function(){y(C)};else if("undefined"!=typeof MessageChannel){var I=new MessageChannel,j=I.port2;I.port1.onmessage=C,_=function(){j.postMessage(null)}}else _=function(){g(C,0)};function O(e){w=e,T||(T=!0,_())}function R(t,n){k=g(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){f||p||(f=!0,O(E))},e.unstable_forceFrameRate=function(e){0>e||125<e||(N=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,s,a){var i=e.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?i+a:i:a=i,r){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return r={id:u++,callback:s,priorityLevel:r,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>i?(r.sortIndex=a,t(c,r),null===n(l)&&r===n(c)&&(m?(b(k),k=-1):m=!0,R(v,a-i))):(r.sortIndex=o,t(l,r),f||p||(f=!0,O(E))),r},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(St),Nt.exports=St;var At=Nt.exports,Ct=ht,It=At;
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function jt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ot=new Set,Rt={};function Pt(e,t){Dt(e,t),Dt(e+"Capture",t)}function Dt(e,t){for(Rt[e]=t,e=0;e<t.length;e++)Ot.add(t[e])}var Lt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Mt=Object.prototype.hasOwnProperty,Bt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ut={},Ft={};function Ht(e,t,n,r,s,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){zt[e]=new Ht(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];zt[t]=new Ht(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){zt[e]=new Ht(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){zt[e]=new Ht(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){zt[e]=new Ht(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){zt[e]=new Ht(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){zt[e]=new Ht(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){zt[e]=new Ht(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){zt[e]=new Ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var Gt=/[\-:]([a-z])/g;function $t(e){return e[1].toUpperCase()}function Wt(e,t,n,r){var s=zt.hasOwnProperty(t)?zt[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!Mt.call(Ft,e)||!Mt.call(Ut,e)&&(Bt.test(e)?Ft[e]=!0:(Ut[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Gt,$t);zt[t]=new Ht(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Gt,$t);zt[t]=new Ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Gt,$t);zt[t]=new Ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){zt[e]=new Ht(e,1,!1,e.toLowerCase(),null,!1,!1)}),zt.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){zt[e]=new Ht(e,1,!1,e.toLowerCase(),null,!0,!0)});var qt=Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vt=Symbol.for("react.element"),Yt=Symbol.for("react.portal"),Kt=Symbol.for("react.fragment"),Qt=Symbol.for("react.strict_mode"),Jt=Symbol.for("react.profiler"),Xt=Symbol.for("react.provider"),Zt=Symbol.for("react.context"),en=Symbol.for("react.forward_ref"),tn=Symbol.for("react.suspense"),nn=Symbol.for("react.suspense_list"),rn=Symbol.for("react.memo"),sn=Symbol.for("react.lazy"),an=Symbol.for("react.offscreen"),on=Symbol.iterator;function ln(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=on&&e[on]||e["@@iterator"])?e:null}var cn,un=Object.assign;function dn(e){if(void 0===cn)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);cn=t&&t[1]||""}return"\n"+cn+e}var hn=!1;function pn(e,t){if(!e||hn)return"";hn=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Lm){var r=Lm}Reflect.construct(e,[],t)}else{try{t.call()}catch(Lm){r=Lm}e.call(t.prototype)}else{try{throw Error()}catch(Lm){r=Lm}e()}}catch(Lm){if(Lm&&r&&"string"==typeof Lm.stack){for(var s=Lm.stack.split("\n"),a=r.stack.split("\n"),i=s.length-1,o=a.length-1;1<=i&&0<=o&&s[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(s[i]!==a[o]){if(1!==i||1!==o)do{if(i--,0>--o||s[i]!==a[o]){var l="\n"+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{hn=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?dn(e):""}function fn(e){switch(e.tag){case 5:return dn(e.type);case 16:return dn("Lazy");case 13:return dn("Suspense");case 19:return dn("SuspenseList");case 0:case 2:case 15:return e=pn(e.type,!1);case 11:return e=pn(e.type.render,!1);case 1:return e=pn(e.type,!0);default:return""}}function mn(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Kt:return"Fragment";case Yt:return"Portal";case Jt:return"Profiler";case Qt:return"StrictMode";case tn:return"Suspense";case nn:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Zt:return(e.displayName||"Context")+".Consumer";case Xt:return(e._context.displayName||"Context")+".Provider";case en:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case rn:return null!==(t=e.displayName||null)?t:mn(e.type)||"Memo";case sn:t=e._payload,e=e._init;try{return mn(e(t))}catch(n){}}return null}function gn(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mn(t);case 8:return t===Qt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function bn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function yn(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function xn(e){e._valueTracker||(e._valueTracker=function(e){var t=yn(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function vn(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=yn(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function En(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function _n(e,t){var n=t.checked;return un({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Tn(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=bn(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function wn(e,t){null!=(t=t.checked)&&Wt(e,"checked",t,!1)}function kn(e,t){wn(e,t);var n=bn(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Sn(e,t.type,n):t.hasOwnProperty("defaultValue")&&Sn(e,t.type,bn(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Nn(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Sn(e,t,n){"number"===t&&En(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var An=Array.isArray;function Cn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+bn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function In(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(jt(91));return un({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jn(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(jt(92));if(An(n)){if(1<n.length)throw Error(jt(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:bn(n)}}function On(e,t){var n=bn(t.value),r=bn(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Rn(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function Pn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dn(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Pn(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ln,Mn,Bn=(Mn=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((Ln=Ln||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ln.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return Mn(e,t)})}:Mn);function Un(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Fn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hn=["Webkit","ms","Moz","O"];function zn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Fn.hasOwnProperty(e)&&Fn[e]?(""+t).trim():t+"px"}function Gn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=zn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(Fn).forEach(function(e){Hn.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fn[t]=Fn[e]})});var $n=un({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wn(e,t){if(t){if($n[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(jt(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(jt(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(jt(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(jt(62))}}function qn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vn=null;function Yn(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Kn=null,Qn=null,Jn=null;function Xn(e){if(e=Wi(e)){if("function"!=typeof Kn)throw Error(jt(280));var t=e.stateNode;t&&(t=Vi(t),Kn(e.stateNode,e.type,t))}}function Zn(e){Qn?Jn?Jn.push(e):Jn=[e]:Qn=e}function er(){if(Qn){var e=Qn,t=Jn;if(Jn=Qn=null,Xn(e),t)for(e=0;e<t.length;e++)Xn(t[e])}}function tr(e,t){return e(t)}function nr(){}var rr=!1;function sr(e,t,n){if(rr)return e(t,n);rr=!0;try{return tr(e,t,n)}finally{rr=!1,(null!==Qn||null!==Jn)&&(nr(),er())}}function ar(e,t){var n=e.stateNode;if(null===n)return null;var r=Vi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(jt(231,t,typeof n));return n}var ir=!1;if(Lt)try{var or={};Object.defineProperty(or,"passive",{get:function(){ir=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch(Mn){ir=!1}function lr(e,t,n,r,s,a,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var cr=!1,ur=null,dr=!1,hr=null,pr={onError:function(e){cr=!0,ur=e}};function fr(e,t,n,r,s,a,i,o,l){cr=!1,ur=null,lr.apply(pr,arguments)}function mr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function gr(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function br(e){if(mr(e)!==e)throw Error(jt(188))}function yr(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=mr(e)))throw Error(jt(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(r=s.return)){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return br(s),e;if(a===r)return br(s),t;a=a.sibling}throw Error(jt(188))}if(n.return!==r.return)n=s,r=a;else{for(var i=!1,o=s.child;o;){if(o===n){i=!0,n=s,r=a;break}if(o===r){i=!0,r=s,n=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===n){i=!0,n=a,r=s;break}if(o===r){i=!0,r=a,n=s;break}o=o.sibling}if(!i)throw Error(jt(189))}}if(n.alternate!==r)throw Error(jt(190))}if(3!==n.tag)throw Error(jt(188));return n.stateNode.current===n?e:t}(e))?xr(e):null}function xr(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=xr(e);if(null!==t)return t;e=e.sibling}return null}var vr=It.unstable_scheduleCallback,Er=It.unstable_cancelCallback,_r=It.unstable_shouldYield,Tr=It.unstable_requestPaint,wr=It.unstable_now,kr=It.unstable_getCurrentPriorityLevel,Nr=It.unstable_ImmediatePriority,Sr=It.unstable_UserBlockingPriority,Ar=It.unstable_NormalPriority,Cr=It.unstable_LowPriority,Ir=It.unstable_IdlePriority,jr=null,Or=null;var Rr=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(Pr(e)/Dr|0)|0},Pr=Math.log,Dr=Math.LN2;var Lr=64,Mr=4194304;function Br(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ur(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,i=268435455&n;if(0!==i){var o=i&~s;0!==o?r=Br(o):0!==(a&=i)&&(r=Br(a))}else 0!==(i=n&~s)?r=Br(i):0!==a&&(r=Br(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(a=t&-t)||16===s&&4194240&a))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-Rr(t)),r|=e[n],t&=~s;return r}function Fr(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Hr(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function zr(){var e=Lr;return!(4194240&(Lr<<=1))&&(Lr=64),e}function Gr(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $r(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-Rr(t)]=n}function Wr(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Rr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var qr=0;function Vr(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var Yr,Kr,Qr,Jr,Xr,Zr=!1,es=[],ts=null,ns=null,rs=null,ss=new Map,as=new Map,is=[],os="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ls(e,t){switch(e){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":ss.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":as.delete(t.pointerId)}}function cs(e,t,n,r,s,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},null!==t&&(null!==(t=Wi(t))&&Kr(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function us(e){var t=$i(e.target);if(null!==t){var n=mr(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=gr(n)))return e.blockedOn=t,void Xr(e.priority,function(){Qr(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function ds(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=_s(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Wi(n))&&Kr(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Vn=r,n.target.dispatchEvent(r),Vn=null,t.shift()}return!0}function hs(e,t,n){ds(e)&&n.delete(t)}function ps(){Zr=!1,null!==ts&&ds(ts)&&(ts=null),null!==ns&&ds(ns)&&(ns=null),null!==rs&&ds(rs)&&(rs=null),ss.forEach(hs),as.forEach(hs)}function fs(e,t){e.blockedOn===t&&(e.blockedOn=null,Zr||(Zr=!0,It.unstable_scheduleCallback(It.unstable_NormalPriority,ps)))}function ms(e){function t(t){return fs(t,e)}if(0<es.length){fs(es[0],e);for(var n=1;n<es.length;n++){var r=es[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ts&&fs(ts,e),null!==ns&&fs(ns,e),null!==rs&&fs(rs,e),ss.forEach(t),as.forEach(t),n=0;n<is.length;n++)(r=is[n]).blockedOn===e&&(r.blockedOn=null);for(;0<is.length&&null===(n=is[0]).blockedOn;)us(n),null===n.blockedOn&&is.shift()}var gs=qt.ReactCurrentBatchConfig,bs=!0;function ys(e,t,n,r){var s=qr,a=gs.transition;gs.transition=null;try{qr=1,vs(e,t,n,r)}finally{qr=s,gs.transition=a}}function xs(e,t,n,r){var s=qr,a=gs.transition;gs.transition=null;try{qr=4,vs(e,t,n,r)}finally{qr=s,gs.transition=a}}function vs(e,t,n,r){if(bs){var s=_s(e,t,n,r);if(null===s)gi(e,t,r,Es,n),ls(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return ts=cs(ts,e,t,n,r,s),!0;case"dragenter":return ns=cs(ns,e,t,n,r,s),!0;case"mouseover":return rs=cs(rs,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return ss.set(a,cs(ss.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,as.set(a,cs(as.get(a)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(ls(e,r),4&t&&-1<os.indexOf(e)){for(;null!==s;){var a=Wi(s);if(null!==a&&Yr(a),null===(a=_s(e,t,n,r))&&gi(e,t,r,Es,n),a===s)break;s=a}null!==s&&r.stopPropagation()}else gi(e,t,r,null,n)}}var Es=null;function _s(e,t,n,r){if(Es=null,null!==(e=$i(e=Yn(r))))if(null===(t=mr(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=gr(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Es=e,null}function Ts(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kr()){case Nr:return 1;case Sr:return 4;case Ar:case Cr:return 16;case Ir:return 536870912;default:return 16}default:return 16}}var ws=null,ks=null,Ns=null;function Ss(){if(Ns)return Ns;var e,t,n=ks,r=n.length,s="value"in ws?ws.value:ws.textContent,a=s.length;for(e=0;e<r&&n[e]===s[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===s[a-t];t++);return Ns=s.slice(e,1<t?1-t:void 0)}function As(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Cs(){return!0}function Is(){return!1}function js(e){function t(t,n,r,s,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(s):s[i]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?Cs:Is,this.isPropagationStopped=Is,this}return un(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),t}var Os,Rs,Ps,Ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ls=js(Ds),Ms=un({},Ds,{view:0,detail:0}),Bs=js(Ms),Us=un({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ps&&(Ps&&"mousemove"===e.type?(Os=e.screenX-Ps.screenX,Rs=e.screenY-Ps.screenY):Rs=Os=0,Ps=e),Os)},movementY:function(e){return"movementY"in e?e.movementY:Rs}}),Fs=js(Us),Hs=js(un({},Us,{dataTransfer:0})),zs=js(un({},Ms,{relatedTarget:0})),Gs=js(un({},Ds,{animationName:0,elapsedTime:0,pseudoElement:0})),$s=un({},Ds,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ws=js($s),qs=js(un({},Ds,{data:0})),Vs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ys={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ks={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qs(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ks[e])&&!!t[e]}function Js(){return Qs}var Xs=un({},Ms,{key:function(e){if(e.key){var t=Vs[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=As(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Ys[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(e){return"keypress"===e.type?As(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?As(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Zs=js(Xs),ea=js(un({},Us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),ta=js(un({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js})),na=js(un({},Ds,{propertyName:0,elapsedTime:0,pseudoElement:0})),ra=un({},Us,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sa=js(ra),aa=[9,13,27,32],ia=Lt&&"CompositionEvent"in window,oa=null;Lt&&"documentMode"in document&&(oa=document.documentMode);var la=Lt&&"TextEvent"in window&&!oa,ca=Lt&&(!ia||oa&&8<oa&&11>=oa),ua=String.fromCharCode(32),da=!1;function ha(e,t){switch(e){case"keyup":return-1!==aa.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pa(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var fa=!1;var ma={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ga(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ma[e.type]:"textarea"===t}function ba(e,t,n,r){Zn(r),0<(t=yi(t,"onChange")).length&&(n=new Ls("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ya=null,xa=null;function va(e){ui(e,0)}function Ea(e){if(vn(qi(e)))return e}function _a(e,t){if("change"===e)return t}var Ta=!1;if(Lt){var wa;if(Lt){var ka="oninput"in document;if(!ka){var Na=document.createElement("div");Na.setAttribute("oninput","return;"),ka="function"==typeof Na.oninput}wa=ka}else wa=!1;Ta=wa&&(!document.documentMode||9<document.documentMode)}function Sa(){ya&&(ya.detachEvent("onpropertychange",Aa),xa=ya=null)}function Aa(e){if("value"===e.propertyName&&Ea(xa)){var t=[];ba(t,xa,e,Yn(e)),sr(va,t)}}function Ca(e,t,n){"focusin"===e?(Sa(),xa=n,(ya=t).attachEvent("onpropertychange",Aa)):"focusout"===e&&Sa()}function Ia(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ea(xa)}function ja(e,t){if("click"===e)return Ea(t)}function Oa(e,t){if("input"===e||"change"===e)return Ea(t)}var Ra="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Pa(e,t){if(Ra(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Mt.call(t,s)||!Ra(e[s],t[s]))return!1}return!0}function Da(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function La(e,t){var n,r=Da(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Da(r)}}function Ma(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Ma(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Ba(){for(var e=window,t=En();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=En((e=t.contentWindow).document)}return t}function Ua(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Fa(e){var t=Ba(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ma(n.ownerDocument.documentElement,n)){if(null!==r&&Ua(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=void 0===r.end?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=La(n,a);var i=La(n,r);s&&i&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ha=Lt&&"documentMode"in document&&11>=document.documentMode,za=null,Ga=null,$a=null,Wa=!1;function qa(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Wa||null==za||za!==En(r)||("selectionStart"in(r=za)&&Ua(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},$a&&Pa($a,r)||($a=r,0<(r=yi(Ga,"onSelect")).length&&(t=new Ls("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=za)))}function Va(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ya={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionend:Va("Transition","TransitionEnd")},Ka={},Qa={};function Ja(e){if(Ka[e])return Ka[e];if(!Ya[e])return e;var t,n=Ya[e];for(t in n)if(n.hasOwnProperty(t)&&t in Qa)return Ka[e]=n[t];return e}Lt&&(Qa=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);var Xa=Ja("animationend"),Za=Ja("animationiteration"),ei=Ja("animationstart"),ti=Ja("transitionend"),ni=new Map,ri="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function si(e,t){ni.set(e,t),Pt(t,[e])}for(var ai=0;ai<ri.length;ai++){var ii=ri[ai];si(ii.toLowerCase(),"on"+(ii[0].toUpperCase()+ii.slice(1)))}si(Xa,"onAnimationEnd"),si(Za,"onAnimationIteration"),si(ei,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(ti,"onTransitionEnd"),Dt("onMouseEnter",["mouseout","mouseover"]),Dt("onMouseLeave",["mouseout","mouseover"]),Dt("onPointerEnter",["pointerout","pointerover"]),Dt("onPointerLeave",["pointerout","pointerover"]),Pt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),li=new Set("cancel close invalid load scroll toggle".split(" ").concat(oi));function ci(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,a,i,o,l){if(fr.apply(this,arguments),cr){if(!cr)throw Error(jt(198));var c=ur;cr=!1,ur=null,dr||(dr=!0,hr=c)}}(r,t,void 0,e),e.currentTarget=null}function ui(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break e;ci(s,o,c),a=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break e;ci(s,o,c),a=l}}}if(dr)throw e=hr,dr=!1,hr=null,e}function di(e,t){var n=t[Hi];void 0===n&&(n=t[Hi]=new Set);var r=e+"__bubble";n.has(r)||(mi(t,e,2,!1),n.add(r))}function hi(e,t,n){var r=0;t&&(r|=4),mi(n,e,r,t)}var pi="_reactListening"+Math.random().toString(36).slice(2);function fi(e){if(!e[pi]){e[pi]=!0,Ot.forEach(function(t){"selectionchange"!==t&&(li.has(t)||hi(t,!1,e),hi(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[pi]||(t[pi]=!0,hi("selectionchange",!1,t))}}function mi(e,t,n,r){switch(Ts(t)){case 1:var s=ys;break;case 4:s=xs;break;default:s=vs}n=s.bind(null,t,n,e),s=void 0,!ir||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function gi(e,t,n,r,s){var a=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;i=i.return}for(;null!==o;){if(null===(i=$i(o)))return;if(5===(l=i.tag)||6===l){r=a=i;continue e}o=o.parentNode}}r=r.return}sr(function(){var r=a,s=Yn(n),i=[];e:{var o=ni.get(e);if(void 0!==o){var l=Ls,c=e;switch(e){case"keypress":if(0===As(n))break e;case"keydown":case"keyup":l=Zs;break;case"focusin":c="focus",l=zs;break;case"focusout":c="blur",l=zs;break;case"beforeblur":case"afterblur":l=zs;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Fs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=Hs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=ta;break;case Xa:case Za:case ei:l=Gs;break;case ti:l=na;break;case"scroll":l=Bs;break;case"wheel":l=sa;break;case"copy":case"cut":case"paste":l=Ws;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=ea}var u=!!(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=ar(f,h))&&u.push(bi(f,m,p)))),d)break;f=f.return}0<u.length&&(o=new l(o,c,null,n,s),i.push({event:o,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Vn||!(c=n.relatedTarget||n.fromElement)||!$i(c)&&!c[Fi])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?$i(c):null)&&(c!==(d=mr(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=Fs,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=ea,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?o:qi(l),p=null==c?o:qi(c),(o=new u(m,f+"leave",l,n,s)).target=d,o.relatedTarget=p,m=null,$i(s)===r&&((u=new u(h,f+"enter",c,n,s)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=xi(p))f++;for(p=0,m=h;m;m=xi(m))p++;for(;0<f-p;)u=xi(u),f--;for(;0<p-f;)h=xi(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=xi(u),h=xi(h)}u=null}else u=null;null!==l&&vi(i,o,l,u,!1),null!==c&&null!==d&&vi(i,d,c,u,!0)}if("select"===(l=(o=r?qi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=_a;else if(ga(o))if(Ta)g=Oa;else{g=Ia;var b=Ca}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ja);switch(g&&(g=g(e,r))?ba(i,g,n,s):(b&&b(e,o,r),"focusout"===e&&(b=o._wrapperState)&&b.controlled&&"number"===o.type&&Sn(o,"number",o.value)),b=r?qi(r):window,e){case"focusin":(ga(b)||"true"===b.contentEditable)&&(za=b,Ga=r,$a=null);break;case"focusout":$a=Ga=za=null;break;case"mousedown":Wa=!0;break;case"contextmenu":case"mouseup":case"dragend":Wa=!1,qa(i,n,s);break;case"selectionchange":if(Ha)break;case"keydown":case"keyup":qa(i,n,s)}var y;if(ia)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else fa?ha(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(ca&&"ko"!==n.locale&&(fa||"onCompositionStart"!==x?"onCompositionEnd"===x&&fa&&(y=Ss()):(ks="value"in(ws=s)?ws.value:ws.textContent,fa=!0)),0<(b=yi(r,x)).length&&(x=new qs(x,e,null,n,s),i.push({event:x,listeners:b}),y?x.data=y:null!==(y=pa(n))&&(x.data=y))),(y=la?function(e,t){switch(e){case"compositionend":return pa(t);case"keypress":return 32!==t.which?null:(da=!0,ua);case"textInput":return(e=t.data)===ua&&da?null:e;default:return null}}(e,n):function(e,t){if(fa)return"compositionend"===e||!ia&&ha(e,t)?(e=Ss(),Ns=ks=ws=null,fa=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ca&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=yi(r,"onBeforeInput")).length&&(s=new qs("onBeforeInput","beforeinput",null,n,s),i.push({event:s,listeners:r}),s.data=y))}ui(i,t)})}function bi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function yi(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,a=s.stateNode;5===s.tag&&null!==a&&(s=a,null!=(a=ar(e,n))&&r.unshift(bi(e,a,s)),null!=(a=ar(e,t))&&r.push(bi(e,a,s))),e=e.return}return r}function xi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function vi(e,t,n,r,s){for(var a=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=ar(n,a))&&i.unshift(bi(n,l,o)):s||null!=(l=ar(n,a))&&i.push(bi(n,l,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Ei=/\r\n?/g,_i=/\u0000|\uFFFD/g;function Ti(e){return("string"==typeof e?e:""+e).replace(Ei,"\n").replace(_i,"")}function wi(e,t,n){if(t=Ti(t),Ti(e)!==t&&n)throw Error(jt(425))}function ki(){}var Ni=null,Si=null;function Ai(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ci="function"==typeof setTimeout?setTimeout:void 0,Ii="function"==typeof clearTimeout?clearTimeout:void 0,ji="function"==typeof Promise?Promise:void 0,Oi="function"==typeof queueMicrotask?queueMicrotask:void 0!==ji?function(e){return ji.resolve(null).then(e).catch(Ri)}:Ci;function Ri(e){setTimeout(function(){throw e})}function Pi(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void ms(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);ms(t)}function Di(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function Li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Mi=Math.random().toString(36).slice(2),Bi="__reactFiber$"+Mi,Ui="__reactProps$"+Mi,Fi="__reactContainer$"+Mi,Hi="__reactEvents$"+Mi,zi="__reactListeners$"+Mi,Gi="__reactHandles$"+Mi;function $i(e){var t=e[Bi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fi]||n[Bi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Li(e);null!==e;){if(n=e[Bi])return n;e=Li(e)}return t}n=(e=n).parentNode}return null}function Wi(e){return!(e=e[Bi]||e[Fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function qi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(jt(33))}function Vi(e){return e[Ui]||null}var Yi=[],Ki=-1;function Qi(e){return{current:e}}function Ji(e){0>Ki||(e.current=Yi[Ki],Yi[Ki]=null,Ki--)}function Xi(e,t){Ki++,Yi[Ki]=e.current,e.current=t}var Zi={},eo=Qi(Zi),to=Qi(!1),no=Zi;function ro(e,t){var n=e.type.contextTypes;if(!n)return Zi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,a={};for(s in n)a[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function so(e){return null!=(e=e.childContextTypes)}function ao(){Ji(to),Ji(eo)}function io(e,t,n){if(eo.current!==Zi)throw Error(jt(168));Xi(eo,t),Xi(to,n)}function oo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(jt(108,gn(e)||"Unknown",s));return un({},n,r)}function lo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zi,no=eo.current,Xi(eo,e),Xi(to,to.current),!0}function co(e,t,n){var r=e.stateNode;if(!r)throw Error(jt(169));n?(e=oo(e,t,no),r.__reactInternalMemoizedMergedChildContext=e,Ji(to),Ji(eo),Xi(eo,e)):Ji(to),Xi(to,n)}var uo=null,ho=!1,po=!1;function fo(e){null===uo?uo=[e]:uo.push(e)}function mo(){if(!po&&null!==uo){po=!0;var e=0,t=qr;try{var n=uo;for(qr=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}uo=null,ho=!1}catch(Rm){throw null!==uo&&(uo=uo.slice(e+1)),vr(Nr,mo),Rm}finally{qr=t,po=!1}}return null}var go=[],bo=0,yo=null,xo=0,vo=[],Eo=0,_o=null,To=1,wo="";function ko(e,t){go[bo++]=xo,go[bo++]=yo,yo=e,xo=t}function No(e,t,n){vo[Eo++]=To,vo[Eo++]=wo,vo[Eo++]=_o,_o=e;var r=To;e=wo;var s=32-Rr(r)-1;r&=~(1<<s),n+=1;var a=32-Rr(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,To=1<<32-Rr(t)+s|n<<s|r,wo=a+e}else To=1<<a|n<<s|r,wo=e}function So(e){null!==e.return&&(ko(e,1),No(e,1,0))}function Ao(e){for(;e===yo;)yo=go[--bo],go[bo]=null,xo=go[--bo],go[bo]=null;for(;e===_o;)_o=vo[--Eo],vo[Eo]=null,wo=vo[--Eo],vo[Eo]=null,To=vo[--Eo],vo[Eo]=null}var Co=null,Io=null,jo=!1,Oo=null;function Ro(e,t){var n=nh(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Po(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Co=e,Io=Di(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Co=e,Io=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==_o?{id:To,overflow:wo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=nh(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Co=e,Io=null,!0);default:return!1}}function Do(e){return!(!(1&e.mode)||128&e.flags)}function Lo(e){if(jo){var t=Io;if(t){var n=t;if(!Po(e,t)){if(Do(e))throw Error(jt(418));t=Di(n.nextSibling);var r=Co;t&&Po(e,t)?Ro(r,n):(e.flags=-4097&e.flags|2,jo=!1,Co=e)}}else{if(Do(e))throw Error(jt(418));e.flags=-4097&e.flags|2,jo=!1,Co=e}}}function Mo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Co=e}function Bo(e){if(e!==Co)return!1;if(!jo)return Mo(e),jo=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Ai(e.type,e.memoizedProps)),t&&(t=Io)){if(Do(e))throw Uo(),Error(jt(418));for(;t;)Ro(e,t),t=Di(t.nextSibling)}if(Mo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(jt(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Io=Di(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Io=null}}else Io=Co?Di(e.stateNode.nextSibling):null;return!0}function Uo(){for(var e=Io;e;)e=Di(e.nextSibling)}function Fo(){Io=Co=null,jo=!1}function Ho(e){null===Oo?Oo=[e]:Oo.push(e)}var zo=qt.ReactCurrentBatchConfig;function Go(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(jt(309));var r=n.stateNode}if(!r)throw Error(jt(147,e));var s=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=s.refs;null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(jt(284));if(!n._owner)throw Error(jt(290,e))}return e}function $o(e,t){throw e=Object.prototype.toString.call(t),Error(jt(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wo(e){return(0,e._init)(e._payload)}function qo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=sh(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,r){return null===t||6!==t.tag?((t=lh(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===Kt?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===sn&&Wo(a)===t.type)?((r=s(t,n.props)).ref=Go(e,t,n),r.return=e,r):((r=ah(n.type,n.key,n.props,null,e.mode,r)).ref=Go(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ch(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function u(e,t,n,r,a){return null===t||7!==t.tag?((t=ih(n,e.mode,r,a)).return=e,t):((t=s(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=lh(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Vt:return(n=ah(t.type,t.key,t.props,null,e.mode,n)).ref=Go(e,null,t),n.return=e,n;case Yt:return(t=ch(t,e.mode,n)).return=e,t;case sn:return d(e,(0,t._init)(t._payload),n)}if(An(t)||ln(t))return(t=ih(t,e.mode,n,null)).return=e,t;$o(e,t)}return null}function h(e,t,n,r){var s=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==s?null:o(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Vt:return n.key===s?l(e,t,n,r):null;case Yt:return n.key===s?c(e,t,n,r):null;case sn:return h(e,t,(s=n._init)(n._payload),r)}if(An(n)||ln(n))return null!==s?null:u(e,t,n,r,null);$o(e,n)}return null}function p(e,t,n,r,s){if("string"==typeof r&&""!==r||"number"==typeof r)return o(t,e=e.get(n)||null,""+r,s);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Vt:return l(t,e=e.get(null===r.key?n:r.key)||null,r,s);case Yt:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case sn:return p(e,t,n,(0,r._init)(r._payload),s)}if(An(r)||ln(r))return u(t,e=e.get(n)||null,r,s,null);$o(t,r)}return null}return function o(l,c,u,f){if("object"==typeof u&&null!==u&&u.type===Kt&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case Vt:e:{for(var m=u.key,g=c;null!==g;){if(g.key===m){if((m=u.type)===Kt){if(7===g.tag){n(l,g.sibling),(c=s(g,u.props.children)).return=l,l=c;break e}}else if(g.elementType===m||"object"==typeof m&&null!==m&&m.$$typeof===sn&&Wo(m)===g.type){n(l,g.sibling),(c=s(g,u.props)).ref=Go(l,g,u),c.return=l,l=c;break e}n(l,g);break}t(l,g),g=g.sibling}u.type===Kt?((c=ih(u.props.children,l.mode,f,u.key)).return=l,l=c):((f=ah(u.type,u.key,u.props,null,l.mode,f)).ref=Go(l,c,u),f.return=l,l=f)}return i(l);case Yt:e:{for(g=u.key;null!==c;){if(c.key===g){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(c=s(c,u.children||[])).return=l,l=c;break e}n(l,c);break}t(l,c),c=c.sibling}(c=ch(u,l.mode,f)).return=l,l=c}return i(l);case sn:return o(l,c,(g=u._init)(u._payload),f)}if(An(u))return function(s,i,o,l){for(var c=null,u=null,f=i,m=i=0,g=null;null!==f&&m<o.length;m++){f.index>m?(g=f,f=null):g=f.sibling;var b=h(s,f,o[m],l);if(null===b){null===f&&(f=g);break}e&&f&&null===b.alternate&&t(s,f),i=a(b,i,m),null===u?c=b:u.sibling=b,u=b,f=g}if(m===o.length)return n(s,f),jo&&ko(s,m),c;if(null===f){for(;m<o.length;m++)null!==(f=d(s,o[m],l))&&(i=a(f,i,m),null===u?c=f:u.sibling=f,u=f);return jo&&ko(s,m),c}for(f=r(s,f);m<o.length;m++)null!==(g=p(f,s,m,o[m],l))&&(e&&null!==g.alternate&&f.delete(null===g.key?m:g.key),i=a(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&f.forEach(function(e){return t(s,e)}),jo&&ko(s,m),c}(l,c,u,f);if(ln(u))return function(s,i,o,l){var c=ln(o);if("function"!=typeof c)throw Error(jt(150));if(null==(o=c.call(o)))throw Error(jt(151));for(var u=c=null,f=i,m=i=0,g=null,b=o.next();null!==f&&!b.done;m++,b=o.next()){f.index>m?(g=f,f=null):g=f.sibling;var y=h(s,f,b.value,l);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(s,f),i=a(y,i,m),null===u?c=y:u.sibling=y,u=y,f=g}if(b.done)return n(s,f),jo&&ko(s,m),c;if(null===f){for(;!b.done;m++,b=o.next())null!==(b=d(s,b.value,l))&&(i=a(b,i,m),null===u?c=b:u.sibling=b,u=b);return jo&&ko(s,m),c}for(f=r(s,f);!b.done;m++,b=o.next())null!==(b=p(f,s,m,b.value,l))&&(e&&null!==b.alternate&&f.delete(null===b.key?m:b.key),i=a(b,i,m),null===u?c=b:u.sibling=b,u=b);return e&&f.forEach(function(e){return t(s,e)}),jo&&ko(s,m),c}(l,c,u,f);$o(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(c=s(c,u)).return=l,l=c):(n(l,c),(c=lh(u,l.mode,f)).return=l,l=c),i(l)):n(l,c)}}var Vo=qo(!0),Yo=qo(!1),Ko=Qi(null),Qo=null,Jo=null,Xo=null;function Zo(){Xo=Jo=Qo=null}function el(e){var t=Ko.current;Ji(Ko),e._currentValue=t}function tl(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function nl(e,t){Qo=e,Xo=Jo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&($c=!0),e.firstContext=null)}function rl(e){var t=e._currentValue;if(Xo!==e)if(e={context:e,memoizedValue:t,next:null},null===Jo){if(null===Qo)throw Error(jt(308));Jo=e,Qo.dependencies={lanes:0,firstContext:e}}else Jo=Jo.next=e;return t}var sl=null;function al(e){null===sl?sl=[e]:sl.push(e)}function il(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,al(t)):(n.next=s.next,s.next=n),t.interleaved=n,ol(e,r)}function ol(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var ll=!1;function cl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ul(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hl(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Zu){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ol(e,n)}return null===(s=r.interleaved)?(t.next=t,al(r)):(t.next=s.next,s.next=t),r.interleaved=t,ol(e,n)}function pl(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Wr(e,n)}}function fl(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?s=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?s=a=t:a=a.next=t}else s=a=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ml(e,t,n,r){var s=e.updateQueue;ll=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=s.baseState;for(i=0,u=c=l=null,o=a;;){var h=o.lane,p=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,m=o;switch(h=t,p=n,m.tag){case 1:if("function"==typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(h="function"==typeof(f=m.payload)?f.call(p,d,h):f))break e;d=un({},d,h);break e;case 2:ll=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,i|=h;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(h=o).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===u&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null!==(t=s.shared.interleaved)){s=t;do{i|=s.lane,s=s.next}while(s!==t)}else null===a&&(s.shared.lanes=0);od|=i,e.lanes=i,e.memoizedState=d}}function gl(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!=typeof s)throw Error(jt(191,s));s.call(r)}}}var bl={},yl=Qi(bl),xl=Qi(bl),vl=Qi(bl);function El(e){if(e===bl)throw Error(jt(174));return e}function _l(e,t){switch(Xi(vl,t),Xi(xl,e),Xi(yl,bl),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Dn(null,"");break;default:t=Dn(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ji(yl),Xi(yl,t)}function Tl(){Ji(yl),Ji(xl),Ji(vl)}function wl(e){El(vl.current);var t=El(yl.current),n=Dn(t,e.type);t!==n&&(Xi(xl,e),Xi(yl,n))}function kl(e){xl.current===e&&(Ji(yl),Ji(xl))}var Nl=Qi(0);function Sl(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Al=[];function Cl(){for(var e=0;e<Al.length;e++)Al[e]._workInProgressVersionPrimary=null;Al.length=0}var Il=qt.ReactCurrentDispatcher,jl=qt.ReactCurrentBatchConfig,Ol=0,Rl=null,Pl=null,Dl=null,Ll=!1,Ml=!1,Bl=0,Ul=0;function Fl(){throw Error(jt(321))}function Hl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ra(e[n],t[n]))return!1;return!0}function zl(e,t,n,r,s,a){if(Ol=a,Rl=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Il.current=null===e||null===e.memoizedState?kc:Nc,e=n(r,s),Ml){a=0;do{if(Ml=!1,Bl=0,25<=a)throw Error(jt(301));a+=1,Dl=Pl=null,t.updateQueue=null,Il.current=Sc,e=n(r,s)}while(Ml)}if(Il.current=wc,t=null!==Pl&&null!==Pl.next,Ol=0,Dl=Pl=Rl=null,Ll=!1,t)throw Error(jt(300));return e}function Gl(){var e=0!==Bl;return Bl=0,e}function $l(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Dl?Rl.memoizedState=Dl=e:Dl=Dl.next=e,Dl}function Wl(){if(null===Pl){var e=Rl.alternate;e=null!==e?e.memoizedState:null}else e=Pl.next;var t=null===Dl?Rl.memoizedState:Dl.next;if(null!==t)Dl=t,Pl=e;else{if(null===e)throw Error(jt(310));e={memoizedState:(Pl=e).memoizedState,baseState:Pl.baseState,baseQueue:Pl.baseQueue,queue:Pl.queue,next:null},null===Dl?Rl.memoizedState=Dl=e:Dl=Dl.next=e}return Dl}function ql(e,t){return"function"==typeof t?t(e):t}function Vl(e){var t=Wl(),n=t.queue;if(null===n)throw Error(jt(311));n.lastRenderedReducer=e;var r=Pl,s=r.baseQueue,a=n.pending;if(null!==a){if(null!==s){var i=s.next;s.next=a.next,a.next=i}r.baseQueue=s=a,n.pending=null}if(null!==s){a=s.next,r=r.baseState;var o=i=null,l=null,c=a;do{var u=c.lane;if((Ol&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(o=l=d,i=r):l=l.next=d,Rl.lanes|=u,od|=u}c=c.next}while(null!==c&&c!==a);null===l?i=r:l.next=o,Ra(r,t.memoizedState)||($c=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{a=s.lane,Rl.lanes|=a,od|=a,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Yl(e){var t=Wl(),n=t.queue;if(null===n)throw Error(jt(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(null!==s){n.pending=null;var i=s=s.next;do{a=e(a,i.action),i=i.next}while(i!==s);Ra(a,t.memoizedState)||($c=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Kl(){}function Ql(e,t){var n=Rl,r=Wl(),s=t(),a=!Ra(r.memoizedState,s);if(a&&(r.memoizedState=s,$c=!0),r=r.queue,lc(Zl.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==Dl&&1&Dl.memoizedState.tag){if(n.flags|=2048,rc(9,Xl.bind(null,n,r,s,t),void 0,null),null===ed)throw Error(jt(349));30&Ol||Jl(n,t,s)}return s}function Jl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Rl.updateQueue)?(t={lastEffect:null,stores:null},Rl.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Xl(e,t,n,r){t.value=n,t.getSnapshot=r,ec(t)&&tc(e)}function Zl(e,t,n){return n(function(){ec(t)&&tc(e)})}function ec(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ra(e,n)}catch(r){return!0}}function tc(e){var t=ol(e,1);null!==t&&Sd(t,e,1,-1)}function nc(e){var t=$l();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ql,lastRenderedState:e},t.queue=e,e=e.dispatch=vc.bind(null,Rl,e),[t.memoizedState,e]}function rc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Rl.updateQueue)?(t={lastEffect:null,stores:null},Rl.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function sc(){return Wl().memoizedState}function ac(e,t,n,r){var s=$l();Rl.flags|=e,s.memoizedState=rc(1|t,n,void 0,void 0===r?null:r)}function ic(e,t,n,r){var s=Wl();r=void 0===r?null:r;var a=void 0;if(null!==Pl){var i=Pl.memoizedState;if(a=i.destroy,null!==r&&Hl(r,i.deps))return void(s.memoizedState=rc(t,n,a,r))}Rl.flags|=e,s.memoizedState=rc(1|t,n,a,r)}function oc(e,t){return ac(8390656,8,e,t)}function lc(e,t){return ic(2048,8,e,t)}function cc(e,t){return ic(4,2,e,t)}function uc(e,t){return ic(4,4,e,t)}function dc(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function hc(e,t,n){return n=null!=n?n.concat([e]):null,ic(4,4,dc.bind(null,t,e),n)}function pc(){}function fc(e,t){var n=Wl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Hl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function mc(e,t){var n=Wl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Hl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function gc(e,t,n){return 21&Ol?(Ra(n,t)||(n=zr(),Rl.lanes|=n,od|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$c=!0),e.memoizedState=n)}function bc(e,t){var n=qr;qr=0!==n&&4>n?n:4,e(!0);var r=jl.transition;jl.transition={};try{e(!1),t()}finally{qr=n,jl.transition=r}}function yc(){return Wl().memoizedState}function xc(e,t,n){var r=Nd(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ec(e))_c(t,n);else if(null!==(n=il(e,t,n,r))){Sd(n,e,r,kd()),Tc(n,t,r)}}function vc(e,t,n){var r=Nd(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ec(e))_c(t,s);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=a(i,n);if(s.hasEagerState=!0,s.eagerState=o,Ra(o,i)){var l=t.interleaved;return null===l?(s.next=s,al(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(Lm){}null!==(n=il(e,t,s,r))&&(Sd(n,e,r,s=kd()),Tc(n,t,r))}}function Ec(e){var t=e.alternate;return e===Rl||null!==t&&t===Rl}function _c(e,t){Ml=Ll=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Tc(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Wr(e,n)}}var wc={readContext:rl,useCallback:Fl,useContext:Fl,useEffect:Fl,useImperativeHandle:Fl,useInsertionEffect:Fl,useLayoutEffect:Fl,useMemo:Fl,useReducer:Fl,useRef:Fl,useState:Fl,useDebugValue:Fl,useDeferredValue:Fl,useTransition:Fl,useMutableSource:Fl,useSyncExternalStore:Fl,useId:Fl,unstable_isNewReconciler:!1},kc={readContext:rl,useCallback:function(e,t){return $l().memoizedState=[e,void 0===t?null:t],e},useContext:rl,useEffect:oc,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ac(4194308,4,dc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ac(4194308,4,e,t)},useInsertionEffect:function(e,t){return ac(4,2,e,t)},useMemo:function(e,t){var n=$l();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=$l();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=xc.bind(null,Rl,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},$l().memoizedState=e},useState:nc,useDebugValue:pc,useDeferredValue:function(e){return $l().memoizedState=e},useTransition:function(){var e=nc(!1),t=e[0];return e=bc.bind(null,e[1]),$l().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Rl,s=$l();if(jo){if(void 0===n)throw Error(jt(407));n=n()}else{if(n=t(),null===ed)throw Error(jt(349));30&Ol||Jl(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,oc(Zl.bind(null,r,a,e),[e]),r.flags|=2048,rc(9,Xl.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=$l(),t=ed.identifierPrefix;if(jo){var n=wo;t=":"+t+"R"+(n=(To&~(1<<32-Rr(To)-1)).toString(32)+n),0<(n=Bl++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ul++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Nc={readContext:rl,useCallback:fc,useContext:rl,useEffect:lc,useImperativeHandle:hc,useInsertionEffect:cc,useLayoutEffect:uc,useMemo:mc,useReducer:Vl,useRef:sc,useState:function(){return Vl(ql)},useDebugValue:pc,useDeferredValue:function(e){return gc(Wl(),Pl.memoizedState,e)},useTransition:function(){return[Vl(ql)[0],Wl().memoizedState]},useMutableSource:Kl,useSyncExternalStore:Ql,useId:yc,unstable_isNewReconciler:!1},Sc={readContext:rl,useCallback:fc,useContext:rl,useEffect:lc,useImperativeHandle:hc,useInsertionEffect:cc,useLayoutEffect:uc,useMemo:mc,useReducer:Yl,useRef:sc,useState:function(){return Yl(ql)},useDebugValue:pc,useDeferredValue:function(e){var t=Wl();return null===Pl?t.memoizedState=e:gc(t,Pl.memoizedState,e)},useTransition:function(){return[Yl(ql)[0],Wl().memoizedState]},useMutableSource:Kl,useSyncExternalStore:Ql,useId:yc,unstable_isNewReconciler:!1};function Ac(e,t){if(e&&e.defaultProps){for(var n in t=un({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function Cc(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:un({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ic={isMounted:function(e){return!!(e=e._reactInternals)&&mr(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=kd(),s=Nd(e),a=dl(r,s);a.payload=t,null!=n&&(a.callback=n),null!==(t=hl(e,a,s))&&(Sd(t,e,s,r),pl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=kd(),s=Nd(e),a=dl(r,s);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=hl(e,a,s))&&(Sd(t,e,s,r),pl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=kd(),r=Nd(e),s=dl(n,r);s.tag=2,null!=t&&(s.callback=t),null!==(t=hl(e,s,r))&&(Sd(t,e,r,n),pl(t,e,r))}};function jc(e,t,n,r,s,a,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!Pa(n,r)||!Pa(s,a))}function Oc(e,t,n){var r=!1,s=Zi,a=t.contextType;return"object"==typeof a&&null!==a?a=rl(a):(s=so(t)?no:eo.current,a=(r=null!=(r=t.contextTypes))?ro(e,s):Zi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ic,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Rc(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ic.enqueueReplaceState(t,t.state,null)}function Pc(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},cl(e);var a=t.contextType;"object"==typeof a&&null!==a?s.context=rl(a):(a=so(t)?no:eo.current,s.context=ro(e,a)),s.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(Cc(e,t,a,n),s.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(t=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&Ic.enqueueReplaceState(s,s.state,null),ml(e,n,s,r),s.state=e.memoizedState),"function"==typeof s.componentDidMount&&(e.flags|=4194308)}function Dc(e,t){try{var n="",r=t;do{n+=fn(r),r=r.return}while(r);var s=n}catch(a){s="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:s,digest:null}}function Lc(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}var Mc="function"==typeof WeakMap?WeakMap:Map;function Bc(e,t,n){(n=dl(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){md||(md=!0,gd=r)},n}function Uc(e,t,n){(n=dl(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===bd?bd=new Set([this]):bd.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Fc(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Mc;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Qd.bind(null,e,t,n),t.then(e,e))}function Hc(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function zc(e,t,n,r,s){return 1&e.mode?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=dl(-1,1)).tag=2,hl(n,t,1))),n.lanes|=1),e)}var Gc=qt.ReactCurrentOwner,$c=!1;function Wc(e,t,n,r){t.child=null===e?Yo(t,null,n,r):Vo(t,e.child,n,r)}function qc(e,t,n,r,s){n=n.render;var a=t.ref;return nl(t,s),r=zl(e,t,n,r,a,s),n=Gl(),null===e||$c?(jo&&n&&So(t),t.flags|=1,Wc(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,mu(e,t,s))}function Vc(e,t,n,r,s){if(null===e){var a=n.type;return"function"!=typeof a||rh(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ah(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Yc(e,t,a,r,s))}if(a=e.child,0===(e.lanes&s)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:Pa)(i,r)&&e.ref===t.ref)return mu(e,t,s)}return t.flags|=1,(e=sh(a,r)).ref=t.ref,e.return=t,t.child=e}function Yc(e,t,n,r,s){if(null!==e){var a=e.memoizedProps;if(Pa(a,r)&&e.ref===t.ref){if($c=!1,t.pendingProps=r=a,0===(e.lanes&s))return t.lanes=e.lanes,mu(e,t,s);131072&e.flags&&($c=!0)}}return Jc(e,t,n,r,s)}function Kc(e,t,n){var r=t.pendingProps,s=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xi(sd,rd),rd|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Xi(sd,rd),rd|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xi(sd,rd),rd|=n;else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Xi(sd,rd),rd|=r;return Wc(e,t,s,n),t.child}function Qc(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Jc(e,t,n,r,s){var a=so(n)?no:eo.current;return a=ro(t,a),nl(t,s),n=zl(e,t,n,r,a,s),r=Gl(),null===e||$c?(jo&&r&&So(t),t.flags|=1,Wc(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,mu(e,t,s))}function Xc(e,t,n,r,s){if(so(n)){var a=!0;lo(t)}else a=!1;if(nl(t,s),null===t.stateNode)fu(e,t),Oc(t,n,r),Pc(t,n,r,s),r=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=n.contextType;"object"==typeof c&&null!==c?c=rl(c):c=ro(t,c=so(n)?no:eo.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof i.getSnapshotBeforeUpdate;d||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(o!==r||l!==c)&&Rc(t,i,r,c),ll=!1;var h=t.memoizedState;i.state=h,ml(t,r,i,s),l=t.memoizedState,o!==r||h!==l||to.current||ll?("function"==typeof u&&(Cc(t,n,u,r),l=t.memoizedState),(o=ll||jc(t,n,o,r,h,l,c))?(d||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=o):("function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,ul(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Ac(t.type,o),i.props=c,d=t.pendingProps,h=i.context,"object"==typeof(l=n.contextType)&&null!==l?l=rl(l):l=ro(t,l=so(n)?no:eo.current);var p=n.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(o!==d||h!==l)&&Rc(t,i,r,l),ll=!1,h=t.memoizedState,i.state=h,ml(t,r,i,s);var f=t.memoizedState;o!==d||h!==f||to.current||ll?("function"==typeof p&&(Cc(t,n,p,r),f=t.memoizedState),(c=ll||jc(t,n,c,r,h,f,l)||!1)?(u||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,l),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=l,r=c):("function"!=typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Zc(e,t,n,r,a,s)}function Zc(e,t,n,r,s,a){Qc(e,t);var i=!!(128&t.flags);if(!r&&!i)return s&&co(t,n,!1),mu(e,t,a);r=t.stateNode,Gc.current=t;var o=i&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=Vo(t,e.child,null,a),t.child=Vo(t,null,o,a)):Wc(e,t,o,a),t.memoizedState=r.state,s&&co(t,n,!0),t.child}function eu(e){var t=e.stateNode;t.pendingContext?io(0,t.pendingContext,t.pendingContext!==t.context):t.context&&io(0,t.context,!1),_l(e,t.containerInfo)}function tu(e,t,n,r,s){return Fo(),Ho(s),t.flags|=256,Wc(e,t,n,r),t.child}var nu,ru,su,au,iu={dehydrated:null,treeContext:null,retryLane:0};function ou(e){return{baseLanes:e,cachePool:null,transitions:null}}function lu(e,t,n){var r,s=t.pendingProps,a=Nl.current,i=!1,o=!!(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&!!(2&a)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Xi(Nl,1&a),null===e)return Lo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},1&s||null===i?i=oh(o,s,0,null):(i.childLanes=0,i.pendingProps=o),e=ih(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ou(n),t.memoizedState=iu,e):cu(t,o));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,s,a,i){if(n)return 256&t.flags?(t.flags&=-257,uu(e,t,i,r=Lc(Error(jt(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=oh({mode:"visible",children:r.children},s,0,null),(a=ih(a,s,i,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,1&t.mode&&Vo(t,e.child,null,i),t.child.memoizedState=ou(i),t.memoizedState=iu,a);if(!(1&t.mode))return uu(e,t,i,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var o=r.dgst;return r=o,uu(e,t,i,r=Lc(a=Error(jt(419)),r,void 0))}if(o=0!==(i&e.childLanes),$c||o){if(null!==(r=ed)){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|i))?0:s)&&s!==a.retryLane&&(a.retryLane=s,ol(e,s),Sd(r,e,s,-1))}return Fd(),uu(e,t,i,r=Lc(Error(jt(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Xd.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Io=Di(s.nextSibling),Co=t,jo=!0,Oo=null,null!==e&&(vo[Eo++]=To,vo[Eo++]=wo,vo[Eo++]=_o,To=e.id,wo=e.overflow,_o=t),t=cu(t,r.children),t.flags|=4096,t)}(e,t,o,s,r,a,n);if(i){i=s.fallback,o=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:s.children};return 1&o||t.child===a?(s=sh(a,l)).subtreeFlags=14680064&a.subtreeFlags:((s=t.child).childLanes=0,s.pendingProps=l,t.deletions=null),null!==r?i=sh(r,i):(i=ih(i,o,n,null)).flags|=2,i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=null===(o=e.child.memoizedState)?ou(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=iu,s}return e=(i=e.child).sibling,s=sh(i,{mode:"visible",children:s.children}),!(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function cu(e,t){return(t=oh({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function uu(e,t,n,r){return null!==r&&Ho(r),Vo(t,e.child,null,n),(e=cu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function du(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),tl(e.return,t,n)}function hu(e,t,n,r,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function pu(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(Wc(e,t,r.children,n),2&(r=Nl.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&du(e,n,t);else if(19===e.tag)du(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Xi(Nl,r),1&t.mode)switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===Sl(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),hu(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===Sl(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}hu(t,!0,n,null,a);break;case"together":hu(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function fu(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),od|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(jt(153));if(null!==t.child){for(n=sh(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=sh(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function gu(e,t){if(!jo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function bu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function yu(e,t,n){var r=t.pendingProps;switch(Ao(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bu(t),null;case 1:case 17:return so(t.type)&&ao(),bu(t),null;case 3:return r=t.stateNode,Tl(),Ji(to),Ji(eo),Cl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Bo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==Oo&&(jd(Oo),Oo=null))),ru(e,t),bu(t),null;case 5:kl(t);var s=El(vl.current);if(n=t.type,null!==e&&null!=t.stateNode)su(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(jt(166));return bu(t),null}if(e=El(yl.current),Bo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Bi]=t,r[Ui]=a,e=!!(1&t.mode),n){case"dialog":di("cancel",r),di("close",r);break;case"iframe":case"object":case"embed":di("load",r);break;case"video":case"audio":for(s=0;s<oi.length;s++)di(oi[s],r);break;case"source":di("error",r);break;case"img":case"image":case"link":di("error",r),di("load",r);break;case"details":di("toggle",r);break;case"input":Tn(r,a),di("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},di("invalid",r);break;case"textarea":jn(r,a),di("invalid",r)}for(var i in Wn(n,a),s=null,a)if(a.hasOwnProperty(i)){var o=a[i];"children"===i?"string"==typeof o?r.textContent!==o&&(!0!==a.suppressHydrationWarning&&wi(r.textContent,o,e),s=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(!0!==a.suppressHydrationWarning&&wi(r.textContent,o,e),s=["children",""+o]):Rt.hasOwnProperty(i)&&null!=o&&"onScroll"===i&&di("scroll",r)}switch(n){case"input":xn(r),Nn(r,a,!0);break;case"textarea":xn(r),Rn(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=ki)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{i=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=Pn(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),"select"===n&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Bi]=t,e[Ui]=r,nu(e,t,!1,!1),t.stateNode=e;e:{switch(i=qn(n,r),n){case"dialog":di("cancel",e),di("close",e),s=r;break;case"iframe":case"object":case"embed":di("load",e),s=r;break;case"video":case"audio":for(s=0;s<oi.length;s++)di(oi[s],e);s=r;break;case"source":di("error",e),s=r;break;case"img":case"image":case"link":di("error",e),di("load",e),s=r;break;case"details":di("toggle",e),s=r;break;case"input":Tn(e,r),s=_n(e,r),di("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=un({},r,{value:void 0}),di("invalid",e);break;case"textarea":jn(e,r),s=In(e,r),di("invalid",e)}for(a in Wn(n,s),o=s)if(o.hasOwnProperty(a)){var l=o[a];"style"===a?Gn(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&Bn(e,l):"children"===a?"string"==typeof l?("textarea"!==n||""!==l)&&Un(e,l):"number"==typeof l&&Un(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(Rt.hasOwnProperty(a)?null!=l&&"onScroll"===a&&di("scroll",e):null!=l&&Wt(e,a,l,i))}switch(n){case"input":xn(e),Nn(e,r,!1);break;case"textarea":xn(e),Rn(e);break;case"option":null!=r.value&&e.setAttribute("value",""+bn(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?Cn(e,!!r.multiple,a,!1):null!=r.defaultValue&&Cn(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof s.onClick&&(e.onclick=ki)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return bu(t),null;case 6:if(e&&null!=t.stateNode)au(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(jt(166));if(n=El(vl.current),El(yl.current),Bo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Bi]=t,(a=r.nodeValue!==n)&&null!==(e=Co))switch(e.tag){case 3:wi(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&wi(r.nodeValue,n,!!(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Bi]=t,t.stateNode=r}return bu(t),null;case 13:if(Ji(Nl),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(jo&&null!==Io&&1&t.mode&&!(128&t.flags))Uo(),Fo(),t.flags|=98560,a=!1;else if(a=Bo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(jt(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(jt(317));a[Bi]=t}else Fo(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;bu(t),a=!1}else null!==Oo&&(jd(Oo),Oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&Nl.current?0===ad&&(ad=3):Fd())),null!==t.updateQueue&&(t.flags|=4),bu(t),null);case 4:return Tl(),ru(e,t),null===e&&fi(t.stateNode.containerInfo),bu(t),null;case 10:return el(t.type._context),bu(t),null;case 19:if(Ji(Nl),null===(a=t.memoizedState))return bu(t),null;if(r=!!(128&t.flags),null===(i=a.rendering))if(r)gu(a,!1);else{if(0!==ad||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(i=Sl(e))){for(t.flags|=128,gu(a,!1),null!==(r=i.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(i=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Xi(Nl,1&Nl.current|2),t.child}e=e.sibling}null!==a.tail&&wr()>pd&&(t.flags|=128,r=!0,gu(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Sl(i))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),gu(a,!0),null===a.tail&&"hidden"===a.tailMode&&!i.alternate&&!jo)return bu(t),null}else 2*wr()-a.renderingStartTime>pd&&1073741824!==n&&(t.flags|=128,r=!0,gu(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(null!==(n=a.last)?n.sibling=i:t.child=i,a.last=i)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=wr(),t.sibling=null,n=Nl.current,Xi(Nl,r?1&n|2:1&n),t):(bu(t),null);case 22:case 23:return Ld(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&rd)&&(bu(t),6&t.subtreeFlags&&(t.flags|=8192)):bu(t),null;case 24:case 25:return null}throw Error(jt(156,t.tag))}function xu(e,t){switch(Ao(t),t.tag){case 1:return so(t.type)&&ao(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Tl(),Ji(to),Ji(eo),Cl(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return kl(t),null;case 13:if(Ji(Nl),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(jt(340));Fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ji(Nl),null;case 4:return Tl(),null;case 10:return el(t.type._context),null;case 22:case 23:return Ld(),null;default:return null}}nu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ru=function(){},su=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,El(yl.current);var a,i=null;switch(n){case"input":s=_n(e,s),r=_n(e,r),i=[];break;case"select":s=un({},s,{value:void 0}),r=un({},r,{value:void 0}),i=[];break;case"textarea":s=In(e,s),r=In(e,r),i=[];break;default:"function"!=typeof s.onClick&&"function"==typeof r.onClick&&(e.onclick=ki)}for(c in Wn(n,r),n=null,s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&null!=s[c])if("style"===c){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(Rt.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(o=null!=s?s[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(null!=l||null!=o))if("style"===c)if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,o=o?o.__html:void 0,null!=l&&o!==l&&(i=i||[]).push(c,l)):"children"===c?"string"!=typeof l&&"number"!=typeof l||(i=i||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(Rt.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&di("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}},au=function(e,t,n,r){n!==r&&(t.flags|=4)};var vu=!1,Eu=!1,_u="function"==typeof WeakSet?WeakSet:Set,Tu=null;function wu(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){Kd(e,t,r)}else n.current=null}function ku(e,t,n){try{n()}catch(r){Kd(e,t,r)}}var Nu=!1;function Su(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,void 0!==a&&ku(t,n,a)}s=s.next}while(s!==r)}}function Au(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Cu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function Iu(e){var t=e.alternate;null!==t&&(e.alternate=null,Iu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[Bi],delete t[Ui],delete t[Hi],delete t[zi],delete t[Gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ju(e){return 5===e.tag||3===e.tag||4===e.tag}function Ou(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ju(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ru(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=ki));else if(4!==r&&null!==(e=e.child))for(Ru(e,t,n),e=e.sibling;null!==e;)Ru(e,t,n),e=e.sibling}function Pu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Pu(e,t,n),e=e.sibling;null!==e;)Pu(e,t,n),e=e.sibling}var Du=null,Lu=!1;function Mu(e,t,n){for(n=n.child;null!==n;)Bu(e,t,n),n=n.sibling}function Bu(e,t,n){if(Or&&"function"==typeof Or.onCommitFiberUnmount)try{Or.onCommitFiberUnmount(jr,n)}catch(o){}switch(n.tag){case 5:Eu||wu(n,t);case 6:var r=Du,s=Lu;Du=null,Mu(e,t,n),Lu=s,null!==(Du=r)&&(Lu?(e=Du,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):Du.removeChild(n.stateNode));break;case 18:null!==Du&&(Lu?(e=Du,n=n.stateNode,8===e.nodeType?Pi(e.parentNode,n):1===e.nodeType&&Pi(e,n),ms(e)):Pi(Du,n.stateNode));break;case 4:r=Du,s=Lu,Du=n.stateNode.containerInfo,Lu=!0,Mu(e,t,n),Du=r,Lu=s;break;case 0:case 11:case 14:case 15:if(!Eu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,void 0!==i&&(2&a||4&a)&&ku(n,t,i),s=s.next}while(s!==r)}Mu(e,t,n);break;case 1:if(!Eu&&(wu(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Kd(n,t,o)}Mu(e,t,n);break;case 21:Mu(e,t,n);break;case 22:1&n.mode?(Eu=(r=Eu)||null!==n.memoizedState,Mu(e,t,n),Eu=r):Mu(e,t,n);break;default:Mu(e,t,n)}}function Uu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new _u),t.forEach(function(t){var r=Zd.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function Fu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 5:Du=o.stateNode,Lu=!1;break e;case 3:case 4:Du=o.stateNode.containerInfo,Lu=!0;break e}o=o.return}if(null===Du)throw Error(jt(160));Bu(a,i,s),Du=null,Lu=!1;var l=s.alternate;null!==l&&(l.return=null),s.return=null}catch(Lm){Kd(s,t,Lm)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Hu(t,e),t=t.sibling}function Hu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Fu(t,e),zu(e),4&r){try{Su(3,e,e.return),Au(3,e)}catch(Pm){Kd(e,e.return,Pm)}try{Su(5,e,e.return)}catch(Pm){Kd(e,e.return,Pm)}}break;case 1:Fu(t,e),zu(e),512&r&&null!==n&&wu(n,n.return);break;case 5:if(Fu(t,e),zu(e),512&r&&null!==n&&wu(n,n.return),32&e.flags){var s=e.stateNode;try{Un(s,"")}catch(Pm){Kd(e,e.return,Pm)}}if(4&r&&null!=(s=e.stateNode)){var a=e.memoizedProps,i=null!==n?n.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===o&&"radio"===a.type&&null!=a.name&&wn(s,a),qn(o,i);var c=qn(o,a);for(i=0;i<l.length;i+=2){var u=l[i],d=l[i+1];"style"===u?Gn(s,d):"dangerouslySetInnerHTML"===u?Bn(s,d):"children"===u?Un(s,d):Wt(s,u,d,c)}switch(o){case"input":kn(s,a);break;case"textarea":On(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?Cn(s,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?Cn(s,!!a.multiple,a.defaultValue,!0):Cn(s,!!a.multiple,a.multiple?[]:"",!1))}s[Ui]=a}catch(Pm){Kd(e,e.return,Pm)}}break;case 6:if(Fu(t,e),zu(e),4&r){if(null===e.stateNode)throw Error(jt(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(Pm){Kd(e,e.return,Pm)}}break;case 3:if(Fu(t,e),zu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{ms(t.containerInfo)}catch(Pm){Kd(e,e.return,Pm)}break;case 4:default:Fu(t,e),zu(e);break;case 13:Fu(t,e),zu(e),8192&(s=e.child).flags&&(a=null!==s.memoizedState,s.stateNode.isHidden=a,!a||null!==s.alternate&&null!==s.alternate.memoizedState||(hd=wr())),4&r&&Uu(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Eu=(c=Eu)||u,Fu(t,e),Eu=c):Fu(t,e),zu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!u&&1&e.mode)for(Tu=e,u=e.child;null!==u;){for(d=Tu=u;null!==Tu;){switch(p=(h=Tu).child,h.tag){case 0:case 11:case 14:case 15:Su(4,h,h.return);break;case 1:wu(h,h.return);var f=h.stateNode;if("function"==typeof f.componentWillUnmount){r=h,n=h.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(Pm){Kd(r,n,Pm)}}break;case 5:wu(h,h.return);break;case 22:if(null!==h.memoizedState){qu(d);continue}}null!==p?(p.return=h,Tu=p):qu(d)}u=u.sibling}e:for(u=null,d=e;;){if(5===d.tag){if(null===u){u=d;try{s=d.stateNode,c?"function"==typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none":(o=d.stateNode,i=null!=(l=d.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,o.style.display=zn("display",i))}catch(Pm){Kd(e,e.return,Pm)}}}else if(6===d.tag){if(null===u)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(Pm){Kd(e,e.return,Pm)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Fu(t,e),zu(e),4&r&&Uu(e);case 21:}}function zu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ju(n)){var r=n;break e}n=n.return}throw Error(jt(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(Un(s,""),r.flags&=-33),Pu(e,Ou(e),s);break;case 3:case 4:var a=r.stateNode.containerInfo;Ru(e,Ou(e),a);break;default:throw Error(jt(161))}}catch(i){Kd(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Gu(e,t,n){Tu=e,$u(e)}function $u(e,t,n){for(var r=!!(1&e.mode);null!==Tu;){var s=Tu,a=s.child;if(22===s.tag&&r){var i=null!==s.memoizedState||vu;if(!i){var o=s.alternate,l=null!==o&&null!==o.memoizedState||Eu;o=vu;var c=Eu;if(vu=i,(Eu=l)&&!c)for(Tu=s;null!==Tu;)l=(i=Tu).child,22===i.tag&&null!==i.memoizedState?Vu(s):null!==l?(l.return=i,Tu=l):Vu(s);for(;null!==a;)Tu=a,$u(a),a=a.sibling;Tu=s,vu=o,Eu=c}Wu(e)}else 8772&s.subtreeFlags&&null!==a?(a.return=s,Tu=a):Wu(e)}}function Wu(e){for(;null!==Tu;){var t=Tu;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Eu||Au(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Eu)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ac(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&gl(t,a,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}gl(t,i,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&ms(d)}}}break;default:throw Error(jt(163))}Eu||512&t.flags&&Cu(t)}catch(Dm){Kd(t,t.return,Dm)}}if(t===e){Tu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Tu=n;break}Tu=t.return}}function qu(e){for(;null!==Tu;){var t=Tu;if(t===e){Tu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Tu=n;break}Tu=t.return}}function Vu(e){for(;null!==Tu;){var t=Tu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Au(4,t)}catch(l){Kd(t,n,l)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(l){Kd(t,s,l)}}var a=t.return;try{Cu(t)}catch(l){Kd(t,a,l)}break;case 5:var i=t.return;try{Cu(t)}catch(l){Kd(t,i,l)}}}catch(l){Kd(t,t.return,l)}if(t===e){Tu=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Tu=o;break}Tu=t.return}}var Yu,Ku=Math.ceil,Qu=qt.ReactCurrentDispatcher,Ju=qt.ReactCurrentOwner,Xu=qt.ReactCurrentBatchConfig,Zu=0,ed=null,td=null,nd=0,rd=0,sd=Qi(0),ad=0,id=null,od=0,ld=0,cd=0,ud=null,dd=null,hd=0,pd=1/0,fd=null,md=!1,gd=null,bd=null,yd=!1,xd=null,vd=0,Ed=0,_d=null,Td=-1,wd=0;function kd(){return 6&Zu?wr():-1!==Td?Td:Td=wr()}function Nd(e){return 1&e.mode?2&Zu&&0!==nd?nd&-nd:null!==zo.transition?(0===wd&&(wd=zr()),wd):0!==(e=qr)?e:e=void 0===(e=window.event)?16:Ts(e.type):1}function Sd(e,t,n,r){if(50<Ed)throw Ed=0,_d=null,Error(jt(185));$r(e,n,r),2&Zu&&e===ed||(e===ed&&(!(2&Zu)&&(ld|=n),4===ad&&Od(e,nd)),Ad(e,r),1===n&&0===Zu&&!(1&t.mode)&&(pd=wr()+500,ho&&mo()))}function Ad(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Rr(a),o=1<<i,l=s[i];-1===l?0!==(o&n)&&0===(o&r)||(s[i]=Fr(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=Ur(e,e===ed?nd:0);if(0===r)null!==n&&Er(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Er(n),1===t)0===e.tag?function(e){ho=!0,fo(e)}(Rd.bind(null,e)):fo(Rd.bind(null,e)),Oi(function(){!(6&Zu)&&mo()}),n=null;else{switch(Vr(r)){case 1:n=Nr;break;case 4:n=Sr;break;case 16:default:n=Ar;break;case 536870912:n=Ir}n=eh(n,Cd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Cd(e,t){if(Td=-1,wd=0,6&Zu)throw Error(jt(327));var n=e.callbackNode;if(Vd()&&e.callbackNode!==n)return null;var r=Ur(e,e===ed?nd:0);if(0===r)return null;if(30&r||0!==(r&e.expiredLanes)||t)t=Hd(e,r);else{t=r;var s=Zu;Zu|=2;var a=Ud();for(ed===e&&nd===t||(fd=null,pd=wr()+500,Md(e,t));;)try{Gd();break}catch(o){Bd(e,o)}Zo(),Qu.current=a,Zu=s,null!==td?t=0:(ed=null,nd=0,t=ad)}if(0!==t){if(2===t&&(0!==(s=Hr(e))&&(r=s,t=Id(e,s))),1===t)throw n=id,Md(e,0),Od(e,r),Ad(e,wr()),n;if(6===t)Od(e,r);else{if(s=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Ra(a(),s))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)||(t=Hd(e,r),2===t&&(a=Hr(e),0!==a&&(r=a,t=Id(e,a))),1!==t)))throw n=id,Md(e,0),Od(e,r),Ad(e,wr()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(jt(345));case 2:case 5:qd(e,dd,fd);break;case 3:if(Od(e,r),(130023424&r)===r&&10<(t=hd+500-wr())){if(0!==Ur(e,0))break;if(((s=e.suspendedLanes)&r)!==r){kd(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ci(qd.bind(null,e,dd,fd),t);break}qd(e,dd,fd);break;case 4:if(Od(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-Rr(r);a=1<<i,(i=t[i])>s&&(s=i),r&=~a}if(r=s,10<(r=(120>(r=wr()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ku(r/1960))-r)){e.timeoutHandle=Ci(qd.bind(null,e,dd,fd),r);break}qd(e,dd,fd);break;default:throw Error(jt(329))}}}return Ad(e,wr()),e.callbackNode===n?Cd.bind(null,e):null}function Id(e,t){var n=ud;return e.current.memoizedState.isDehydrated&&(Md(e,t).flags|=256),2!==(e=Hd(e,t))&&(t=dd,dd=n,null!==t&&jd(t)),e}function jd(e){null===dd?dd=e:dd.push.apply(dd,e)}function Od(e,t){for(t&=~cd,t&=~ld,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Rr(t),r=1<<n;e[n]=-1,t&=~r}}function Rd(e){if(6&Zu)throw Error(jt(327));Vd();var t=Ur(e,0);if(!(1&t))return Ad(e,wr()),null;var n=Hd(e,t);if(0!==e.tag&&2===n){var r=Hr(e);0!==r&&(t=r,n=Id(e,r))}if(1===n)throw n=id,Md(e,0),Od(e,t),Ad(e,wr()),n;if(6===n)throw Error(jt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qd(e,dd,fd),Ad(e,wr()),null}function Pd(e,t){var n=Zu;Zu|=1;try{return e(t)}finally{0===(Zu=n)&&(pd=wr()+500,ho&&mo())}}function Dd(e){null!==xd&&0===xd.tag&&!(6&Zu)&&Vd();var t=Zu;Zu|=1;var n=Xu.transition,r=qr;try{if(Xu.transition=null,qr=1,e)return e()}finally{qr=r,Xu.transition=n,!(6&(Zu=t))&&mo()}}function Ld(){rd=sd.current,Ji(sd)}function Md(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Ii(n)),null!==td)for(n=td.return;null!==n;){var r=n;switch(Ao(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&ao();break;case 3:Tl(),Ji(to),Ji(eo),Cl();break;case 5:kl(r);break;case 4:Tl();break;case 13:case 19:Ji(Nl);break;case 10:el(r.type._context);break;case 22:case 23:Ld()}n=n.return}if(ed=e,td=e=sh(e.current,null),nd=rd=t,ad=0,id=null,cd=ld=od=0,dd=ud=null,null!==sl){for(t=0;t<sl.length;t++)if(null!==(r=(n=sl[t]).interleaved)){n.interleaved=null;var s=r.next,a=n.pending;if(null!==a){var i=a.next;a.next=s,r.next=i}n.pending=r}sl=null}return e}function Bd(e,t){for(;;){var n=td;try{if(Zo(),Il.current=wc,Ll){for(var r=Rl.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}Ll=!1}if(Ol=0,Dl=Pl=Rl=null,Ml=!1,Bl=0,Ju.current=null,null===n||null===n.return){ad=1,id=t,td=null;break}e:{var a=e,i=n.return,o=n,l=t;if(t=nd,o.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l,u=o,d=u.tag;if(!(1&u.mode||0!==d&&11!==d&&15!==d)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Hc(i);if(null!==p){p.flags&=-257,zc(p,i,o,0,t),1&p.mode&&Fc(a,c,t),l=c;var f=(t=p).updateQueue;if(null===f){var m=new Set;m.add(l),t.updateQueue=m}else f.add(l);break e}if(!(1&t)){Fc(a,c,t),Fd();break e}l=Error(jt(426))}else if(jo&&1&o.mode){var g=Hc(i);if(null!==g){!(65536&g.flags)&&(g.flags|=256),zc(g,i,o,0,t),Ho(Dc(l,o));break e}}a=l=Dc(l,o),4!==ad&&(ad=2),null===ud?ud=[a]:ud.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,fl(a,Bc(0,l,t));break e;case 1:o=l;var b=a.type,y=a.stateNode;if(!(128&a.flags||"function"!=typeof b.getDerivedStateFromError&&(null===y||"function"!=typeof y.componentDidCatch||null!==bd&&bd.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t,fl(a,Uc(a,o,t));break e}}a=a.return}while(null!==a)}Wd(n)}catch(x){t=x,td===n&&null!==n&&(td=n=n.return);continue}break}}function Ud(){var e=Qu.current;return Qu.current=wc,null===e?wc:e}function Fd(){0!==ad&&3!==ad&&2!==ad||(ad=4),null===ed||!(268435455&od)&&!(268435455&ld)||Od(ed,nd)}function Hd(e,t){var n=Zu;Zu|=2;var r=Ud();for(ed===e&&nd===t||(fd=null,Md(e,t));;)try{zd();break}catch(Rm){Bd(e,Rm)}if(Zo(),Zu=n,Qu.current=r,null!==td)throw Error(jt(261));return ed=null,nd=0,ad}function zd(){for(;null!==td;)$d(td)}function Gd(){for(;null!==td&&!_r();)$d(td)}function $d(e){var t=Yu(e.alternate,e,rd);e.memoizedProps=e.pendingProps,null===t?Wd(e):td=t,Ju.current=null}function Wd(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=xu(n,t)))return n.flags&=32767,void(td=n);if(null===e)return ad=6,void(td=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=yu(n,t,rd)))return void(td=n);if(null!==(t=t.sibling))return void(td=t);td=t=e}while(null!==t);0===ad&&(ad=5)}function qd(e,t,n){var r=qr,s=Xu.transition;try{Xu.transition=null,qr=1,function(e,t,n,r){do{Vd()}while(null!==xd);if(6&Zu)throw Error(jt(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(jt(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Rr(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}(e,a),e===ed&&(td=ed=null,nd=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||yd||(yd=!0,eh(Ar,function(){return Vd(),null})),a=!!(15990&n.flags),!!(15990&n.subtreeFlags)||a){a=Xu.transition,Xu.transition=null;var i=qr;qr=1;var o=Zu;Zu|=4,Ju.current=null,function(e,t){if(Ni=bs,Ua(e=Ba())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(v){n=null;break e}var i=0,o=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==s&&3!==d.nodeType||(o=i+s),d!==a||0!==r&&3!==d.nodeType||(l=i+r),3===d.nodeType&&(i+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===s&&(o=i),h===a&&++u===r&&(l=i),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===o||-1===l?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Si={focusedElem:e,selectionRange:n},bs=!1,Tu=t;null!==Tu;)if(e=(t=Tu).child,1028&t.subtreeFlags&&null!==e)e.return=t,Tu=e;else for(;null!==Tu;){t=Tu;try{var f=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var m=f.memoizedProps,g=f.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:Ac(t.type,m),g);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(jt(163))}}catch(v){Kd(t,t.return,v)}if(null!==(e=t.sibling)){e.return=t.return,Tu=e;break}Tu=t.return}f=Nu,Nu=!1}(e,n),Hu(n,e),Fa(Si),bs=!!Ni,Si=Ni=null,e.current=n,Gu(n),Tr(),Zu=o,qr=i,Xu.transition=a}else e.current=n;if(yd&&(yd=!1,xd=e,vd=s),a=e.pendingLanes,0===a&&(bd=null),function(e){if(Or&&"function"==typeof Or.onCommitFiberRoot)try{Or.onCommitFiberRoot(jr,e,void 0,!(128&~e.current.flags))}catch(t){}}(n.stateNode),Ad(e,wr()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(md)throw md=!1,e=gd,gd=null,e;!!(1&vd)&&0!==e.tag&&Vd(),a=e.pendingLanes,1&a?e===_d?Ed++:(Ed=0,_d=e):Ed=0,mo()}(e,t,n,r)}finally{Xu.transition=s,qr=r}return null}function Vd(){if(null!==xd){var e=Vr(vd),t=Xu.transition,n=qr;try{if(Xu.transition=null,qr=16>e?16:e,null===xd)var r=!1;else{if(e=xd,xd=null,vd=0,6&Zu)throw Error(jt(331));var s=Zu;for(Zu|=4,Tu=e.current;null!==Tu;){var a=Tu,i=a.child;if(16&Tu.flags){var o=a.deletions;if(null!==o){for(var l=0;l<o.length;l++){var c=o[l];for(Tu=c;null!==Tu;){var u=Tu;switch(u.tag){case 0:case 11:case 15:Su(8,u,a)}var d=u.child;if(null!==d)d.return=u,Tu=d;else for(;null!==Tu;){var h=(u=Tu).sibling,p=u.return;if(Iu(u),u===c){Tu=null;break}if(null!==h){h.return=p,Tu=h;break}Tu=p}}}var f=a.alternate;if(null!==f){var m=f.child;if(null!==m){f.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Tu=a}}if(2064&a.subtreeFlags&&null!==i)i.return=a,Tu=i;else e:for(;null!==Tu;){if(2048&(a=Tu).flags)switch(a.tag){case 0:case 11:case 15:Su(9,a,a.return)}var b=a.sibling;if(null!==b){b.return=a.return,Tu=b;break e}Tu=a.return}}var y=e.current;for(Tu=y;null!==Tu;){var x=(i=Tu).child;if(2064&i.subtreeFlags&&null!==x)x.return=i,Tu=x;else e:for(i=y;null!==Tu;){if(2048&(o=Tu).flags)try{switch(o.tag){case 0:case 11:case 15:Au(9,o)}}catch(E){Kd(o,o.return,E)}if(o===i){Tu=null;break e}var v=o.sibling;if(null!==v){v.return=o.return,Tu=v;break e}Tu=o.return}}if(Zu=s,mo(),Or&&"function"==typeof Or.onPostCommitFiberRoot)try{Or.onPostCommitFiberRoot(jr,e)}catch(E){}r=!0}return r}finally{qr=n,Xu.transition=t}}return!1}function Yd(e,t,n){e=hl(e,t=Bc(0,t=Dc(n,t),1),1),t=kd(),null!==e&&($r(e,1,t),Ad(e,t))}function Kd(e,t,n){if(3===e.tag)Yd(e,e,n);else for(;null!==t;){if(3===t.tag){Yd(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===bd||!bd.has(r))){t=hl(t,e=Uc(t,e=Dc(n,e),1),1),e=kd(),null!==t&&($r(t,1,e),Ad(t,e));break}}t=t.return}}function Qd(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=kd(),e.pingedLanes|=e.suspendedLanes&n,ed===e&&(nd&n)===n&&(4===ad||3===ad&&(130023424&nd)===nd&&500>wr()-hd?Md(e,0):cd|=n),Ad(e,t)}function Jd(e,t){0===t&&(1&e.mode?(t=Mr,!(130023424&(Mr<<=1))&&(Mr=4194304)):t=1);var n=kd();null!==(e=ol(e,t))&&($r(e,t,n),Ad(e,n))}function Xd(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Jd(e,n)}function Zd(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(jt(314))}null!==r&&r.delete(t),Jd(e,n)}function eh(e,t){return vr(e,t)}function th(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nh(e,t,n,r){return new th(e,t,n,r)}function rh(e){return!(!(e=e.prototype)||!e.isReactComponent)}function sh(e,t){var n=e.alternate;return null===n?((n=nh(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ah(e,t,n,r,s,a){var i=2;if(r=e,"function"==typeof e)rh(e)&&(i=1);else if("string"==typeof e)i=5;else e:switch(e){case Kt:return ih(n.children,s,a,t);case Qt:i=8,s|=8;break;case Jt:return(e=nh(12,n,t,2|s)).elementType=Jt,e.lanes=a,e;case tn:return(e=nh(13,n,t,s)).elementType=tn,e.lanes=a,e;case nn:return(e=nh(19,n,t,s)).elementType=nn,e.lanes=a,e;case an:return oh(n,s,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Xt:i=10;break e;case Zt:i=9;break e;case en:i=11;break e;case rn:i=14;break e;case sn:i=16,r=null;break e}throw Error(jt(130,null==e?e:typeof e,""))}return(t=nh(i,n,t,s)).elementType=e,t.type=r,t.lanes=a,t}function ih(e,t,n,r){return(e=nh(7,e,r,t)).lanes=n,e}function oh(e,t,n,r){return(e=nh(22,e,r,t)).elementType=an,e.lanes=n,e.stateNode={isHidden:!1},e}function lh(e,t,n){return(e=nh(6,e,null,t)).lanes=n,e}function ch(e,t,n){return(t=nh(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function uh(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gr(0),this.expirationTimes=Gr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gr(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function dh(e,t,n,r,s,a,i,o,l){return e=new uh(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=nh(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cl(a),e}function hh(e){if(!e)return Zi;e:{if(mr(e=e._reactInternals)!==e||1!==e.tag)throw Error(jt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(so(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(jt(171))}if(1===e.tag){var n=e.type;if(so(n))return oo(e,n,t)}return t}function ph(e,t,n,r,s,a,i,o,l){return(e=dh(n,r,!0,e,0,a,0,o,l)).context=hh(null),n=e.current,(a=dl(r=kd(),s=Nd(n))).callback=null!=t?t:null,hl(n,a,s),e.current.lanes=s,$r(e,s,r),Ad(e,r),e}function fh(e,t,n,r){var s=t.current,a=kd(),i=Nd(s);return n=hh(n),null===t.context?t.context=n:t.pendingContext=n,(t=dl(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=hl(s,t,i))&&(Sd(e,s,i,a),pl(e,s,i)),i}function mh(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function gh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function bh(e,t){gh(e,t),(e=e.alternate)&&gh(e,t)}Yu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||to.current)$c=!0;else{if(0===(e.lanes&n)&&!(128&t.flags))return $c=!1,function(e,t,n){switch(t.tag){case 3:eu(t),Fo();break;case 5:wl(t);break;case 1:so(t.type)&&lo(t);break;case 4:_l(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Xi(Ko,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Xi(Nl,1&Nl.current),t.flags|=128,null):0!==(n&t.child.childLanes)?lu(e,t,n):(Xi(Nl,1&Nl.current),null!==(e=mu(e,t,n))?e.sibling:null);Xi(Nl,1&Nl.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return pu(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Xi(Nl,Nl.current),r)break;return null;case 22:case 23:return t.lanes=0,Kc(e,t,n)}return mu(e,t,n)}(e,t,n);$c=!!(131072&e.flags)}else $c=!1,jo&&1048576&t.flags&&No(t,xo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;fu(e,t),e=t.pendingProps;var s=ro(t,eo.current);nl(t,n),s=zl(null,t,r,e,s,n);var a=Gl();return t.flags|=1,"object"==typeof s&&null!==s&&"function"==typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,so(r)?(a=!0,lo(t)):a=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,cl(t),s.updater=Ic,t.stateNode=s,s._reactInternals=t,Pc(t,r,e,n),t=Zc(null,t,r,!0,a,n)):(t.tag=0,jo&&a&&So(t),Wc(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(fu(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"==typeof e)return rh(e)?1:0;if(null!=e){if((e=e.$$typeof)===en)return 11;if(e===rn)return 14}return 2}(r),e=Ac(r,e),s){case 0:t=Jc(null,t,r,e,n);break e;case 1:t=Xc(null,t,r,e,n);break e;case 11:t=qc(null,t,r,e,n);break e;case 14:t=Vc(null,t,r,Ac(r.type,e),n);break e}throw Error(jt(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,Jc(e,t,r,s=t.elementType===r?s:Ac(r,s),n);case 1:return r=t.type,s=t.pendingProps,Xc(e,t,r,s=t.elementType===r?s:Ac(r,s),n);case 3:e:{if(eu(t),null===e)throw Error(jt(387));r=t.pendingProps,s=(a=t.memoizedState).element,ul(e,t),ml(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=tu(e,t,r,n,s=Dc(Error(jt(423)),t));break e}if(r!==s){t=tu(e,t,r,n,s=Dc(Error(jt(424)),t));break e}for(Io=Di(t.stateNode.containerInfo.firstChild),Co=t,jo=!0,Oo=null,n=Yo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Fo(),r===s){t=mu(e,t,n);break e}Wc(e,t,r,n)}t=t.child}return t;case 5:return wl(t),null===e&&Lo(t),r=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,i=s.children,Ai(r,s)?i=null:null!==a&&Ai(r,a)&&(t.flags|=32),Qc(e,t),Wc(e,t,i,n),t.child;case 6:return null===e&&Lo(t),null;case 13:return lu(e,t,n);case 4:return _l(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Vo(t,null,r,n):Wc(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,qc(e,t,r,s=t.elementType===r?s:Ac(r,s),n);case 7:return Wc(e,t,t.pendingProps,n),t.child;case 8:case 12:return Wc(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,Xi(Ko,r._currentValue),r._currentValue=i,null!==a)if(Ra(a.value,i)){if(a.children===s.children&&!to.current){t=mu(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var o=a.dependencies;if(null!==o){i=a.child;for(var l=o.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=dl(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),tl(a.return,n,t),o.lanes|=n;break}l=l.next}}else if(10===a.tag)i=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(i=a.return))throw Error(jt(341));i.lanes|=n,null!==(o=i.alternate)&&(o.lanes|=n),tl(i,n,t),i=a.sibling}else i=a.child;if(null!==i)i.return=a;else for(i=a;null!==i;){if(i===t){i=null;break}if(null!==(a=i.sibling)){a.return=i.return,i=a;break}i=i.return}a=i}Wc(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,nl(t,n),r=r(s=rl(s)),t.flags|=1,Wc(e,t,r,n),t.child;case 14:return s=Ac(r=t.type,t.pendingProps),Vc(e,t,r,s=Ac(r.type,s),n);case 15:return Yc(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ac(r,s),fu(e,t),t.tag=1,so(r)?(e=!0,lo(t)):e=!1,nl(t,n),Oc(t,r,s),Pc(t,r,s,n),Zc(null,t,r,!0,e,n);case 19:return pu(e,t,n);case 22:return Kc(e,t,n)}throw Error(jt(156,t.tag))};var yh="function"==typeof reportError?reportError:function(e){};function xh(e){this._internalRoot=e}function vh(e){this._internalRoot=e}function Eh(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function _h(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Th(){}function wh(e,t,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if("function"==typeof s){var o=s;s=function(){var e=mh(i);o.call(e)}}fh(t,i,e,s)}else i=function(e,t,n,r,s){if(s){if("function"==typeof r){var a=r;r=function(){var e=mh(i);a.call(e)}}var i=ph(t,r,e,0,null,!1,0,"",Th);return e._reactRootContainer=i,e[Fi]=i.current,fi(8===e.nodeType?e.parentNode:e),Dd(),i}for(;s=e.lastChild;)e.removeChild(s);if("function"==typeof r){var o=r;r=function(){var e=mh(l);o.call(e)}}var l=dh(e,0,!1,null,0,!1,0,"",Th);return e._reactRootContainer=l,e[Fi]=l.current,fi(8===e.nodeType?e.parentNode:e),Dd(function(){fh(t,l,n,r)}),l}(n,t,e,s,r);return mh(i)}vh.prototype.render=xh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(jt(409));fh(e,t,null,null)},vh.prototype.unmount=xh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Dd(function(){fh(null,e,null,null)}),t[Fi]=null}},vh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Jr();e={blockedOn:null,target:e,priority:t};for(var n=0;n<is.length&&0!==t&&t<is[n].priority;n++);is.splice(n,0,e),0===n&&us(e)}},Yr=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Br(t.pendingLanes);0!==n&&(Wr(t,1|n),Ad(t,wr()),!(6&Zu)&&(pd=wr()+500,mo()))}break;case 13:Dd(function(){var t=ol(e,1);if(null!==t){var n=kd();Sd(t,e,1,n)}}),bh(e,1)}},Kr=function(e){if(13===e.tag){var t=ol(e,134217728);if(null!==t)Sd(t,e,134217728,kd());bh(e,134217728)}},Qr=function(e){if(13===e.tag){var t=Nd(e),n=ol(e,t);if(null!==n)Sd(n,e,t,kd());bh(e,t)}},Jr=function(){return qr},Xr=function(e,t){var n=qr;try{return qr=e,t()}finally{qr=n}},Kn=function(e,t,n){switch(t){case"input":if(kn(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Vi(r);if(!s)throw Error(jt(90));vn(r),kn(r,s)}}}break;case"textarea":On(e,n);break;case"select":null!=(t=n.value)&&Cn(e,!!n.multiple,t,!1)}},tr=Pd,nr=Dd;var kh={usingClientEntryPoint:!1,Events:[Wi,qi,Vi,Zn,er,Pd]},Nh={findFiberByHostInstance:$i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sh={bundleType:Nh.bundleType,version:Nh.version,rendererPackageName:Nh.rendererPackageName,rendererConfig:Nh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=yr(e))?null:e.stateNode},findFiberByHostInstance:Nh.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{jr=Ah.inject(Sh),Or=Ah}catch(Mn){}}kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kh,kt.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Eh(t))throw Error(jt(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Yt,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},kt.createRoot=function(e,t){if(!Eh(e))throw Error(jt(299));var n=!1,r="",s=yh;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=dh(e,1,!1,null,0,n,0,r,s),e[Fi]=t.current,fi(8===e.nodeType?e.parentNode:e),new xh(t)},kt.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(jt(188));throw e=Object.keys(e).join(","),Error(jt(268,e))}return e=null===(e=yr(t))?null:e.stateNode},kt.flushSync=function(e){return Dd(e)},kt.hydrate=function(e,t,n){if(!_h(t))throw Error(jt(200));return wh(null,e,t,!0,n)},kt.hydrateRoot=function(e,t,n){if(!Eh(e))throw Error(jt(405));var r=null!=n&&n.hydratedSources||null,s=!1,a="",i=yh;if(null!=n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=ph(t,null,e,1,null!=n?n:null,s,0,a,i),e[Fi]=t.current,fi(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new vh(t)},kt.render=function(e,t,n){if(!_h(t))throw Error(jt(200));return wh(null,e,t,!1,n)},kt.unmountComponentAtNode=function(e){if(!_h(e))throw Error(jt(40));return!!e._reactRootContainer&&(Dd(function(){wh(null,null,e,!1,function(){e._reactRootContainer=null,e[Fi]=null})}),!0)},kt.unstable_batchedUpdates=Pd,kt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!_h(n))throw Error(jt(200));if(null==e||void 0===e._reactInternals)throw Error(jt(38));return wh(e,t,n,!1,r)},kt.version="18.3.1-next-f1338f8080-20240426",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),wt.exports=kt;var Ch=wt.exports,Ih=Ch;Tt.createRoot=Ih.createRoot,Tt.hydrateRoot=Ih.hydrateRoot;var jh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Oh={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Rh=new(n=class{constructor(){ve(this,e,Oh),ve(this,t,!1)}setTimeoutProvider(t){Ee(this,e,t)}setTimeout(t,n){return xe(this,e).setTimeout(t,n)}clearTimeout(t){xe(this,e).clearTimeout(t)}setInterval(t,n){return xe(this,e).setInterval(t,n)}clearInterval(t){xe(this,e).clearInterval(t)}},e=new WeakMap,t=new WeakMap,n);var Ph="undefined"==typeof window||"Deno"in globalThis;function Dh(){}function Lh(e){return"number"==typeof e&&e>=0&&e!==1/0}function Mh(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Bh(e,t){return"function"==typeof e?e(t):e}function Uh(e,t){return"function"==typeof e?e(t):e}function Fh(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:i,stale:o}=e;if(i)if(r){if(t.queryHash!==zh(i,t.options))return!1}else if(!$h(t.queryKey,i))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!=typeof o||t.isStale()===o)&&((!s||s===t.state.fetchStatus)&&!(a&&!a(t)))}function Hh(e,t){const{exact:n,status:r,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Gh(t.options.mutationKey)!==Gh(a))return!1}else if(!$h(t.options.mutationKey,a))return!1}return(!r||t.state.status===r)&&!(s&&!s(t))}function zh(e,t){return((null==t?void 0:t.queryKeyHashFn)||Gh)(e)}function Gh(e){return JSON.stringify(e,(e,t)=>Kh(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t)}function $h(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&Object.keys(t).every(n=>$h(e[n],t[n])))}var Wh=Object.prototype.hasOwnProperty;function qh(e,t){if(e===t)return e;const n=Yh(e)&&Yh(t);if(!(n||Kh(e)&&Kh(t)))return t;const r=(n?e:Object.keys(e)).length,s=n?t:Object.keys(t),a=s.length,i=n?new Array(a):{};let o=0;for(let l=0;l<a;l++){const a=n?l:s[l],c=e[a],u=t[a];if(c===u){i[a]=c,(n?l<r:Wh.call(e,a))&&o++;continue}if(null===c||null===u||"object"!=typeof c||"object"!=typeof u){i[a]=u;continue}const d=qh(c,u);i[a]=d,d===c&&o++}return r===a&&o===r?e:i}function Vh(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Yh(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Kh(e){if(!Qh(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!Qh(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function Qh(e){return"[object Object]"===Object.prototype.toString.call(e)}function Jh(e,t,n){return"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?qh(e,t):t}function Xh(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Zh(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var ep=Symbol();function tp(e,t){return!e.queryFn&&(null==t?void 0:t.initialPromise)?()=>t.initialPromise:e.queryFn&&e.queryFn!==ep?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var np=new(i=class extends jh{constructor(){super(),ve(this,r),ve(this,s),ve(this,a),Ee(this,a,e=>{if(!Ph&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){xe(this,s)||this.setEventListener(xe(this,a))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=xe(this,s))||e.call(this),Ee(this,s,void 0))}setEventListener(e){var t;Ee(this,a,e),null==(t=xe(this,s))||t.call(this),Ee(this,s,e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){xe(this,r)!==e&&(Ee(this,r,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return"boolean"==typeof xe(this,r)?xe(this,r):"hidden"!==(null==(e=globalThis.document)?void 0:e.visibilityState)}},r=new WeakMap,s=new WeakMap,a=new WeakMap,i);function rp(){let e,t;const n=new Promise((n,r)=>{e=n,t=r});function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch(()=>{}),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}var sp=function(e){setTimeout(e,0)};var ap=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},s=sp;const a=r=>{t?e.push(r):s(()=>{n(r)})};return{batch:a=>{let i;t++;try{i=a()}finally{t--,t||(()=>{const t=e;e=[],t.length&&s(()=>{r(()=>{t.forEach(e=>{n(e)})})})})()}return i},batchCalls:e=>(...t)=>{a(()=>{e(...t)})},schedule:a,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{s=e}}}(),ip=new(u=class extends jh{constructor(){super(),ve(this,o,!0),ve(this,l),ve(this,c),Ee(this,c,e=>{if(!Ph&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}})}onSubscribe(){xe(this,l)||this.setEventListener(xe(this,c))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=xe(this,l))||e.call(this),Ee(this,l,void 0))}setEventListener(e){var t;Ee(this,c,e),null==(t=xe(this,l))||t.call(this),Ee(this,l,e(this.setOnline.bind(this)))}setOnline(e){xe(this,o)!==e&&(Ee(this,o,e),this.listeners.forEach(t=>{t(e)}))}isOnline(){return xe(this,o)}},o=new WeakMap,l=new WeakMap,c=new WeakMap,u);function op(e){return Math.min(1e3*2**e,3e4)}function lp(e){return"online"!==(e??"online")||ip.isOnline()}var cp=class extends Error{constructor(e){super("CancelledError"),this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}};function up(e){let t,n=!1,r=0;const s=rp(),a=()=>"pending"!==s.status,i=()=>np.isFocused()&&("always"===e.networkMode||ip.isOnline())&&e.canRun(),o=()=>lp(e.networkMode)&&e.canRun(),l=e=>{a()||(null==t||t(),s.resolve(e))},c=e=>{a()||(null==t||t(),s.reject(e))},u=()=>new Promise(n=>{var r;t=e=>{(a()||i())&&n(e)},null==(r=e.onPause)||r.call(e)}).then(()=>{var n;t=void 0,a()||null==(n=e.onContinue)||n.call(e)}),d=()=>{if(a())return;let t;const s=0===r?e.initialPromise:void 0;try{t=s??e.fn()}catch(o){t=Promise.reject(o)}Promise.resolve(t).then(l).catch(t=>{var s;if(a())return;const o=e.retry??(Ph?0:3),l=e.retryDelay??op,h="function"==typeof l?l(r,t):l,p=!0===o||"number"==typeof o&&r<o||"function"==typeof o&&o(r,t);var f;!n&&p?(r++,null==(s=e.onFail)||s.call(e,r,t),(f=h,new Promise(e=>{Rh.setTimeout(e,f)})).then(()=>i()?void 0:u()).then(()=>{n?c(t):d()})):c(t)})};return{promise:s,status:()=>s.status,cancel:t=>{var n;if(!a()){const r=new cp(t);c(r),null==(n=e.onCancel)||n.call(e,r)}},continue:()=>(null==t||t(),s),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:o,start:()=>(o()?d():u().then(d),s)}}var dp=(h=class{constructor(){ve(this,d)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Lh(this.gcTime)&&Ee(this,d,Rh.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ph?1/0:3e5))}clearGcTimeout(){xe(this,d)&&(Rh.clearTimeout(xe(this,d)),Ee(this,d,void 0))}},d=new WeakMap,h),hp=(_=class extends dp{constructor(e){super(),ve(this,v),ve(this,p),ve(this,f),ve(this,m),ve(this,g),ve(this,b),ve(this,y),ve(this,x),Ee(this,x,!1),Ee(this,y,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ee(this,g,e.client),Ee(this,m,xe(this,g).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ee(this,p,fp(this.options)),this.state=e.state??xe(this,p),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return null==(e=xe(this,b))?void 0:e.promise}setOptions(e){if(this.options={...xe(this,y),...e},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){const e=fp(this.options);void 0!==e.data&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),Ee(this,p,e))}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||xe(this,m).remove(this)}setData(e,t){const n=Jh(this.state.data,e,this.options);return _e(this,v,E).call(this,{data:n,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),n}setState(e,t){_e(this,v,E).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,n;const r=null==(t=xe(this,b))?void 0:t.promise;return null==(n=xe(this,b))||n.cancel(e),r?r.then(Dh).catch(Dh):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(xe(this,p))}isActive(){return this.observers.some(e=>!1!==Uh(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ep||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===Bh(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!Mh(this.state.dataUpdatedAt,e))}onFocus(){var e;const t=this.observers.find(e=>e.shouldFetchOnWindowFocus());null==t||t.refetch({cancelRefetch:!1}),null==(e=xe(this,b))||e.continue()}onOnline(){var e;const t=this.observers.find(e=>e.shouldFetchOnReconnect());null==t||t.refetch({cancelRefetch:!1}),null==(e=xe(this,b))||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),xe(this,m).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(xe(this,b)&&(xe(this,x)?xe(this,b).cancel({revert:!0}):xe(this,b).cancelRetry()),this.scheduleGc()),xe(this,m).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_e(this,v,E).call(this,{type:"invalidate"})}async fetch(e,t){var n,r,s,a,i,o,l,c,u,d,h,p;if("idle"!==this.state.fetchStatus&&"rejected"!==(null==(n=xe(this,b))?void 0:n.status()))if(void 0!==this.state.data&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(xe(this,b))return xe(this,b).continueRetry(),xe(this,b).promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const y=new AbortController,_=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(Ee(this,x,!0),y.signal)})},T=()=>{const e=tp(this.options,t),n=(()=>{const e={client:xe(this,g),queryKey:this.queryKey,meta:this.meta};return _(e),e})();return Ee(this,x,!1),this.options.persister?this.options.persister(e,n,this):e(n)},w=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:xe(this,g),state:this.state,fetchFn:T};return _(e),e})();null==(r=this.options.behavior)||r.onFetch(w,this),Ee(this,f,this.state),"idle"!==this.state.fetchStatus&&this.state.fetchMeta===(null==(s=w.fetchOptions)?void 0:s.meta)||_e(this,v,E).call(this,{type:"fetch",meta:null==(a=w.fetchOptions)?void 0:a.meta}),Ee(this,b,up({initialPromise:null==t?void 0:t.initialPromise,fn:w.fetchFn,onCancel:e=>{e instanceof cp&&e.revert&&this.setState({...xe(this,f),fetchStatus:"idle"}),y.abort()},onFail:(e,t)=>{_e(this,v,E).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{_e(this,v,E).call(this,{type:"pause"})},onContinue:()=>{_e(this,v,E).call(this,{type:"continue"})},retry:w.options.retry,retryDelay:w.options.retryDelay,networkMode:w.options.networkMode,canRun:()=>!0}));try{const e=await xe(this,b).start();if(void 0===e)throw new Error(`${this.queryHash} data is undefined`);return this.setData(e),null==(o=(i=xe(this,m).config).onSuccess)||o.call(i,e,this),null==(c=(l=xe(this,m).config).onSettled)||c.call(l,e,this.state.error,this),e}catch(k){if(k instanceof cp){if(k.silent)return xe(this,b).promise;if(k.revert){if(void 0===this.state.data)throw k;return this.state.data}}throw _e(this,v,E).call(this,{type:"error",error:k}),null==(d=(u=xe(this,m).config).onError)||d.call(u,k,this),null==(p=(h=xe(this,m).config).onSettled)||p.call(h,this.state.data,k,this),k}finally{this.scheduleGc()}}},p=new WeakMap,f=new WeakMap,m=new WeakMap,g=new WeakMap,b=new WeakMap,y=new WeakMap,x=new WeakMap,v=new WeakSet,E=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...pp(t.data,this.options),fetchMeta:e.meta??null};case"success":const n={...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ee(this,f,e.manual?n:void 0),n;case"error":const r=e.error;return{...t,error:r,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),ap.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),xe(this,m).notify({query:this,type:"updated",action:e})})},_);function pp(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:lp(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}function fp(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var mp=(Y=class extends jh{constructor(e,t){super(),ve(this,B),ve(this,T),ve(this,w),ve(this,k),ve(this,N),ve(this,S),ve(this,A),ve(this,C),ve(this,I),ve(this,j),ve(this,O),ve(this,R),ve(this,P),ve(this,D),ve(this,L),ve(this,M,new Set),this.options=t,Ee(this,T,e),Ee(this,I,null),Ee(this,C,rp()),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(xe(this,w).addObserver(this),gp(xe(this,w),this.options)?_e(this,B,U).call(this):this.updateResult(),_e(this,B,G).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return bp(xe(this,w),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return bp(xe(this,w),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,_e(this,B,$).call(this),_e(this,B,W).call(this),xe(this,w).removeObserver(this)}setOptions(e){const t=this.options,n=xe(this,w);if(this.options=xe(this,T).defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof Uh(this.options.enabled,xe(this,w)))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");_e(this,B,q).call(this),xe(this,w).setOptions(this.options),t._defaulted&&!Vh(this.options,t)&&xe(this,T).getQueryCache().notify({type:"observerOptionsUpdated",query:xe(this,w),observer:this});const r=this.hasListeners();r&&yp(xe(this,w),n,this.options,t)&&_e(this,B,U).call(this),this.updateResult(),!r||xe(this,w)===n&&Uh(this.options.enabled,xe(this,w))===Uh(t.enabled,xe(this,w))&&Bh(this.options.staleTime,xe(this,w))===Bh(t.staleTime,xe(this,w))||_e(this,B,F).call(this);const s=_e(this,B,H).call(this);!r||xe(this,w)===n&&Uh(this.options.enabled,xe(this,w))===Uh(t.enabled,xe(this,w))&&s===xe(this,L)||_e(this,B,z).call(this,s)}getOptimisticResult(e){const t=xe(this,T).getQueryCache().build(xe(this,T),e),n=this.createResult(t,e);return function(e,t){if(!Vh(e.getCurrentResult(),t))return!0;return!1}(this,n)&&(Ee(this,N,n),Ee(this,A,this.options),Ee(this,S,xe(this,w).state)),n}getCurrentResult(){return xe(this,N)}trackResult(e,t){return new Proxy(e,{get:(e,n)=>(this.trackProp(n),null==t||t(n),"promise"===n&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==xe(this,C).status||xe(this,C).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,n))})}trackProp(e){xe(this,M).add(e)}getCurrentQuery(){return xe(this,w)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=xe(this,T).defaultQueryOptions(e),n=xe(this,T).getQueryCache().build(xe(this,T),t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return _e(this,B,U).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),xe(this,N)))}createResult(e,t){var n;const r=xe(this,w),s=this.options,a=xe(this,N),i=xe(this,S),o=xe(this,A),l=e!==r?e.state:xe(this,k),{state:c}=e;let u,d={...c},h=!1;if(t._optimisticResults){const n=this.hasListeners(),a=!n&&gp(e,t),i=n&&yp(e,r,t,s);(a||i)&&(d={...d,...pp(c.data,e.options)}),"isRestoring"===t._optimisticResults&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:f,status:m}=d;u=d.data;let g=!1;if(void 0!==t.placeholderData&&void 0===u&&"pending"===m){let e;(null==a?void 0:a.isPlaceholderData)&&t.placeholderData===(null==o?void 0:o.placeholderData)?(e=a.data,g=!0):e="function"==typeof t.placeholderData?t.placeholderData(null==(n=xe(this,R))?void 0:n.state.data,xe(this,R)):t.placeholderData,void 0!==e&&(m="success",u=Jh(null==a?void 0:a.data,e,t),h=!0)}if(t.select&&void 0!==u&&!g)if(a&&u===(null==i?void 0:i.data)&&t.select===xe(this,j))u=xe(this,O);else try{Ee(this,j,t.select),u=t.select(u),u=Jh(null==a?void 0:a.data,u,t),Ee(this,O,u),Ee(this,I,null)}catch(T){Ee(this,I,T)}xe(this,I)&&(p=xe(this,I),u=xe(this,O),f=Date.now(),m="error");const b="fetching"===d.fetchStatus,y="pending"===m,x="error"===m,v=y&&b,E=void 0!==u,_={status:m,fetchStatus:d.fetchStatus,isPending:y,isSuccess:"success"===m,isError:x,isInitialLoading:v,isLoading:v,data:u,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:f,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:b,isRefetching:b&&!y,isLoadingError:x&&!E,isPaused:"paused"===d.fetchStatus,isPlaceholderData:h,isRefetchError:x&&E,isStale:xp(e,t),refetch:this.refetch,promise:xe(this,C),isEnabled:!1!==Uh(t.enabled,e)};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===_.status?e.reject(_.error):void 0!==_.data&&e.resolve(_.data)},n=()=>{const e=Ee(this,C,_.promise=rp());t(e)},s=xe(this,C);switch(s.status){case"pending":e.queryHash===r.queryHash&&t(s);break;case"fulfilled":"error"!==_.status&&_.data===s.value||n();break;case"rejected":"error"===_.status&&_.error===s.reason||n()}}return _}updateResult(){const e=xe(this,N),t=this.createResult(xe(this,w),this.options);if(Ee(this,S,xe(this,w).state),Ee(this,A,this.options),void 0!==xe(this,S).data&&Ee(this,R,xe(this,w)),Vh(t,e))return;Ee(this,N,t);_e(this,B,V).call(this,{listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,n="function"==typeof t?t():t;if("all"===n||!n&&!xe(this,M).size)return!0;const r=new Set(n??xe(this,M));return this.options.throwOnError&&r.add("error"),Object.keys(xe(this,N)).some(t=>{const n=t;return xe(this,N)[n]!==e[n]&&r.has(n)})})()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&_e(this,B,G).call(this)}},T=new WeakMap,w=new WeakMap,k=new WeakMap,N=new WeakMap,S=new WeakMap,A=new WeakMap,C=new WeakMap,I=new WeakMap,j=new WeakMap,O=new WeakMap,R=new WeakMap,P=new WeakMap,D=new WeakMap,L=new WeakMap,M=new WeakMap,B=new WeakSet,U=function(e){_e(this,B,q).call(this);let t=xe(this,w).fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(Dh)),t},F=function(){_e(this,B,$).call(this);const e=Bh(this.options.staleTime,xe(this,w));if(Ph||xe(this,N).isStale||!Lh(e))return;const t=Mh(xe(this,N).dataUpdatedAt,e)+1;Ee(this,P,Rh.setTimeout(()=>{xe(this,N).isStale||this.updateResult()},t))},H=function(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(xe(this,w)):this.options.refetchInterval)??!1},z=function(e){_e(this,B,W).call(this),Ee(this,L,e),!Ph&&!1!==Uh(this.options.enabled,xe(this,w))&&Lh(xe(this,L))&&0!==xe(this,L)&&Ee(this,D,Rh.setInterval(()=>{(this.options.refetchIntervalInBackground||np.isFocused())&&_e(this,B,U).call(this)},xe(this,L)))},G=function(){_e(this,B,F).call(this),_e(this,B,z).call(this,_e(this,B,H).call(this))},$=function(){xe(this,P)&&(Rh.clearTimeout(xe(this,P)),Ee(this,P,void 0))},W=function(){xe(this,D)&&(Rh.clearInterval(xe(this,D)),Ee(this,D,void 0))},q=function(){const e=xe(this,T).getQueryCache().build(xe(this,T),this.options);if(e===xe(this,w))return;const t=xe(this,w);Ee(this,w,e),Ee(this,k,e.state),this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))},V=function(e){ap.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(xe(this,N))}),xe(this,T).getQueryCache().notify({query:xe(this,w),type:"observerResultsUpdated"})})},Y);function gp(e,t){return function(e,t){return!1!==Uh(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&bp(e,t,t.refetchOnMount)}function bp(e,t,n){if(!1!==Uh(t.enabled,e)&&"static"!==Bh(t.staleTime,e)){const r="function"==typeof n?n(e):n;return"always"===r||!1!==r&&xp(e,t)}return!1}function yp(e,t,n,r){return(e!==t||!1===Uh(r.enabled,e))&&(!n.suspense||"error"!==e.state.status)&&xp(e,n)}function xp(e,t){return!1!==Uh(t.enabled,e)&&e.isStaleByTime(Bh(t.staleTime,e))}function vp(e){return{onFetch:(t,n)=>{var r,s,a,i,o;const l=t.options,c=null==(a=null==(s=null==(r=t.fetchOptions)?void 0:r.meta)?void 0:s.fetchMore)?void 0:a.direction,u=(null==(i=t.state.data)?void 0:i.pages)||[],d=(null==(o=t.state.data)?void 0:o.pageParams)||[];let h={pages:[],pageParams:[]},p=0;const f=async()=>{let n=!1;const r=tp(t.options,t.fetchOptions),s=async(e,s,a)=>{if(n)return Promise.reject();if(null==s&&e.pages.length)return Promise.resolve(e);const i=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:s,direction:a?"backward":"forward",meta:t.options.meta};var r;return r=e,Object.defineProperty(r,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",()=>{n=!0}),t.signal)}),e})(),o=await r(i),{maxPages:l}=t.options,c=a?Zh:Xh;return{pages:c(e.pages,o,l),pageParams:c(e.pageParams,s,l)}};if(c&&u.length){const e="backward"===c,t={pages:u,pageParams:d},n=(e?_p:Ep)(l,t);h=await s(t,n,e)}else{const t=e??u.length;do{const e=0===p?d[0]??l.initialPageParam:Ep(l,h);if(p>0&&null==e)break;h=await s(h,e),p++}while(p<t)}return h};t.options.persister?t.fetchFn=()=>{var e,r;return null==(r=(e=t.options).persister)?void 0:r.call(e,f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=f}}}function Ep(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function _p(e,{pages:t,pageParams:n}){var r;return t.length>0?null==(r=e.getPreviousPageParam)?void 0:r.call(e,t[0],t,n[0],n):void 0}var Tp=(te=class extends dp{constructor(e){super(),ve(this,Z),ve(this,K),ve(this,Q),ve(this,J),ve(this,X),Ee(this,K,e.client),this.mutationId=e.mutationId,Ee(this,J,e.mutationCache),Ee(this,Q,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){xe(this,Q).includes(e)||(xe(this,Q).push(e),this.clearGcTimeout(),xe(this,J).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ee(this,Q,xe(this,Q).filter(t=>t!==e)),this.scheduleGc(),xe(this,J).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){xe(this,Q).length||("pending"===this.state.status?this.scheduleGc():xe(this,J).remove(this))}continue(){var e;return(null==(e=xe(this,X))?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var t,n,r,s,a,i,o,l,c,u,d,h,p,f,m,g,b,y,x,v;const E=()=>{_e(this,Z,ee).call(this,{type:"continue"})},_={client:xe(this,K),meta:this.options.meta,mutationKey:this.options.mutationKey};Ee(this,X,up({fn:()=>this.options.mutationFn?this.options.mutationFn(e,_):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{_e(this,Z,ee).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{_e(this,Z,ee).call(this,{type:"pause"})},onContinue:E,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>xe(this,J).canRun(this)}));const T="pending"===this.state.status,w=!xe(this,X).canStart();try{if(T)E();else{_e(this,Z,ee).call(this,{type:"pending",variables:e,isPaused:w}),await(null==(n=(t=xe(this,J).config).onMutate)?void 0:n.call(t,e,this,_));const a=await(null==(s=(r=this.options).onMutate)?void 0:s.call(r,e,_));a!==this.state.context&&_e(this,Z,ee).call(this,{type:"pending",context:a,variables:e,isPaused:w})}const p=await xe(this,X).start();return await(null==(i=(a=xe(this,J).config).onSuccess)?void 0:i.call(a,p,e,this.state.context,this,_)),await(null==(l=(o=this.options).onSuccess)?void 0:l.call(o,p,e,this.state.context,_)),await(null==(u=(c=xe(this,J).config).onSettled)?void 0:u.call(c,p,null,this.state.variables,this.state.context,this,_)),await(null==(h=(d=this.options).onSettled)?void 0:h.call(d,p,null,e,this.state.context,_)),_e(this,Z,ee).call(this,{type:"success",data:p}),p}catch(k){try{throw await(null==(f=(p=xe(this,J).config).onError)?void 0:f.call(p,k,e,this.state.context,this,_)),await(null==(g=(m=this.options).onError)?void 0:g.call(m,k,e,this.state.context,_)),await(null==(y=(b=xe(this,J).config).onSettled)?void 0:y.call(b,void 0,k,this.state.variables,this.state.context,this,_)),await(null==(v=(x=this.options).onSettled)?void 0:v.call(x,void 0,k,e,this.state.context,_)),k}finally{_e(this,Z,ee).call(this,{type:"error",error:k})}}finally{xe(this,J).runNext(this)}}},K=new WeakMap,Q=new WeakMap,J=new WeakMap,X=new WeakMap,Z=new WeakSet,ee=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),ap.batch(()=>{xe(this,Q).forEach(t=>{t.onMutationUpdate(e)}),xe(this,J).notify({mutation:this,type:"updated",action:e})})},te);var wp=(ae=class extends jh{constructor(e={}){super(),ve(this,ne),ve(this,re),ve(this,se),this.config=e,Ee(this,ne,new Set),Ee(this,re,new Map),Ee(this,se,0)}build(e,t,n){const r=new Tp({client:e,mutationCache:this,mutationId:++Te(this,se)._,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){xe(this,ne).add(e);const t=kp(e);if("string"==typeof t){const n=xe(this,re).get(t);n?n.push(e):xe(this,re).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(xe(this,ne).delete(e)){const t=kp(e);if("string"==typeof t){const n=xe(this,re).get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&xe(this,re).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=kp(e);if("string"==typeof t){const n=xe(this,re).get(t),r=null==n?void 0:n.find(e=>"pending"===e.state.status);return!r||r===e}return!0}runNext(e){var t;const n=kp(e);if("string"==typeof n){const r=null==(t=xe(this,re).get(n))?void 0:t.find(t=>t!==e&&t.state.isPaused);return(null==r?void 0:r.continue())??Promise.resolve()}return Promise.resolve()}clear(){ap.batch(()=>{xe(this,ne).forEach(e=>{this.notify({type:"removed",mutation:e})}),xe(this,ne).clear(),xe(this,re).clear()})}getAll(){return Array.from(xe(this,ne))}find(e){const t={exact:!0,...e};return this.getAll().find(e=>Hh(t,e))}findAll(e={}){return this.getAll().filter(t=>Hh(e,t))}notify(e){ap.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return ap.batch(()=>Promise.all(e.map(e=>e.continue().catch(Dh))))}},ne=new WeakMap,re=new WeakMap,se=new WeakMap,ae);function kp(e){var t;return null==(t=e.options.scope)?void 0:t.id}var Np=(oe=class extends jh{constructor(e={}){super(),ve(this,ie),this.config=e,Ee(this,ie,new Map)}build(e,t,n){const r=t.queryKey,s=t.queryHash??zh(r,t);let a=this.get(s);return a||(a=new hp({client:e,queryKey:r,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){xe(this,ie).has(e.queryHash)||(xe(this,ie).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=xe(this,ie).get(e.queryHash);t&&(e.destroy(),t===e&&xe(this,ie).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ap.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return xe(this,ie).get(e)}getAll(){return[...xe(this,ie).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(e=>Fh(t,e))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(t=>Fh(e,t)):t}notify(e){ap.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){ap.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ap.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ie=new WeakMap,oe),Sp=(ge=class{constructor(e={}){ve(this,le),ve(this,ce),ve(this,ue),ve(this,de),ve(this,he),ve(this,pe),ve(this,fe),ve(this,me),Ee(this,le,e.queryCache||new Np),Ee(this,ce,e.mutationCache||new wp),Ee(this,ue,e.defaultOptions||{}),Ee(this,de,new Map),Ee(this,he,new Map),Ee(this,pe,0)}mount(){Te(this,pe)._++,1===xe(this,pe)&&(Ee(this,fe,np.subscribe(async e=>{e&&(await this.resumePausedMutations(),xe(this,le).onFocus())})),Ee(this,me,ip.subscribe(async e=>{e&&(await this.resumePausedMutations(),xe(this,le).onOnline())})))}unmount(){var e,t;Te(this,pe)._--,0===xe(this,pe)&&(null==(e=xe(this,fe))||e.call(this),Ee(this,fe,void 0),null==(t=xe(this,me))||t.call(this),Ee(this,me,void 0))}isFetching(e){return xe(this,le).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return xe(this,ce).findAll({...e,status:"pending"}).length}getQueryData(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null==(t=xe(this,le).get(n.queryHash))?void 0:t.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=xe(this,le).build(this,t),r=n.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Bh(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return xe(this,le).findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=xe(this,le).get(r.queryHash),a=function(e,t){return"function"==typeof e?e(t):e}(t,null==s?void 0:s.state.data);if(void 0!==a)return xe(this,le).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return ap.batch(()=>xe(this,le).findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,n)]))}getQueryState(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null==(t=xe(this,le).get(n.queryHash))?void 0:t.state}removeQueries(e){const t=xe(this,le);ap.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){const n=xe(this,le);return ap.batch(()=>(n.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=ap.batch(()=>xe(this,le).findAll(e).map(e=>e.cancel(n)));return Promise.all(r).then(Dh).catch(Dh)}invalidateQueries(e,t={}){return ap.batch(()=>(xe(this,le).findAll(e).forEach(e=>{e.invalidate()}),"none"===(null==e?void 0:e.refetchType)?Promise.resolve():this.refetchQueries({...e,type:(null==e?void 0:e.refetchType)??(null==e?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=ap.batch(()=>xe(this,le).findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(Dh)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(r).then(Dh)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=xe(this,le).build(this,t);return n.isStaleByTime(Bh(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Dh).catch(Dh)}fetchInfiniteQuery(e){return e.behavior=vp(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Dh).catch(Dh)}ensureInfiniteQueryData(e){return e.behavior=vp(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ip.isOnline()?xe(this,ce).resumePausedMutations():Promise.resolve()}getQueryCache(){return xe(this,le)}getMutationCache(){return xe(this,ce)}getDefaultOptions(){return xe(this,ue)}setDefaultOptions(e){Ee(this,ue,e)}setQueryDefaults(e,t){xe(this,de).set(Gh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...xe(this,de).values()],n={};return t.forEach(t=>{$h(e,t.queryKey)&&Object.assign(n,t.defaultOptions)}),n}setMutationDefaults(e,t){xe(this,he).set(Gh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...xe(this,he).values()],n={};return t.forEach(t=>{$h(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...xe(this,ue).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=zh(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ep&&(t.enabled=!1),t}defaultMutationOptions(e){return(null==e?void 0:e._defaulted)?e:{...xe(this,ue).mutations,...(null==e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){xe(this,le).clear(),xe(this,ce).clear()}},le=new WeakMap,ce=new WeakMap,ue=new WeakMap,de=new WeakMap,he=new WeakMap,pe=new WeakMap,fe=new WeakMap,me=new WeakMap,ge),Ap=ht.createContext(void 0),Cp=({client:e,children:t})=>(ht.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),_t.jsx(Ap.Provider,{value:e,children:t})),Ip=ht.createContext(!1);Ip.Provider;var jp,Op,Rp=ht.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),Pp=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Dp(e,t,n){var r,s,a,i,o;const l=ht.useContext(Ip),c=ht.useContext(Rp),u=(()=>{const e=ht.useContext(Ap);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e})(),d=u.defaultQueryOptions(e);null==(s=null==(r=u.getDefaultOptions().queries)?void 0:r._experimental_beforeQuery)||s.call(r,d),d._optimisticResults=l?"isRestoring":"optimistic",(e=>{if(e.suspense){const t=1e3,n=e=>"static"===e?e:Math.max(e??t,t),r=e.staleTime;e.staleTime="function"==typeof r?(...e)=>n(r(...e)):n(r),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,t))}})(d),((e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))})(d,c),(e=>{ht.useEffect(()=>{e.clearReset()},[e])})(c);const h=!u.getQueryCache().get(d.queryHash),[p]=ht.useState(()=>new t(u,d)),f=p.getOptimisticResult(d),m=!l&&!1!==e.subscribed;if(ht.useSyncExternalStore(ht.useCallback(e=>{const t=m?p.subscribe(ap.batchCalls(e)):Dh;return p.updateResult(),t},[p,m]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),ht.useEffect(()=>{p.setOptions(d)},[d,p]),((e,t)=>(null==e?void 0:e.suspense)&&t.isPending)(d,f))throw Pp(d,p,c);if((({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&void 0===e.data||function(e,t){return"function"==typeof e?e(...t):!!e}(n,[e.error,r])))({result:f,errorResetBoundary:c,throwOnError:d.throwOnError,query:u.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw f.error;if(null==(i=null==(a=u.getDefaultOptions().queries)?void 0:a._experimental_afterQuery)||i.call(a,d,f),d.experimental_prefetchInRender&&!Ph&&((e,t)=>e.isLoading&&e.isFetching&&!t)(f,l)){const e=h?Pp(d,p,c):null==(o=u.getQueryCache().get(d.queryHash))?void 0:o.promise;null==e||e.catch(Dh).finally(()=>{p.updateResult()})}return d.notifyOnChangeProps?f:p.trackResult(f)}function Lp(e,t){return Dp(e,mp)}
/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mp(){return Mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mp.apply(this,arguments)}(Op=jp||(jp={})).Pop="POP",Op.Push="PUSH",Op.Replace="REPLACE";const Bp="popstate";function Up(e){return void 0===e&&(e={}),function(e,t,n,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,i=s.history,o=jp.Pop,l=null,c=u();null==c&&(c=0,i.replaceState(Mp({},i.state,{idx:c}),""));function u(){return(i.state||{idx:null}).idx}function d(){o=jp.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:o,location:m.location,delta:t})}function h(e,t){o=jp.Push;let n=Gp(m.location,e,t);c=u()+1;let r=zp(n,c),d=m.createHref(n);try{i.pushState(r,"",d)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;s.location.assign(d)}a&&l&&l({action:o,location:m.location,delta:1})}function p(e,t){o=jp.Replace;let n=Gp(m.location,e,t);c=u();let r=zp(n,c),s=m.createHref(n);i.replaceState(r,"",s),a&&l&&l({action:o,location:m.location,delta:0})}function f(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"==typeof e?e:$p(e);return n=n.replace(/ $/,"%20"),Fp(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}let m={get action(){return o},get location(){return e(s,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Bp,d),l=e,()=>{s.removeEventListener(Bp,d),l=null}},createHref:e=>t(s,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:p,go:e=>i.go(e)};return m}(function(e,t){let{pathname:n,search:r,hash:s}=e.location;return Gp("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:$p(t)},0,e)}function Fp(e,t){if(!1===e||null==e)throw new Error(t)}function Hp(e,t){if(!e)try{throw new Error(t)}catch(Rm){}}function zp(e,t){return{usr:e.state,key:e.key,idx:t}}function Gp(e,t,n,r){return void 0===n&&(n=null),Mp({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?Wp(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function $p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function Wp(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var qp,Vp;function Yp(e,t,n){return void 0===n&&(n="/"),function(e,t,n){let r="string"==typeof t?Wp(t):t,s=cf(r.pathname||"/",n);if(null==s)return null;let a=Kp(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let i=null;for(let o=0;null==i&&o<a.length;++o){let e=lf(s);i=af(a[o],e)}return i}(e,t,n)}function Kp(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let s=(e,s,a)=>{let i={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};i.relativePath.startsWith("/")&&(Fp(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let o=pf([r,i.relativePath]),l=n.concat(i);e.children&&e.children.length>0&&(Fp(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),Kp(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:sf(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of Qp(e.path))s(e,t,r);else s(e,t)}),t}function Qp(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return s?[a,""]:[a];let i=Qp(r.join("/")),o=[];return o.push(...i.map(e=>""===e?a:[a,e].join("/"))),s&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}(Vp=qp||(qp={})).data="data",Vp.deferred="deferred",Vp.redirect="redirect",Vp.error="error";const Jp=/^:[\w-]+$/,Xp=3,Zp=2,ef=1,tf=10,nf=-2,rf=e=>"*"===e;function sf(e,t){let n=e.split("/"),r=n.length;return n.some(rf)&&(r+=nf),t&&(r+=Zp),n.filter(e=>!rf(e)).reduce((e,t)=>e+(Jp.test(t)?Xp:""===t?ef:tf),r)}function af(e,t,n){let{routesMeta:r}=e,s={},a="/",i=[];for(let o=0;o<r.length;++o){let e=r[o],n=o===r.length-1,l="/"===a?t:t.slice(a.length)||"/",c=of({path:e.relativePath,caseSensitive:e.caseSensitive,end:n},l),u=e.route;if(!c)return null;Object.assign(s,c.params),i.push({params:s,pathname:pf([a,c.pathname]),pathnameBase:ff(pf([a,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(a=pf([a,c.pathnameBase]))}return i}function of(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Hp("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let a=new RegExp(s,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=o[n]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:i,pattern:e}}function lf(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return Hp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function cf(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function uf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function df(e,t){let n=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function hf(e,t,n,r){let s;void 0===r&&(r=!1),"string"==typeof e?s=Wp(e):(s=Mp({},e),Fp(!s.pathname||!s.pathname.includes("?"),uf("?","pathname","search",s)),Fp(!s.pathname||!s.pathname.includes("#"),uf("#","pathname","hash",s)),Fp(!s.search||!s.search.includes("#"),uf("#","search","hash",s)));let a,i=""===e||""===s.pathname,o=i?"/":s.pathname;if(null==o)a=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:s=""}="string"==typeof e?Wp(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:mf(r),hash:gf(s)}}(s,a),c=o&&"/"!==o&&o.endsWith("/"),u=(i||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const pf=e=>e.join("/").replace(/\/\/+/g,"/"),ff=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mf=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",gf=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";const bf=["post","put","patch","delete"];new Set(bf);const yf=["get",...bf];
/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function xf(){return xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xf.apply(this,arguments)}new Set(yf);const vf=ht.createContext(null),Ef=ht.createContext(null),_f=ht.createContext(null),Tf=ht.createContext(null),wf=ht.createContext({outlet:null,matches:[],isDataRoute:!1}),kf=ht.createContext(null);function Nf(){return null!=ht.useContext(Tf)}function Sf(){return Nf()||Fp(!1),ht.useContext(Tf).location}function Af(e){ht.useContext(_f).static||ht.useLayoutEffect(e)}function Cf(){let{isDataRoute:e}=ht.useContext(wf);return e?function(){let{router:e}=function(){let e=ht.useContext(vf);return e||Fp(!1),e}(Lf.UseNavigateStable),t=Bf(Mf.UseNavigateStable),n=ht.useRef(!1);return Af(()=>{n.current=!0}),ht.useCallback(function(r,s){void 0===s&&(s={}),n.current&&("number"==typeof r?e.navigate(r):e.navigate(r,xf({fromRouteId:t},s)))},[e,t])}():function(){Nf()||Fp(!1);let e=ht.useContext(vf),{basename:t,future:n,navigator:r}=ht.useContext(_f),{matches:s}=ht.useContext(wf),{pathname:a}=Sf(),i=JSON.stringify(df(s,n.v7_relativeSplatPath)),o=ht.useRef(!1);return Af(()=>{o.current=!0}),ht.useCallback(function(n,s){if(void 0===s&&(s={}),!o.current)return;if("number"==typeof n)return void r.go(n);let l=hf(n,JSON.parse(i),a,"path"===s.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:pf([t,l.pathname])),(s.replace?r.replace:r.push)(l,s.state,s)},[t,r,i,a,e])}()}function If(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=ht.useContext(_f),{matches:s}=ht.useContext(wf),{pathname:a}=Sf(),i=JSON.stringify(df(s,r.v7_relativeSplatPath));return ht.useMemo(()=>hf(e,JSON.parse(i),a,"path"===n),[e,i,a,n])}function jf(e,t){return function(e,t,n,r){Nf()||Fp(!1);let{navigator:s}=ht.useContext(_f),{matches:a}=ht.useContext(wf),i=a[a.length-1],o=i?i.params:{};!i||i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c,u=Sf();if(t){var d;let e="string"==typeof t?Wp(t):t;"/"===l||(null==(d=e.pathname)?void 0:d.startsWith(l))||Fp(!1),c=e}else c=u;let h=c.pathname||"/",p=h;if("/"!==l){let e=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(e.length).join("/")}let f=Yp(e,{pathname:p}),m=function(e,t,n,r){var s;void 0===t&&(t=[]);void 0===n&&(n=null);void 0===r&&(r=null);if(null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let i=e,o=null==(s=n)?void 0:s.errors;if(null!=o){let e=i.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||Fp(!1),i=i.slice(0,Math.min(i.length,e+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<i.length;u++){let e=i[u];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=u),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){l=!0,i=c>=0?i.slice(0,c+1):[i[0]];break}}}return i.reduceRight((e,r,s)=>{let a,u=!1,d=null,h=null;var p;n&&(a=o&&r.route.id?o[r.route.id]:void 0,d=r.route.errorElement||Rf,l&&(c<0&&0===s?(Uf[p="route-fallback"]||(Uf[p]=!0),u=!0,h=null):c===s&&(u=!0,h=r.route.hydrateFallbackElement||null)));let f=t.concat(i.slice(0,s+1)),m=()=>{let t;return t=a?d:u?h:r.route.Component?ht.createElement(r.route.Component,null):r.route.element?r.route.element:e,ht.createElement(Df,{match:r,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?ht.createElement(Pf,{location:n.location,revalidation:n.revalidation,component:d,error:a,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()},null)}(f&&f.map(e=>Object.assign({},e,{params:Object.assign({},o,e.params),pathname:pf([l,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:pf([l,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,n,r);if(t&&m)return ht.createElement(Tf.Provider,{value:{location:xf({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:jp.Pop}},m);return m}(e,t)}function Of(){let e=function(){var e;let t=ht.useContext(kf),n=function(){let e=ht.useContext(Ef);return e||Fp(!1),e}(),r=Bf();if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ht.createElement(ht.Fragment,null,ht.createElement("h2",null,"Unexpected Application Error!"),ht.createElement("h3",{style:{fontStyle:"italic"}},t),n?ht.createElement("pre",{style:r},n):null,null)}const Rf=ht.createElement(Of,null);class Pf extends ht.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){}render(){return void 0!==this.state.error?ht.createElement(wf.Provider,{value:this.props.routeContext},ht.createElement(kf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Df(e){let{routeContext:t,match:n,children:r}=e,s=ht.useContext(vf);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),ht.createElement(wf.Provider,{value:t},r)}var Lf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Lf||{}),Mf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Mf||{});function Bf(e){let t=function(){let e=ht.useContext(wf);return e||Fp(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||Fp(!1),n.route.id}const Uf={};function Ff(e){let{to:t,replace:n,state:r,relative:s}=e;Nf()||Fp(!1);let{future:a,static:i}=ht.useContext(_f),{matches:o}=ht.useContext(wf),{pathname:l}=Sf(),c=Cf(),u=hf(t,df(o,a.v7_relativeSplatPath),l,"path"===s),d=JSON.stringify(u);return ht.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:s}),[c,d,s,n,r]),null}function Hf(e){Fp(!1)}function zf(e){let{basename:t="/",children:n=null,location:r,navigationType:s=jp.Pop,navigator:a,static:i=!1,future:o}=e;Nf()&&Fp(!1);let l=t.replace(/^\/*/,"/"),c=ht.useMemo(()=>({basename:l,navigator:a,static:i,future:xf({v7_relativeSplatPath:!1},o)}),[l,o,a,i]);"string"==typeof r&&(r=Wp(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:f="default"}=r,m=ht.useMemo(()=>{let e=cf(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:p,key:f},navigationType:s}},[l,u,d,h,p,f,s]);return null==m?null:ht.createElement(_f.Provider,{value:c},ht.createElement(Tf.Provider,{children:n,value:m}))}function Gf(e){let{children:t,location:n}=e;return jf($f(t),n)}function $f(e,t){void 0===t&&(t=[]);let n=[];return ht.Children.forEach(e,(e,r)=>{if(!ht.isValidElement(e))return;let s=[...t,r];if(e.type===ht.Fragment)return void n.push.apply(n,$f(e.props.children,s));e.type!==Hf&&Fp(!1),e.props.index&&e.props.children&&Fp(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=$f(e.props.children,s)),n.push(a)}),n}
/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wf(){return Wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wf.apply(this,arguments)}function qf(e,t){if(null==e)return{};var n,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}new Promise(()=>{});const Vf=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Yf=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(Rm){}const Kf=ht.createContext({isTransitioning:!1}),Qf=ft.startTransition;function Jf(e){let{basename:t,children:n,future:r,window:s}=e,a=ht.useRef();null==a.current&&(a.current=Up({window:s,v5Compat:!0}));let i=a.current,[o,l]=ht.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},u=ht.useCallback(e=>{c&&Qf?Qf(()=>l(e)):l(e)},[l,c]);return ht.useLayoutEffect(()=>i.listen(u),[i,u]),ht.useEffect(()=>{return null==(e=r)||e.v7_startTransition,void(null==e||e.v7_relativeSplatPath);var e},[r]),ht.createElement(zf,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,future:r})}const Xf="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Zf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,em=ht.forwardRef(function(e,t){let n,{onClick:r,relative:s,reloadDocument:a,replace:i,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=qf(e,Vf),{basename:p}=ht.useContext(_f),f=!1;if("string"==typeof c&&Zf.test(c)&&(n=c,Xf))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),n=cf(t.pathname,p);t.origin===e.origin&&null!=n?c=n+t.search+t.hash:f=!0}catch(Rm){}let m=function(e,t){let{relative:n}=void 0===t?{}:t;Nf()||Fp(!1);let{basename:r,navigator:s}=ht.useContext(_f),{hash:a,pathname:i,search:o}=If(e,{relative:n}),l=i;return"/"!==r&&(l="/"===i?r:pf([r,i])),s.createHref({pathname:l,search:o,hash:a})}(c,{relative:s}),g=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:i,viewTransition:o}=void 0===t?{}:t,l=Cf(),c=Sf(),u=If(e,{relative:i});return ht.useCallback(t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,n)){t.preventDefault();let n=void 0!==r?r:$p(c)===$p(u);l(e,{replace:n,state:s,preventScrollReset:a,relative:i,viewTransition:o})}},[c,l,u,r,s,n,e,a,i,o])}(c,{replace:i,state:o,target:l,preventScrollReset:u,relative:s,viewTransition:d});return ht.createElement("a",Wf({},h,{href:n||m,onClick:f||a?r:function(e){r&&r(e),e.defaultPrevented||g(e)},ref:t,target:l}))}),tm=ht.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:s="",end:a=!1,style:i,to:o,viewTransition:l,children:c}=e,u=qf(e,Yf),d=If(o,{relative:u.relative}),h=Sf(),p=ht.useContext(Ef),{navigator:f,basename:m}=ht.useContext(_f),g=null!=p&&function(e,t){void 0===t&&(t={});let n=ht.useContext(Kf);null==n&&Fp(!1);let{basename:r}=function(){let e=ht.useContext(vf);return e||Fp(!1),e}(nm.useViewTransitionState),s=If(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=cf(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=cf(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=of(s.pathname,i)||null!=of(s.pathname,a)}(d)&&!0===l,b=f.encodeLocation?f.encodeLocation(d).pathname:d.pathname,y=h.pathname,x=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(y=y.toLowerCase(),x=x?x.toLowerCase():null,b=b.toLowerCase()),x&&m&&(x=cf(x,m)||x);const v="/"!==b&&b.endsWith("/")?b.length-1:b.length;let E,_=y===b||!a&&y.startsWith(b)&&"/"===y.charAt(v),T=null!=x&&(x===b||!a&&x.startsWith(b)&&"/"===x.charAt(b.length)),w={isActive:_,isPending:T,isTransitioning:g},k=_?n:void 0;E="function"==typeof s?s(w):[s,_?"active":null,T?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let N="function"==typeof i?i(w):i;return ht.createElement(em,Wf({},u,{"aria-current":k,className:E,ref:t,style:N,to:o,viewTransition:l}),"function"==typeof c?c(w):c)});var nm,rm,sm,am;(rm=nm||(nm={})).UseScrollRestoration="useScrollRestoration",rm.UseSubmit="useSubmit",rm.UseSubmitFetcher="useSubmitFetcher",rm.UseFetcher="useFetcher",rm.useViewTransitionState="useViewTransitionState",(am=sm||(sm={})).UseFetcher="useFetcher",am.UseFetchers="useFetchers",am.UseScrollRestoration="useScrollRestoration";let im,om,lm,cm={data:""},um=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,dm=/\/\*[^]*?\*\/|  +/g,hm=/\n+/g,pm=(e,t)=>{let n="",r="",s="";for(let a in e){let i=e[a];"@"==a[0]?"i"==a[1]?n=a+" "+i+";":r+="f"==a[1]?pm(i,a):a+"{"+pm(i,"k"==a[1]?"":t)+"}":"object"==typeof i?r+=pm(i,t?t.replace(/([^,])+/g,e=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):a):null!=i&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=pm.p?pm.p(a,i):a+":"+i+";")}return n+(t&&s?t+"{"+s+"}":s)+r},fm={},mm=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+mm(e[n]);return t}return e};function gm(e){let t=this||{},n=e.call?e(t.p):e;return((e,t,n,r,s)=>{let a=mm(e),i=fm[a]||(fm[a]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(a));if(!fm[i]){let t=a!==e?e:(e=>{let t,n,r=[{}];for(;t=um.exec(e.replace(dm,""));)t[4]?r.shift():t[3]?(n=t[3].replace(hm," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(hm," ").trim();return r[0]})(e);fm[i]=pm(s?{["@keyframes "+i]:t}:t,n?"":"."+i)}let o=n&&fm.g?fm.g:null;return n&&(fm.g=fm[i]),l=fm[i],c=t,u=r,(d=o)?c.data=c.data.replace(d,l):-1===c.data.indexOf(l)&&(c.data=u?l+c.data:c.data+l),i;var l,c,u,d})(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,s)=>{let a=t[s];if(a&&a.call){let e=a(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":pm(e,""):!1===e?"":e}return e+r+(null==a?"":a)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,(e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||cm})(t.target),t.g,t.o,t.k)}gm.bind({g:1});let bm=gm.bind({k:1});function ym(e,t){let n=this||{};return function(){let t=arguments;return function r(s,a){let i=Object.assign({},s),o=i.className||r.className;n.p=Object.assign({theme:om&&om()},i),n.o=/ *go\d+/.test(o),i.className=gm.apply(n,t)+(o?" "+o:"");let l=e;return e[0]&&(l=i.as||e,delete i.as),lm&&l[0]&&lm(i),im(l,i)}}}var xm=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,vm=(()=>{let e=0;return()=>(++e).toString()})(),Em=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),_m="default",Tm=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:r}=t;return Tm(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,dismissed:!0,visible:!1}:e)};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+a}))}}},wm=[],km={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},Nm={},Sm=(e,t=_m)=>{Nm[t]=Tm(Nm[t]||km,e),wm.forEach(([e,n])=>{e===t&&n(Nm[t])})},Am=e=>Object.keys(Nm).forEach(t=>Sm(e,t)),Cm=(e=_m)=>t=>{Sm(t,e)},Im={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},jm=e=>(t,n)=>{let r=((e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||vm()}))(t,e,n);return Cm(r.toasterId||(e=>Object.keys(Nm).find(t=>Nm[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},Om=(e,t)=>jm("blank")(e,t);Om.error=jm("error"),Om.success=jm("success"),Om.loading=jm("loading"),Om.custom=jm("custom"),Om.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Cm(t)(n):Am(n)},Om.dismissAll=e=>Om.dismiss(void 0,e),Om.remove=(e,t)=>{let n={type:4,toastId:e};t?Cm(t)(n):Am(n)},Om.removeAll=e=>Om.remove(void 0,e),Om.promise=(e,t,n)=>{let r=Om.loading(t.loading,{...n,...null==n?void 0:n.loading});return"function"==typeof e&&(e=e()),e.then(e=>{let s=t.success?xm(t.success,e):void 0;return s?Om.success(s,{id:r,...n,...null==n?void 0:n.success}):Om.dismiss(r),e}).catch(e=>{let s=t.error?xm(t.error,e):void 0;s?Om.error(s,{id:r,...n,...null==n?void 0:n.error}):Om.dismiss(r)}),e};var Rm,Pm,Dm,Lm,Mm=(e,t="default")=>{let{toasts:n,pausedAt:r}=((e={},t=_m)=>{let[n,r]=ht.useState(Nm[t]||km),s=ht.useRef(Nm[t]);ht.useEffect(()=>(s.current!==Nm[t]&&r(Nm[t]),wm.push([t,r]),()=>{let e=wm.findIndex(([e])=>e===t);e>-1&&wm.splice(e,1)}),[t]);let a=n.toasts.map(t=>{var n,r,s;return{...e,...e[t.type],...t,removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||Im[t.type],style:{...e.style,...null==(s=e[t.type])?void 0:s.style,...t.style}}});return{...n,toasts:a}})(e,t),s=ht.useRef(new Map).current,a=ht.useCallback((e,t=1e3)=>{if(s.has(e))return;let n=setTimeout(()=>{s.delete(e),i({type:4,toastId:e})},t);s.set(e,n)},[]);ht.useEffect(()=>{if(r)return;let e=Date.now(),s=n.map(n=>{if(n.duration===1/0)return;let r=(n.duration||0)+n.pauseDuration-(e-n.createdAt);if(!(r<0))return setTimeout(()=>Om.dismiss(n.id,t),r);n.visible&&Om.dismiss(n.id)});return()=>{s.forEach(e=>e&&clearTimeout(e))}},[n,r,t]);let i=ht.useCallback(Cm(t),[t]),o=ht.useCallback(()=>{i({type:5,time:Date.now()})},[i]),l=ht.useCallback((e,t)=>{i({type:1,toast:{id:e,height:t}})},[i]),c=ht.useCallback(()=>{r&&i({type:6,time:Date.now()})},[r,i]),u=ht.useCallback((e,t)=>{let{reverseOrder:r=!1,gutter:s=8,defaultPosition:a}=t||{},i=n.filter(t=>(t.position||a)===(e.position||a)&&t.height),o=i.findIndex(t=>t.id===e.id),l=i.filter((e,t)=>t<o&&e.visible).length;return i.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+s,0)},[n]);return ht.useEffect(()=>{n.forEach(e=>{if(e.dismissed)a(e.id,e.removeDelay);else{let t=s.get(e.id);t&&(clearTimeout(t),s.delete(e.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:l,startPause:o,endPause:c,calculateOffset:u}}},Bm=bm`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Um=bm`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Fm=bm`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Hm=ym("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Bm} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Um} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Fm} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,zm=bm`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Gm=ym("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${zm} 1s linear infinite;
`,$m=bm`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Wm=bm`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,qm=ym("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$m} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Wm} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Vm=ym("div")`
  position: absolute;
`,Ym=ym("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Km=bm`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Qm=ym("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Km} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Jm=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return void 0!==t?"string"==typeof t?ht.createElement(Qm,null,t):t:"blank"===n?null:ht.createElement(Ym,null,ht.createElement(Gm,{...r}),"loading"!==n&&ht.createElement(Vm,null,"error"===n?ht.createElement(Hm,{...r}):ht.createElement(qm,{...r})))},Xm=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,Zm=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,eg=ym("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,tg=ym("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ng=ht.memo(({toast:e,position:t,style:n,children:r})=>{let s=e.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,s]=Em()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Xm(n),Zm(n)];return{animation:t?`${bm(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${bm(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(e.position||t||"top-center",e.visible):{opacity:0},a=ht.createElement(Jm,{toast:e}),i=ht.createElement(tg,{...e.ariaProps},xm(e.message,e));return ht.createElement(eg,{className:e.className,style:{...s,...n,...e.style}},"function"==typeof r?r({icon:a,message:i}):ht.createElement(ht.Fragment,null,a,i))});Rm=ht.createElement,pm.p=Pm,im=Rm,om=Dm,lm=Lm;var rg=({id:e,className:t,style:n,onHeightUpdate:r,children:s})=>{let a=ht.useCallback(t=>{if(t){let n=()=>{let n=t.getBoundingClientRect().height;r(e,n)};n(),new MutationObserver(n).observe(t,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return ht.createElement("div",{ref:a,className:t,style:n},s)},sg=gm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ag=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:s,toasterId:a,containerStyle:i,containerClassName:o})=>{let{toasts:l,handlers:c}=Mm(n,a);return ht.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...i},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(n=>{let a=n.position||t,i=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Em()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...s}})(a,c.calculateOffset(n,{reverseOrder:e,gutter:r,defaultPosition:t}));return ht.createElement(rg,{id:n.id,key:n.id,onHeightUpdate:c.updateHeight,className:n.visible?sg:"",style:i},"custom"===n.type?xm(n.message,n):s?s(n):ht.createElement(ng,{toast:n,position:a}))}))},ig=Om;const og=e=>{let t;const n=new Set,r=(e,r)=>{const s="function"==typeof e?e(t):e;if(!Object.is(s,t)){const e=t;t=(null!=r?r:"object"!=typeof s||null===s)?s:Object.assign({},t,s),n.forEach(n=>n(t,e))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>i,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{n.clear()}},i=t=e(r,s,a);return a};var lg={exports:{}},cg={},ug={exports:{}},dg={},hg=ht;var pg="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},fg=hg.useState,mg=hg.useEffect,gg=hg.useLayoutEffect,bg=hg.useDebugValue;function yg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pg(e,n)}catch(r){return!0}}var xg="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=fg({inst:{value:n,getSnapshot:t}}),s=r[0].inst,a=r[1];return gg(function(){s.value=n,s.getSnapshot=t,yg(s)&&a({inst:s})},[e,n,t]),mg(function(){return yg(s)&&a({inst:s}),e(function(){yg(s)&&a({inst:s})})},[e]),bg(n),n};dg.useSyncExternalStore=void 0!==hg.useSyncExternalStore?hg.useSyncExternalStore:xg,ug.exports=dg;var vg=ug.exports,Eg=ht,_g=vg;
/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tg="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},wg=_g.useSyncExternalStore,kg=Eg.useRef,Ng=Eg.useEffect,Sg=Eg.useMemo,Ag=Eg.useDebugValue;cg.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var a=kg(null);if(null===a.current){var i={hasValue:!1,value:null};a.current=i}else i=a.current;a=Sg(function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==s&&i.hasValue){var t=i.value;if(s(t,e))return o=t}return o=e}if(t=o,Tg(a,e))return t;var n=r(e);return void 0!==s&&s(t,n)?(a=e,t):(a=e,o=n)}var a,o,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,s]);var o=wg(e,a[0],a[1]);return Ng(function(){i.hasValue=!0,i.value=o},[o]),Ag(o),o},lg.exports=cg;const Cg=Ne(lg.exports),Ig={},{useDebugValue:jg}=pt,{useSyncExternalStoreWithSelector:Og}=Cg;let Rg=!1;const Pg=e=>e;const Dg=e=>{const t="function"==typeof e?(e=>e?og(e):og)(e):e,n=(e,n)=>function(e,t=Pg,n){"production"!==(Ig?"production":void 0)&&n&&!Rg&&(Rg=!0);const r=Og(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return jg(r),r}(t,e,n);return Object.assign(n,t),n},Lg=e=>e?Dg(e):Dg;var Mg=function(e,t){return(Mg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Bg(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Mg(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Ug=function(){return Ug=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Ug.apply(this,arguments)};function Fg(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}function Hg(e,t,n,r){var s,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(i=(a<3?s(i):a>3?s(t,n,i):s(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i}function zg(e,t){return function(n,r){t(n,r,e)}}function Gg(e,t,n,r,s,a){function i(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,l=r.kind,c="getter"===l?"get":"setter"===l?"set":"value",u=!t&&e?r.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,p=n.length-1;p>=0;p--){var f={};for(var m in r)f[m]="access"===m?{}:r[m];for(var m in r.access)f.access[m]=r.access[m];f.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(i(e||null))};var g=(0,n[p])("accessor"===l?{get:d.get,set:d.set}:d[c],f);if("accessor"===l){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(o=i(g.get))&&(d.get=o),(o=i(g.set))&&(d.set=o),(o=i(g.init))&&s.unshift(o)}else(o=i(g))&&("field"===l?s.unshift(o):d[c]=o)}u&&Object.defineProperty(u,r.name,d),h=!0}function $g(e,t,n){for(var r=arguments.length>2,s=0;s<t.length;s++)n=r?t[s].call(e,n):t[s].call(e);return r?n:void 0}function Wg(e){return"symbol"==typeof e?e:"".concat(e)}function qg(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function Vg(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function Yg(e,t,n,r){return new(n||(n=Promise))(function(s,a){function i(e){try{l(r.next(e))}catch(Rm){a(Rm)}}function o(e){try{l(r.throw(e))}catch(Rm){a(Rm)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})}function Kg(e,t){var n,r,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(a=0)),a;)try{if(n=1,r&&(s=2&o[0]?r.return:o[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,o[1])).done)return s;switch(r=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(s=a.trys,(s=s.length>0&&s[s.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){a.label=o[1];break}if(6===o[0]&&a.label<s[1]){a.label=s[1],s=o;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(o);break}s[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(Rm){o=[6,Rm],r=0}finally{n=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}var Qg=Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function Jg(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||Qg(t,e,n)}function Xg(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zg(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,s,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(o){s={error:o}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(s)throw s.error}}return i}function eb(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Zg(arguments[t]));return e}function tb(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),s=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,o=a.length;i<o;i++,s++)r[s]=a[i];return r}function nb(e,t,n){if(n||2===arguments.length)for(var r,s=0,a=t.length;s<a;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))}function rb(e){return this instanceof rb?(this.v=e,this):new rb(e)}function sb(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,s=n.apply(e,t||[]),a=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),i("next"),i("throw"),i("return",function(e){return function(t){return Promise.resolve(t).then(e,c)}}),r[Symbol.asyncIterator]=function(){return this},r;function i(e,t){s[e]&&(r[e]=function(t){return new Promise(function(n,r){a.push([e,t,n,r])>1||o(e,t)})},t&&(r[e]=t(r[e])))}function o(e,t){try{!function(e){e.value instanceof rb?Promise.resolve(e.value.v).then(l,c):u(a[0][2],e)}(s[e](t))}catch(Rm){u(a[0][3],Rm)}}function l(e){o("next",e)}function c(e){o("throw",e)}function u(e,t){e(t),a.shift(),a.length&&o(a[0][0],a[0][1])}}function ab(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,s){t[r]=e[r]?function(t){return(n=!n)?{value:rb(e[r](t)),done:!1}:s?s(t):t}:s}}function ib(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Xg(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,s){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,s,(t=e[n](t)).done,t.value)})}}}function ob(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var lb=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},cb=function(e){return(cb=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t})(e)};function ub(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=cb(e),r=0;r<n.length;r++)"default"!==n[r]&&Qg(t,e,n[r]);return lb(t,e),t}function db(e){return e&&e.__esModule?e:{default:e}}function hb(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function pb(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n}function fb(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function mb(e,t,n){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(s=r)}if("function"!=typeof r)throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(Rm){return Promise.reject(Rm)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var gb="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function bb(e){function t(t){e.error=e.hasError?new gb(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var n,r=0;return function s(){for(;n=e.stack.pop();)try{if(!n.async&&1===r)return r=0,e.stack.push(n),Promise.resolve().then(s);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(s,function(e){return t(e),s()})}else r|=1}catch(Rm){t(Rm)}if(1===r)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function yb(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,n,r,s,a){return n?t?".jsx":".js":!r||s&&a?r+s+"."+a.toLowerCase()+"js":e}):e}const xb={__extends:Bg,__assign:Ug,__rest:Fg,__decorate:Hg,__param:zg,__esDecorate:Gg,__runInitializers:$g,__propKey:Wg,__setFunctionName:qg,__metadata:Vg,__awaiter:Yg,__generator:Kg,__createBinding:Qg,__exportStar:Jg,__values:Xg,__read:Zg,__spread:eb,__spreadArrays:tb,__spreadArray:nb,__await:rb,__asyncGenerator:sb,__asyncDelegator:ab,__asyncValues:ib,__makeTemplateObject:ob,__importStar:ub,__importDefault:db,__classPrivateFieldGet:hb,__classPrivateFieldSet:pb,__classPrivateFieldIn:fb,__addDisposableResource:mb,__disposeResources:bb,__rewriteRelativeImportExtension:yb},vb=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:mb,get __assign(){return Ug},__asyncDelegator:ab,__asyncGenerator:sb,__asyncValues:ib,__await:rb,__awaiter:Yg,__classPrivateFieldGet:hb,__classPrivateFieldIn:fb,__classPrivateFieldSet:pb,__createBinding:Qg,__decorate:Hg,__disposeResources:bb,__esDecorate:Gg,__exportStar:Jg,__extends:Bg,__generator:Kg,__importDefault:db,__importStar:ub,__makeTemplateObject:ob,__metadata:Vg,__param:zg,__propKey:Wg,__read:Zg,__rest:Fg,__rewriteRelativeImportExtension:yb,__runInitializers:$g,__setFunctionName:qg,__spread:eb,__spreadArray:nb,__spreadArrays:tb,__values:Xg,default:xb},Symbol.toStringTag,{value:"Module"}));class Eb extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class _b extends Eb{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Tb extends Eb{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class wb extends Eb{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var kb,Nb;(Nb=kb||(kb={})).Any="any",Nb.ApNortheast1="ap-northeast-1",Nb.ApNortheast2="ap-northeast-2",Nb.ApSouth1="ap-south-1",Nb.ApSoutheast1="ap-southeast-1",Nb.ApSoutheast2="ap-southeast-2",Nb.CaCentral1="ca-central-1",Nb.EuCentral1="eu-central-1",Nb.EuWest1="eu-west-1",Nb.EuWest2="eu-west-2",Nb.EuWest3="eu-west-3",Nb.SaEast1="sa-east-1",Nb.UsEast1="us-east-1",Nb.UsWest1="us-west-1",Nb.UsWest2="us-west-2";class Sb{constructor(e,{headers:t={},customFetch:n,region:r=kb.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=(e=>e?(...t)=>e(...t):(...e)=>fetch(...e))(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Yg(this,arguments,void 0,function*(e,t={}){var n;try{const{headers:r,method:s,body:a,signal:i}=t;let o={},{region:l}=t;l||(l=this.region);const c=new URL(`${this.url}/${e}`);let u;l&&"any"!==l&&(o["x-region"]=l,c.searchParams.set("forceFunctionRegion",l)),a&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)?"undefined"!=typeof Blob&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=a):"string"==typeof a?(o["Content-Type"]="text/plain",u=a):"undefined"!=typeof FormData&&a instanceof FormData?u=a:(o["Content-Type"]="application/json",u=JSON.stringify(a)):u=a;const d=yield this.fetch(c.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),r),body:u,signal:i}).catch(e=>{if("AbortError"===e.name)throw e;throw new _b(e)}),h=d.headers.get("x-relay-error");if(h&&"true"===h)throw new Tb(d);if(!d.ok)throw new wb(d);let p,f=(null!==(n=d.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return p="application/json"===f?yield d.json():"application/octet-stream"===f||"application/pdf"===f?yield d.blob():"text/event-stream"===f?d:"multipart/form-data"===f?yield d.formData():yield d.text(),{data:p,error:null,response:d}}catch(r){return r instanceof Error&&"AbortError"===r.name?{data:null,error:new _b(r)}:{data:null,error:r,response:r instanceof wb||r instanceof Tb?r.context:void 0}}})}}var Ab={};const Cb=Se(vb);var Ib,jb,Ob,Rb,Pb,Db,Lb={},Mb={},Bb={},Ub={},Fb={},Hb={};function zb(){if(Ib)return Hb;Ib=1,Object.defineProperty(Hb,"__esModule",{value:!0});class e extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}return Hb.default=e,Hb}function Gb(){if(jb)return Fb;jb=1,Object.defineProperty(Fb,"__esModule",{value:!0});const e=Cb.__importDefault(zb());return Fb.default=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(n=e.isMaybeSingle)&&void 0!==n&&n,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(t,n){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async t=>{var n,r,s,a;let i=null,o=null,l=null,c=t.status,u=t.statusText;if(t.ok){if("HEAD"!==this.method){const e=await t.text();""===e||(o="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null===(n=this.headers.get("Accept"))||void 0===n?void 0:n.includes("application/vnd.pgrst.plan+text"))?e:JSON.parse(e))}const e=null===(r=this.headers.get("Prefer"))||void 0===r?void 0:r.match(/count=(exact|planned|estimated)/),a=null===(s=t.headers.get("content-range"))||void 0===s?void 0:s.split("/");e&&a&&a.length>1&&(l=parseInt(a[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(i={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,c=406,u="Not Acceptable"):o=1===o.length?o[0]:null)}else{const n=await t.text();try{i=JSON.parse(n),Array.isArray(i)&&404===t.status&&(o=[],i=null,c=200,u="OK")}catch(d){404===t.status&&""===n?(c=204,u="No Content"):i={message:n}}if(i&&this.isMaybeSingle&&(null===(a=null==i?void 0:i.details)||void 0===a?void 0:a.includes("0 rows"))&&(i=null,c=200,u="OK"),i&&this.shouldThrowOnError)throw new e.default(i)}return{error:i,data:o,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(r=r.catch(e=>{var t,n,r;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(n=null==e?void 0:e.stack)&&void 0!==n?n:""}`,hint:"",code:`${null!==(r=null==e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}})),r.then(t,n)}returns(){return this}overrideTypes(){return this}},Fb}function $b(){if(Ob)return Ub;Ob=1,Object.defineProperty(Ub,"__esModule",{value:!0});const e=Cb.__importDefault(Gb());class t extends e.default{select(e){let t=!1;const n=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const a=s?`${s}.order`:"order",i=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=void 0===r?"offset":`${r}.offset`,a=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:a="text"}={}){var i;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.get("Accept"))&&void 0!==i?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${l}"; options=${o};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}}return Ub.default=t,Ub}function Wb(){if(Rb)return Bb;Rb=1,Object.defineProperty(Bb,"__esModule",{value:!0});const e=Cb.__importDefault($b()),t=new RegExp("[,()]");class n extends e.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,n){const r=Array.from(new Set(n)).map(e=>"string"==typeof e&&t.test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";"plain"===r?s="pl":"phrase"===r?s="ph":"websearch"===r&&(s="w");const a=void 0===n?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}}return Bb.default=n,Bb}function qb(){if(Pb)return Mb;Pb=1,Object.defineProperty(Mb,"__esModule",{value:!0});const e=Cb.__importDefault(Wb());return Mb.default=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}select(t,n){const{head:r=!1,count:s}=null!=n?n:{},a=r?"HEAD":"GET";let i=!1;const o=(null!=t?t:"*").split("").map(e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e)).join("");return this.url.searchParams.set("select",o),s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var s;if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const e=t.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(e.length>0){const t=[...new Set(e)].map(e=>`"${e}"`);this.url.searchParams.set("columns",t.join(","))}}return new e.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:null!==(s=this.fetch)&&void 0!==s?s:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:a=!0}={}){var i;if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),void 0!==n&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const e=t.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(e.length>0){const t=[...new Set(e)].map(e=>`"${e}"`);this.url.searchParams.set("columns",t.join(","))}}return new e.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}update(t,{count:n}={}){var r;return n&&this.headers.append("Prefer",`count=${n}`),new e.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}delete({count:t}={}){var n;return t&&this.headers.append("Prefer",`count=${t}`),new e.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}},Mb}Object.defineProperty(Ab,"__esModule",{value:!0});var Vb=Ab.PostgrestError=Ab.PostgrestBuilder=Ab.PostgrestTransformBuilder=Ab.PostgrestFilterBuilder=Ab.PostgrestQueryBuilder=Ab.PostgrestClient=void 0;const Yb=Cb,Kb=Yb.__importDefault(function(){if(Db)return Lb;Db=1,Object.defineProperty(Lb,"__esModule",{value:!0});const e=Cb,t=e.__importDefault(qb()),n=e.__importDefault(Wb());class r{constructor(e,{headers:t={},schema:n,fetch:r}={}){this.url=e,this.headers=new Headers(t),this.schemaName=n,this.fetch=r}from(e){const n=new URL(`${this.url}/${e}`);return new t.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new r(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:s=!1,count:a}={}){var i;let o;const l=new URL(`${this.url}/rpc/${e}`);let c;r||s?(o=r?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{l.searchParams.append(e,t)})):(o="POST",c=t);const u=new Headers(this.headers);return a&&u.set("Prefer",`count=${a}`),new n.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}}return Lb.default=r,Lb}());var Qb=Ab.PostgrestClient=Kb.default;const Jb=Yb.__importDefault(qb());var Xb=Ab.PostgrestQueryBuilder=Jb.default;const Zb=Yb.__importDefault(Wb());var ey=Ab.PostgrestFilterBuilder=Zb.default;const ty=Yb.__importDefault($b());var ny=Ab.PostgrestTransformBuilder=ty.default;const ry=Yb.__importDefault(Gb());var sy=Ab.PostgrestBuilder=ry.default;const ay=Yb.__importDefault(zb());Vb=Ab.PostgrestError=ay.default;var iy=Ab.default={PostgrestClient:Kb.default,PostgrestQueryBuilder:Jb.default,PostgrestFilterBuilder:Zb.default,PostgrestTransformBuilder:ty.default,PostgrestBuilder:ry.default,PostgrestError:ay.default};const oy=we({__proto__:null,get PostgrestBuilder(){return sy},get PostgrestClient(){return Qb},get PostgrestError(){return Vb},get PostgrestFilterBuilder(){return ey},get PostgrestQueryBuilder(){return Xb},get PostgrestTransformBuilder(){return ny},default:iy},[Ab]),{PostgrestClient:ly,PostgrestQueryBuilder:cy,PostgrestFilterBuilder:uy,PostgrestTransformBuilder:dy,PostgrestBuilder:hy,PostgrestError:py}=iy||oy;class fy{static detectEnvironment(){var e;if("undefined"!=typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!=typeof global&&void 0!==global.WebSocket)return{type:"native",constructor:global.WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!=typeof globalThis&&globalThis.EdgeRuntime||"undefined"!=typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!=typeof process){const e=process.versions;if(e&&e.node){const t=e.node,n=parseInt(t.replace(/^v/,"").split(".")[0]);return n>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`\n\nSuggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}}const my=1e4;var gy,by,yy,xy,vy,Ey,_y,Ty,wy,ky,Ny;(by=gy||(gy={}))[by.connecting=0]="connecting",by[by.open=1]="open",by[by.closing=2]="closing",by[by.closed=3]="closed",(xy=yy||(yy={})).closed="closed",xy.errored="errored",xy.joined="joined",xy.joining="joining",xy.leaving="leaving",(Ey=vy||(vy={})).close="phx_close",Ey.error="phx_error",Ey.join="phx_join",Ey.reply="phx_reply",Ey.leave="phx_leave",Ey.access_token="access_token",(_y||(_y={})).websocket="websocket",(wy=Ty||(Ty={})).Connecting="connecting",wy.Open="open",wy.Closing="closing",wy.Closed="closed";class Sy{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),s=t.getUint8(2);let a=this.HEADER_LENGTH+2;const i=n.decode(e.slice(a,a+r));a+=r;const o=n.decode(e.slice(a,a+s));a+=s;return{ref:null,topic:i,event:o,payload:JSON.parse(n.decode(e.slice(a,e.byteLength)))}}}class Ay{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}(Ny=ky||(ky={})).abstime="abstime",Ny.bool="bool",Ny.date="date",Ny.daterange="daterange",Ny.float4="float4",Ny.float8="float8",Ny.int2="int2",Ny.int4="int4",Ny.int4range="int4range",Ny.int8="int8",Ny.int8range="int8range",Ny.json="json",Ny.jsonb="jsonb",Ny.money="money",Ny.numeric="numeric",Ny.oid="oid",Ny.reltime="reltime",Ny.text="text",Ny.time="time",Ny.timestamp="timestamp",Ny.timestamptz="timestamptz",Ny.timetz="timetz",Ny.tsrange="tsrange",Ny.tstzrange="tstzrange";const Cy=(e,t,n={})=>{var r;const s=null!==(r=n.skipTypes)&&void 0!==r?r:[];return t?Object.keys(t).reduce((n,r)=>(n[r]=Iy(r,e,t,s),n),{}):{}},Iy=(e,t,n,r)=>{const s=t.find(t=>t.name===e),a=null==s?void 0:s.type,i=n[e];return a&&!r.includes(a)?jy(a,i):Oy(i)},jy=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return Ly(t,n)}switch(e){case ky.bool:return Ry(t);case ky.float4:case ky.float8:case ky.int2:case ky.int4:case ky.int8:case ky.numeric:case ky.oid:return Py(t);case ky.json:case ky.jsonb:return Dy(t);case ky.timestamp:return My(t);case ky.abstime:case ky.date:case ky.daterange:case ky.int4range:case ky.int8range:case ky.money:case ky.reltime:case ky.text:case ky.time:case ky.timestamptz:case ky.timetz:case ky.tsrange:case ky.tstzrange:default:return Oy(t)}},Oy=e=>e,Ry=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Py=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Dy=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e}return e},Ly=(e,t)=>{if("string"!=typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const a=e.slice(1,n);try{r=JSON.parse("["+a+"]")}catch(s){r=a?a.split(","):[]}return r.map(e=>jy(t,e))}return e},My=e=>"string"==typeof e?e.replace(" ","T"):e,By=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Uy{constructor(e,t,n={},r=1e4){this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Fy,Hy,zy,Gy,$y,Wy,qy,Vy;(Hy=Fy||(Fy={})).SYNC="sync",Hy.JOIN="join",Hy.LEAVE="leave";class Yy{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yy.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=Yy.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=Yy.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const s=this.cloneDeep(e),a=this.transformState(t),i={},o={};return this.map(s,(e,t)=>{a[e]||(o[e]=t)}),this.map(a,(e,t)=>{const n=s[e];if(n){const r=t.map(e=>e.presence_ref),s=n.map(e=>e.presence_ref),a=t.filter(e=>s.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);a.length>0&&(i[e]=a),l.length>0&&(o[e]=l)}else i[e]=t}),this.syncDiff(s,{joins:i,leaves:o},n,r)}static syncDiff(e,t,n,r){const{joins:s,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(s,(t,r)=>{var s;const a=null!==(s=e[t])&&void 0!==s?s:[];if(e[t]=this.cloneDeep(r),a.length>0){const n=e[t].map(e=>e.presence_ref),r=a.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,a,r)}),this.map(a,(t,n)=>{let s=e[t];if(!s)return;const a=n.map(e=>e.presence_ref);s=s.filter(e=>a.indexOf(e.presence_ref)<0),e[t]=s,r(t,s,n),0===s.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(Gy=zy||(zy={})).ALL="*",Gy.INSERT="INSERT",Gy.UPDATE="UPDATE",Gy.DELETE="DELETE",(Wy=$y||($y={})).BROADCAST="broadcast",Wy.PRESENCE="presence",Wy.POSTGRES_CHANGES="postgres_changes",Wy.SYSTEM="system",(Vy=qy||(qy={})).SUBSCRIBED="SUBSCRIBED",Vy.TIMED_OUT="TIMED_OUT",Vy.CLOSED="CLOSED",Vy.CHANNEL_ERROR="CHANNEL_ERROR";class Ky{constructor(e,t={config:{}},n){var r,s;if(this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=yy.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Uy(this,vy.join,this.params,this.timeout),this.rejoinTimer=new Ay(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yy.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yy.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=yy.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yy.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=yy.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vy.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new Yy(this),this.broadcastEndpointURL=By(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(s=null===(r=this.params.config)||void 0===r?void 0:r.broadcast)||void 0===s?void 0:s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var n,r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==yy.closed){const{config:{broadcast:a,presence:i,private:o}}=this.params,l=null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],c=!!this.bindings[$y.PRESENCE]&&this.bindings[$y.PRESENCE].length>0||!0===(null===(s=this.params.config.presence)||void 0===s?void 0:s.enabled),u={},d={broadcast:a,presence:Object.assign(Object.assign({},i),{enabled:c}),postgres_changes:l,private:o};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(t=>null==e?void 0:e(qy.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e(qy.CLOSED)),this.updateJoinPayload(Object.assign({config:d},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:t})=>{var n;if(this.socket.setAuth(),void 0!==t){const r=this.bindings.postgres_changes,s=null!==(n=null==r?void 0:r.length)&&void 0!==n?n:0,a=[];for(let n=0;n<s;n++){const s=r[n],{filter:{event:i,schema:o,table:l,filter:c}}=s,u=t&&t[n];if(!u||u.event!==i||u.schema!==o||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=yy.errored,void(null==e||e(qy.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));a.push(Object.assign(Object.assign({},s),{id:u.id}))}return this.bindings.postgres_changes=a,void(e&&e(qy.SUBSCRIBED))}null==e||e(qy.SUBSCRIBED)}).receive("error",t=>{this.state=yy.errored,null==e||e(qy.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(qy.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===yy.joined&&e===$y.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async httpSend(e,t,n={}){var r;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(null==t)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},i=await this._fetchWithTimeout(this.broadcastEndpointURL,a,null!==(r=n.timeout)&&void 0!==r?r:this.timeout);if(202===i.status)return{success:!0};let o=i.statusText;try{const e=await i.json();o=e.error||e.message||o}catch(l){}return Promise.reject(new Error(o))}async send(e,t={}){var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,s,a;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(a=null===(s=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===s?void 0:s.broadcast)||void 0===a?void 0:a.ack)||n("ok"),i.receive("ok",()=>n("ok")),i.receive("error",()=>n("error")),i.receive("timeout",()=>n("timed out"))});{const{event:a,payload:i}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(s){return"AbortError"===s.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=yy.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vy.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new Uy(this,vy.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null==n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=yy.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const r=new AbortController,s=setTimeout(()=>r.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(s),a}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Uy(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,s;const a=e.toLocaleLowerCase(),{close:i,error:o,leave:l,join:c}=vy;if(n&&[i,o,l,c].indexOf(a)>=0&&n!==this._joinRef())return;let u=this._onMessage(a,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===a}).map(e=>e.callback(u,n)):null===(s=this.bindings[a])||void 0===s||s.filter(e=>{var n,r,s,i,o,l;if(["broadcast","presence","postgres_changes"].includes(a)){if("id"in e){const a=e.id,i=null===(n=e.filter)||void 0===n?void 0:n.event;return a&&(null===(r=t.ids)||void 0===r?void 0:r.includes(a))&&("*"===i||(null==i?void 0:i.toLocaleLowerCase())===(null===(s=t.data)||void 0===s?void 0:s.type.toLocaleLowerCase()))}{const n=null===(o=null===(i=null==e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===n||n===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===a}).map(e=>{if("object"==typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:s,errors:a}=e,i={schema:t,table:n,commit_timestamp:r,eventType:s,new:{},old:{},errors:a};u=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===yy.closed}_isJoined(){return this.state===yy.joined}_isJoining(){return this.state===yy.joining}_isLeaving(){return this.state===yy.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const r=e.toLocaleLowerCase(),s={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&Ky.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(vy.close,{},e)}_onError(e){this._on(vy.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yy.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Cy(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Cy(e.columns,e.old_record)),t}}const Qy=()=>{},Jy=25e3,Xy=10,Zy=100,ex=[1e3,2e3,5e3,1e4];class tx{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=my,this.transport=null,this.heartbeatIntervalMs=Jy,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qy,this.ref=0,this.reconnectTimer=null,this.logger=Qy,this.conn=null,this.sendBuffer=[],this.serializer=new Sy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),!(null===(n=null==t?void 0:t.params)||void 0===n?void 0:n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${_y.websocket}`,this.httpEndpoint=By(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=fy.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error(`${t}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`);throw new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case gy.connecting:return Ty.Connecting;case gy.open:return Ty.Open;case gy.closing:return Ty.Closing;default:return Ty.Closed}}isConnected(){return this.connectionState()===Ty.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e,t={config:{}}){const n=`realtime:${e}`,r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new Ky(`realtime:${e}`,t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:s}=e,a=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${n} (${s})`,r),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(Rm){this.log("error","error in heartbeat callback",Rm)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},Zy)}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(Rm){this.log("error","error in heartbeat callback",Rm)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(Rm){this.log("error","error in heartbeat callback",Rm)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event)try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(Rm){this.log("error","error in heartbeat callback",Rm)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:n,payload:r,ref:s}=e,a=s?`(${s})`:"",i=r.status||"";this.log("receive",`${i} ${t} ${n} ${a}`.trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,s)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(vy.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?";return`${e}${n}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;t=e||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{const n={access_token:t,version:"realtime-js/2.79.0"};t&&e.updateJoinPayload(n),e.joinedOnce&&e._isJoined()&&e._push(vy.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(Rm){this.log("error",`error in ${e} callback`,Rm)}})}catch(Rm){this.log("error",`error triggering ${e} callbacks`,Rm)}}_setupReconnectionTimer(){this.reconnectTimer=new Ay(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xy)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,r,s,a,i,o,l,c;if(this.transport=null!==(t=null==e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null==e?void 0:e.timeout)&&void 0!==n?n:my,this.heartbeatIntervalMs=null!==(r=null==e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:Jy,this.worker=null!==(s=null==e?void 0:e.worker)&&void 0!==s&&s,this.accessToken=null!==(a=null==e?void 0:e.accessToken)&&void 0!==a?a:null,this.heartbeatCallback=null!==(i=null==e?void 0:e.heartbeatCallback)&&void 0!==i?i:Qy,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.logger)&&(this.logger=e.logger),((null==e?void 0:e.logLevel)||(null==e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(o=null==e?void 0:e.reconnectAfterMs)&&void 0!==o?o:e=>ex[e-1]||1e4,this.encode=null!==(l=null==e?void 0:e.encode)&&void 0!==l?l:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(c=null==e?void 0:e.decode)&&void 0!==c?c:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null==e?void 0:e.workerUrl}}}class nx extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function rx(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class sx extends nx{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ax extends nx{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const ix=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),ox=e=>{if(Array.isArray(e))return e.map(e=>ox(e));if("function"==typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([e,n])=>{const r=e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[r]=ox(n)}),t},lx=e=>{var t;return e.msg||e.message||e.error_description||("string"==typeof e.error?e.error:null===(t=e.error)||void 0===t?void 0:t.message)||JSON.stringify(e)},cx=(e,t,n)=>Yg(void 0,void 0,void 0,function*(){const r=yield Response;e instanceof r&&!(null==n?void 0:n.noResolveJson)?e.json().then(n=>{const r=e.status||500,s=(null==n?void 0:n.statusCode)||r+"";t(new sx(lx(n),r,s))}).catch(e=>{t(new ax(lx(e),e))}):t(new ax(lx(e),e))}),ux=(e,t,n,r)=>{const s={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)})(r)?(s.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,(null==t?void 0:t.duplex)&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n)):s};function dx(e,t,n,r,s,a){return Yg(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(n,ux(t,r,s,a)).then(e=>{if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?e:e.json()}).then(e=>i(e)).catch(e=>cx(e,o,r))})})}function hx(e,t,n,r){return Yg(this,void 0,void 0,function*(){return dx(e,"GET",t,n,r)})}function px(e,t,n,r,s){return Yg(this,void 0,void 0,function*(){return dx(e,"POST",t,r,s,n)})}function fx(e,t,n,r,s){return Yg(this,void 0,void 0,function*(){return dx(e,"PUT",t,r,s,n)})}function mx(e,t,n,r,s){return Yg(this,void 0,void 0,function*(){return dx(e,"DELETE",t,r,s,n)})}class gx{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return Yg(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rx(e))return{data:null,error:e};throw e}})}}var bx;class yx{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[bx]="BlobDownloadBuilder",this.promise=null}asStream(){return new gx(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Yg(this,void 0,void 0,function*(){try{const e=yield this.downloadFn();return{data:yield e.blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rx(e))return{data:null,error:e};throw e}})}}bx=Symbol.toStringTag;const xx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ex{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=ix(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,n,r){return Yg(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},vx),r);let i=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(a.upsert)});const o=a.metadata;if("undefined"!=typeof Blob&&n instanceof Blob)s=new FormData,s.append("cacheControl",a.cacheControl),o&&s.append("metadata",this.encodeMetadata(o)),s.append("",n);else if("undefined"!=typeof FormData&&n instanceof FormData)s=n,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),o&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(o));else{s=n,i["cache-control"]=`max-age=${a.cacheControl}`,i["content-type"]=a.contentType,o&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(o)));("undefined"!=typeof ReadableStream&&s instanceof ReadableStream||s&&"object"==typeof s&&"pipe"in s&&"function"==typeof s.pipe)&&!a.duplex&&(a.duplex="half")}(null==r?void 0:r.headers)&&(i=Object.assign(Object.assign({},i),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield("PUT"==e?fx:px)(this.fetch,`${this.url}/object/${c}`,s,Object.assign({headers:i},(null==a?void 0:a.duplex)?{duplex:a.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(rx(s))return{data:null,error:s};throw s}})}upload(e,t,n){return Yg(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return Yg(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),i=new URL(this.url+`/object/upload/sign/${a}`);i.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:vx.upsert},r),a=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,a["cache-control"]=`max-age=${t.cacheControl}`,a["content-type"]=t.contentType);return{data:{path:s,fullPath:(yield fx(this.fetch,i.toString(),e,{headers:a})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(rx(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(e,t){return Yg(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null==t?void 0:t.upsert)&&(r["x-upsert"]="true");const s=yield px(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),a=new URL(this.url+s.url),i=a.searchParams.get("token");if(!i)throw new nx("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:i},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rx(n))return{data:null,error:n};throw n}})}update(e,t,n){return Yg(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return Yg(this,void 0,void 0,function*(){try{return{data:yield px(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rx(r))return{data:null,error:r};throw r}})}copy(e,t,n){return Yg(this,void 0,void 0,function*(){try{return{data:{path:(yield px(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rx(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,n){return Yg(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),s=yield px(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null==n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const a=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rx(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,n){return Yg(this,void 0,void 0,function*(){try{const r=yield px(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${s}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rx(r))return{data:null,error:r};throw r}})}download(e,t){const n=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),s=r?`?${r}`:"",a=this._getFinalPath(e);return new yx(()=>hx(this.fetch,`${this.url}/${n}/${a}${s}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(e){return Yg(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield hx(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:ox(e),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rx(n))return{data:null,error:n};throw n}})}exists(e){return Yg(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return Yg(this,void 0,void 0,function*(){return dx(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rx(n)&&n instanceof ax){const e=n.originalError;if([400,404].includes(null==e?void 0:e.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==s&&r.push(s);const a=void 0!==(null==t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==i&&r.push(i);let o=r.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${o}`)}}}remove(e){return Yg(this,void 0,void 0,function*(){try{return{data:yield mx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(rx(t))return{data:null,error:t};throw t}})}list(e,t,n){return Yg(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},xx),t),{prefix:e||""});return{data:yield px(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rx(r))return{data:null,error:r};throw r}})}listV2(e,t){return Yg(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield px(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},t),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rx(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const _x="2.79.0",Tx={"X-Client-Info":`storage-js/${_x}`};class wx{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const s=new URL(e);if(null==r?void 0:r.useNewHostname){/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."))}this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tx),t),this.fetch=ix(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Yg(this,void 0,void 0,function*(){try{const t=this.listBucketOptionsToQueryString(e);return{data:yield hx(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(rx(t))return{data:null,error:t};throw t}})}getBucket(e){return Yg(this,void 0,void 0,function*(){try{return{data:yield hx(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(rx(t))return{data:null,error:t};throw t}})}createBucket(e){return Yg(this,arguments,void 0,function*(e,t={public:!1}){try{return{data:yield px(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rx(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return Yg(this,void 0,void 0,function*(){try{return{data:yield fx(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rx(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Yg(this,void 0,void 0,function*(){try{return{data:yield px(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(rx(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Yg(this,void 0,void 0,function*(){try{return{data:yield mx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(rx(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}class kx{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tx),t),this.fetch=ix(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Yg(this,void 0,void 0,function*(){try{return{data:yield px(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(rx(t))return{data:null,error:t};throw t}})}listBuckets(e){return Yg(this,void 0,void 0,function*(){try{const t=new URLSearchParams;void 0!==(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString()),void 0!==(null==e?void 0:e.offset)&&t.set("offset",e.offset.toString()),(null==e?void 0:e.sortColumn)&&t.set("sortColumn",e.sortColumn),(null==e?void 0:e.sortOrder)&&t.set("sortOrder",e.sortOrder),(null==e?void 0:e.search)&&t.set("search",e.search);const n=t.toString(),r=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield hx(this.fetch,r,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(rx(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Yg(this,void 0,void 0,function*(){try{return{data:yield mx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(rx(t))return{data:null,error:t};throw t}})}}const Nx={"X-Client-Info":`storage-js/${_x}`,"Content-Type":"application/json"};class Sx extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ax(e){return"object"==typeof e&&null!==e&&"__isStorageVectorsError"in e}class Cx extends Sx{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ix extends Sx{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var jx,Ox;(Ox=jx||(jx={})).InternalError="InternalError",Ox.S3VectorConflictException="S3VectorConflictException",Ox.S3VectorNotFoundException="S3VectorNotFoundException",Ox.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",Ox.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",Ox.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded";const Rx=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),Px=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Dx=(e,t,n,r)=>{const s={method:e,headers:(null==t?void 0:t.headers)||{}};return r?((e=>{if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)})(r)?(s.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n)):s};function Lx(e,t,n,r,s,a){return Yg(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(n,Dx(t,r,s,a)).then(e=>{if(!e.ok)throw e;if(null==r?void 0:r.noResolveJson)return e;const t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json():{}}).then(e=>i(e)).catch(e=>((e,t,n)=>Yg(void 0,void 0,void 0,function*(){if(e&&"object"==typeof e&&"status"in e&&"ok"in e&&"number"==typeof e.status&&!(null==n?void 0:n.noResolveJson)){const n=e.status||500,r=e;if("function"==typeof r.json)r.json().then(e=>{const r=(null==e?void 0:e.statusCode)||(null==e?void 0:e.code)||n+"";t(new Cx(Px(e),n,r))}).catch(()=>{const e=n+"",s=r.statusText||`HTTP ${n} error`;t(new Cx(s,n,e))});else{const e=n+"",s=r.statusText||`HTTP ${n} error`;t(new Cx(s,n,e))}}else t(new Ix(Px(e),e))}))(e,o,r))})})}function Mx(e,t,n,r,s){return Yg(this,void 0,void 0,function*(){return Lx(e,"POST",t,r,s,n)})}class Bx{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nx),t),this.fetch=Rx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Yg(this,void 0,void 0,function*(){try{return{data:(yield Mx(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ax(t))return{data:null,error:t};throw t}})}getIndex(e,t){return Yg(this,void 0,void 0,function*(){try{return{data:yield Mx(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ax(n))return{data:null,error:n};throw n}})}listIndexes(e){return Yg(this,void 0,void 0,function*(){try{return{data:yield Mx(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ax(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return Yg(this,void 0,void 0,function*(){try{return{data:(yield Mx(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ax(n))return{data:null,error:n};throw n}})}}class Ux{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nx),t),this.fetch=Rx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Yg(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Mx(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ax(t))return{data:null,error:t};throw t}})}getVectors(e){return Yg(this,void 0,void 0,function*(){try{return{data:yield Mx(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ax(t))return{data:null,error:t};throw t}})}listVectors(e){return Yg(this,void 0,void 0,function*(){try{if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error("segmentIndex must be between 0 and "+(e.segmentCount-1))}return{data:yield Mx(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ax(t))return{data:null,error:t};throw t}})}queryVectors(e){return Yg(this,void 0,void 0,function*(){try{return{data:yield Mx(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ax(t))return{data:null,error:t};throw t}})}deleteVectors(e){return Yg(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Mx(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ax(t))return{data:null,error:t};throw t}})}}class Fx{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nx),t),this.fetch=Rx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Yg(this,void 0,void 0,function*(){try{return{data:(yield Mx(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ax(t))return{data:null,error:t};throw t}})}getBucket(e){return Yg(this,void 0,void 0,function*(){try{return{data:yield Mx(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ax(t))return{data:null,error:t};throw t}})}listBuckets(){return Yg(this,arguments,void 0,function*(e={}){try{return{data:yield Mx(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ax(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Yg(this,void 0,void 0,function*(){try{return{data:(yield Mx(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ax(t))return{data:null,error:t};throw t}})}}class Hx extends Fx{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new zx(this.url,this.headers,e,this.fetch)}}class zx extends Bx{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Yg(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Yg(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Yg(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Yg(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Gx(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Gx extends Ux{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Yg(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Yg(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Yg(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Yg(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Yg(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class $x extends wx{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new Ex(this.url,this.headers,e,this.fetch)}get vectors(){return new Hx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new kx(this.url+"/iceberg",this.headers,this.fetch)}}let Wx="";Wx="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const qx={headers:{"X-Client-Info":`supabase-js-${Wx}/2.79.0`}},Vx={schema:"public"},Yx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Kx={},Qx=(e,t,n)=>{const r=(e=>e?(...t)=>e(...t):(...e)=>fetch(...e))(n),s=Headers;return async(n,a)=>{var i;const o=null!==(i=await t())&&void 0!==i?i:e;let l=new s(null==a?void 0:a.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),r(n,Object.assign(Object.assign({},a),{headers:l}))}};const Jx="2.79.0",Xx=3e4,Zx=9e4,ev={"X-Client-Info":`gotrue-js/${Jx}`},tv="X-Supabase-Api-Version",nv={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},rv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class sv extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function av(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class iv extends sv{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class ov extends sv{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class lv extends sv{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class cv extends lv{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class uv extends lv{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class dv extends lv{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class hv extends lv{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pv extends lv{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fv extends lv{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function mv(e){return av(e)&&"AuthRetryableFetchError"===e.name}class gv extends lv{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class bv extends lv{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const yv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xv=" \t\n\r=".split(""),vv=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<xv.length;t+=1)e[xv[t].charCodeAt(0)]=-2;for(let t=0;t<yv.length;t+=1)e[yv[t].charCodeAt(0)]=t;return e})();function Ev(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(yv[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(yv[e]),t.queuedBits-=6}}function _v(e,t,n){const r=vv[e];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Tv(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let i=0;i<e.length;i+=1)_v(e.charCodeAt(i),s,a);return t.join("")}function wv(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function kv(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let s=0;s<e.length;s+=1)_v(e.charCodeAt(s),n,r);return new Uint8Array(t)}function Nv(e){const t=[];return function(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}wv(r,t)}}(e,e=>t.push(e)),new Uint8Array(t)}function Sv(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>Ev(e,n,r)),Ev(null,n,r),t.join("")}const Av=()=>"undefined"!=typeof window&&"undefined"!=typeof document,Cv={tested:!1,writable:!1},Iv=()=>{if(!Av())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(Rm){return!1}if(Cv.tested)return Cv.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Cv.tested=!0,Cv.writable=!0}catch(Rm){Cv.tested=!0,Cv.writable=!1}return Cv.writable};const jv=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),Ov=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Rv=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},Pv=async(e,t)=>{await e.removeItem(t)};class Dv{constructor(){this.promise=new Dv.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function Lv(e){const t=e.split(".");if(3!==t.length)throw new bv("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!rv.test(t[n]))throw new bv("JWT not in base64url format");return{header:JSON.parse(Tv(t[0])),payload:JSON.parse(Tv(t[1])),signature:kv(t[2]),raw:{header:t[0],payload:t[1]}}}function Mv(e){return("0"+e.toString(16)).substr(-2)}async function Bv(e){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Uv(e,t,n=!1){const r=function(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,Mv).join("")}();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Ov(e,`${t}-code-verifier`,s);const a=await Bv(r);return[a,r===a?"plain":"s256"]}Dv.promiseConstructor=Promise;const Fv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Hv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zv(e){if(!Hv.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Gv(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $v(e){return JSON.parse(JSON.stringify(e))}const Wv=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),qv=[502,503,504];async function Vv(e){var t,n;if(!("object"==typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"==typeof n.json))throw new fv(Wv(e),0);if(qv.includes(e.status))throw new fv(Wv(e),e.status);let r,s;try{r=await e.json()}catch(Rm){throw new ov(Wv(Rm),Rm)}const a=function(e){const t=e.headers.get(tv);if(!t)return null;if(!t.match(Fv))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(Rm){return null}}(e);if(a&&a.getTime()>=nv.timestamp&&"object"==typeof r&&r&&"string"==typeof r.code?s=r.code:"object"==typeof r&&r&&"string"==typeof r.error_code&&(s=r.error_code),s){if("weak_password"===s)throw new gv(Wv(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===s)throw new cv}else if("object"==typeof r&&r&&"object"==typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new gv(Wv(r),e.status,r.weak_password.reasons);throw new iv(Wv(r),e.status||500,s)}async function Yv(e,t,n,r){var s;const a=Object.assign({},null==r?void 0:r.headers);a[tv]||(a[tv]=nv.name),(null==r?void 0:r.jwt)&&(a.Authorization=`Bearer ${r.jwt}`);const i=null!==(s=null==r?void 0:r.query)&&void 0!==s?s:{};(null==r?void 0:r.redirectTo)&&(i.redirect_to=r.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,n,r,s,a){const i=((e,t,n,r)=>{const s={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))})(t,r,s,a);let o;try{o=await e(n,Object.assign({},i))}catch(Rm){throw new fv(Wv(Rm),0)}o.ok||await Vv(o);if(null==r?void 0:r.noResolveJson)return o;try{return await o.json()}catch(Rm){await Vv(Rm)}}(e,t,n+o,{headers:a,noResolveJson:null==r?void 0:r.noResolveJson},{},null==r?void 0:r.body);return(null==r?void 0:r.xform)?null==r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function Kv(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Qv(e){const t=Kv(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Jv(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Xv(e){return{data:e,error:null}}function Zv(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a}=e,i=Fg(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a},user:Object.assign({},i)},error:null}}function eE(e){return e}const tE=["global","local","others"];class nE{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=jv(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=tE[0]){if(tE.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${tE.join(", ")}`);try{return await Yv(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(av(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await Yv(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Jv})}catch(n){if(av(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=Fg(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null==n?void 0:n.newEmail,delete r.newEmail),await Yv(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Zv,redirectTo:null==t?void 0:t.redirectTo})}catch(t){if(av(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Yv(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Jv})}catch(t){if(av(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,s,a,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await Yv(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(s=null===(r=null==e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==s?s:""},xform:eE});if(c.error)throw c.error;const u=await c.json(),d=null!==(a=c.headers.get("x-total-count"))&&void 0!==a?a:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l[`${n}Page`]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(av(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){zv(e);try{return await Yv(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Jv})}catch(t){if(av(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){zv(e);try{return await Yv(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Jv})}catch(n){if(av(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){zv(e);try{return await Yv(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Jv})}catch(n){if(av(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){zv(e.userId);try{const{data:t,error:n}=await Yv(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(av(t))return{data:null,error:t};throw t}}async _deleteFactor(e){zv(e.userId),zv(e.id);try{return{data:await Yv(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(av(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,n,r,s,a,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await Yv(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(s=null===(r=null==e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==s?s:""},xform:eE});if(c.error)throw c.error;const u=await c.json(),d=null!==(a=c.headers.get("x-total-count"))&&void 0!==a?a:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l[`${n}Page`]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(av(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await Yv(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(av(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Yv(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(av(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await Yv(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(n){if(av(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Yv(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(av(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Yv(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(av(t))return{data:null,error:t};throw t}}}function rE(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const sE=!!(globalThis&&Iv()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class aE extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class iE extends aE{}async function oE(e,t,n){const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort()},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw new iE(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(sE)try{await globalThis.navigator.locks.query()}catch(Rm){}return await n()}try{return await n()}finally{}}))}function lE(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function cE(e){const t=(new TextEncoder).encode(e);return"0x"+Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")}class uE extends Error{constructor({message:e,code:t,cause:n,name:r}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=null!==(s=null!=r?r:n instanceof Error?n.name:void 0)&&void 0!==s?s:"Unknown Error",this.code=t}}class dE extends uE{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function hE({error:e,options:t}){var n,r,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new uE({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("ConstraintError"===e.name){if(!0===(null===(n=a.authenticatorSelection)||void 0===n?void 0:n.requireResidentKey))return new uE({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if("conditional"===t.mediation&&"required"===(null===(r=a.authenticatorSelection)||void 0===r?void 0:r.userVerification))return new uE({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if("required"===(null===(s=a.authenticatorSelection)||void 0===s?void 0:s.userVerification))return new uE({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if("InvalidStateError"===e.name)return new uE({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if("NotAllowedError"===e.name)return new uE({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("NotSupportedError"===e.name){return 0===a.pubKeyCredParams.filter(e=>"public-key"===e.type).length?new uE({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new uE({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e})}if("SecurityError"===e.name){const t=window.location.hostname;if(!xE(t))return new uE({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(a.rp.id!==t)return new uE({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("TypeError"===e.name){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new uE({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if("UnknownError"===e.name)return new uE({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new uE({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function pE({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new uE({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if("NotAllowedError"===e.name)return new uE({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("SecurityError"===e.name){const t=window.location.hostname;if(!xE(t))return new uE({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(n.rpId!==t)return new uE({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("UnknownError"===e.name)return new uE({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new uE({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}const fE=new class{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function mE(e){if(!e)throw new Error("Credential creation options are required");if("undefined"!=typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Fg(e,["challenge","user","excludeCredentials"]),a=kv(t).buffer,i=Object.assign(Object.assign({},n),{id:kv(n.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:a,user:i});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let e=0;e<r.length;e++){const t=r[e];o.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:kv(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return o}function gE(e){if(!e)throw new Error("Credential request options are required");if("undefined"!=typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Fg(e,["challenge","allowCredentials"]),s=kv(t).buffer,a=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let e=0;e<n.length;e++){const t=n[e];a.allowCredentials[e]=Object.assign(Object.assign({},t),{id:kv(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return a}function bE(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Sv(new Uint8Array(e.response.attestationObject)),clientDataJSON:Sv(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:null!==(t=n.authenticatorAttachment)&&void 0!==t?t:void 0}}function yE(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Sv(new Uint8Array(s.authenticatorData)),clientDataJSON:Sv(new Uint8Array(s.clientDataJSON)),signature:Sv(new Uint8Array(s.signature)),userHandle:s.userHandle?Sv(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:null!==(t=n.authenticatorAttachment)&&void 0!==t?t:void 0}}function xE(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function vE(){var e,t;return!!(Av()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null===(e=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===e?void 0:e.create)&&"function"==typeof(null===(t=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===t?void 0:t.get))}const EE={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},_E={userVerification:"preferred",hints:["security-key"]};function TE(...e){const t=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),n=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),r={};for(const s of e)if(s)for(const e in s){const a=s[e];if(void 0!==a)if(Array.isArray(a))r[e]=a;else if(n(a))r[e]=a;else if(t(a)){const n=r[e];t(n)?r[e]=TE(n,a):r[e]=TE(a)}else r[e]=a}return r}class wE{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:n,signal:r},s){try{const{data:a,error:i}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!a)return{data:null,error:i};const o=null!=r?r:fE.createNewAbortSignal();if("create"===a.webauthn.type){const{user:e}=a.webauthn.credential_options.publicKey;e.name||(e.name=`${e.id}:${n}`),e.displayName||(e.displayName=e.name)}switch(a.webauthn.type){case"create":{const t=function(e,t){return TE(EE,e,t||{})}(a.webauthn.credential_options.publicKey,null==s?void 0:s.create),{data:n,error:r}=await async function(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new dE("Browser returned unexpected credential type",t)}:{data:null,error:new dE("Empty credential response",t)}}catch(t){return{data:null,error:hE({error:t,options:e})}}}({publicKey:t,signal:o});return n?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:n}},error:null}:{data:null,error:r}}case"request":{const t=function(e,t){return TE(_E,e,t||{})}(a.webauthn.credential_options.publicKey,null==s?void 0:s.request),{data:n,error:r}=await async function(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new dE("Browser returned unexpected credential type",t)}:{data:null,error:new dE("Empty credential response",t)}}catch(t){return{data:null,error:pE({error:t,options:e})}}}(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:t,signal:o}));return n?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:n}},error:null}:{data:null,error:r}}}}catch(a){return av(a)?{data:null,error:a}:{data:null,error:new ov("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:t,webauthn:n}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:t=("undefined"!=typeof window?window.location.hostname:void 0),rpOrigins:n=("undefined"!=typeof window?[window.location.origin]:void 0),signal:r}},s){if(!t)return{data:null,error:new sv("rpId is required for WebAuthn authentication")};try{if(!vE())return{data:null,error:new ov("Browser does not support WebAuthn",null)};const{data:a,error:i}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:n},signal:r},{request:s});if(!a)return{data:null,error:i};const{webauthn:o}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:o.type,rpId:t,rpOrigins:n,credential_response:o.credential_response}})}catch(a){return av(a)?{data:null,error:a}:{data:null,error:new ov("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,rpId:t=("undefined"!=typeof window?window.location.hostname:void 0),rpOrigins:n=("undefined"!=typeof window?[window.location.origin]:void 0),signal:r},s){if(!t)return{data:null,error:new sv("rpId is required for WebAuthn registration")};try{if(!vE())return{data:null,error:new ov("Browser does not support WebAuthn",null)};const{data:a,error:i}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(t=>{var n;return null===(n=t.data)||void 0===n?void 0:n.all.find(t=>"webauthn"===t.factor_type&&t.friendly_name===e&&"unverified"!==t.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null==e?void 0:e.id}):void 0),{data:null,error:i};const{data:o,error:l}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:t,rpOrigins:n},signal:r},{create:s});return o?this._verify({factorId:a.id,challengeId:o.challengeId,webauthn:{rpId:t,rpOrigins:n,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:l}}catch(a){return av(a)?{data:null,error:a}:{data:null,error:new ov("Unexpected error in register",a)}}}}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(Rm){"undefined"!=typeof self&&(self.globalThis=self)}}();const kE={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ev,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function NE(e,t,n){return await n()}const SE={};class AE{get jwks(){var e,t;return null!==(t=null===(e=SE[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){SE[this.storageKey]=Object.assign(Object.assign({},SE[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=SE[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){SE[this.storageKey]=Object.assign(Object.assign({},SE[this.storageKey]),{cachedAt:e})}constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=AE.nextInstanceID,AE.nextInstanceID+=1,this.instanceID>0&&Av();const r=Object.assign(Object.assign({},kE),e);if(this.logDebugMessages=!!r.debug,"function"==typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new nE({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=jv(r.fetch),this.lock=r.lock||NE,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,this.throwOnError=r.throwOnError,r.lock?this.lock=r.lock:Av()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=oE:this.lock=NE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new wE(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:Iv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rE(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=rE(this.memoryStorage)),Av()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(Rm){}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Jx}) ${(new Date).toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t={},n="none";if(Av()&&(t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(Rm){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href),this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce")),Av()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:s}=await this._getSessionFromURL(t,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),function(e){return av(e)&&"AuthImplicitGrantRedirectError"===e.name}(s)){const t=null===(e=s.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",a,"redirect type",i),await this._saveSession(a),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return av(t)?this._returnResult({error:t}):this._returnResult({error:new ov("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const s=await Yv(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(n=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:Kv}),{data:a,error:i}=s;if(i||!a)return this._returnResult({data:{user:null,session:null},error:i});const o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(s){if(av(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var t,n,r;try{let s;if("email"in e){const{email:n,password:r,options:a}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await Uv(this.storage,this.storageKey)),s=await Yv(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==a?void 0:a.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null==a?void 0:a.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken},code_challenge:i,code_challenge_method:o},xform:Kv})}else{if(!("phone"in e))throw new dv("You must provide either an email or phone number and a password");{const{phone:t,password:a,options:i}=e;s=await Yv(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:a,data:null!==(n=null==i?void 0:i.data)&&void 0!==n?n:{},channel:null!==(r=null==i?void 0:i.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:Kv})}}const{data:a,error:i}=s;if(i||!a)return this._returnResult({data:{user:null,session:null},error:i});const o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(s){if(av(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:s}=e;t=await Yv(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:Qv})}else{if(!("phone"in e))throw new dv("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:s}=e;t=await Yv(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:Qv})}}const{data:n,error:r}=t;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!n||!n.session||!n.user){const e=new uv;return this._returnResult({data:{user:null,session:null},error:e})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(t){if(av(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,n,r,s;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,n,r,s,a,i,o,l,c,u,d;let h,p;if("message"in e)h=e.message,p=e.signature;else{const{chain:u,wallet:d,statement:f,options:m}=e;let g;if(Av())if("object"==typeof d)g=d;else{const e=window;if(!("ethereum"in e)||"object"!=typeof e.ethereum||!("request"in e.ethereum)||"function"!=typeof e.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");g=e.ethereum}else{if("object"!=typeof d||!(null==m?void 0:m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=d}const b=new URL(null!==(t=null==m?void 0:m.url)&&void 0!==t?t:window.location.href),y=await g.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!y||0===y.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const x=lE(y[0]);let v=null===(n=null==m?void 0:m.signInWithEthereum)||void 0===n?void 0:n.chainId;if(!v){const e=await g.request({method:"eth_chainId"});v=parseInt(e,16)}h=function(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:a=new Date,nonce:i,notBefore:o,requestId:l,resources:c,scheme:u,uri:d,version:h}=e;if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`);const p=`${u?`${u}://${r}`:r} wants you to sign in with your Ethereum account:\n${lE(e.address)}\n\n${e.statement?`${e.statement}\n`:""}`;let f=`URI: ${d}\nVersion: ${h}\nChain ID: ${n}${i?`\nNonce: ${i}`:""}\nIssued At: ${a.toISOString()}`;if(s&&(f+=`\nExpiration Time: ${s.toISOString()}`),o&&(f+=`\nNot Before: ${o.toISOString()}`),l&&(f+=`\nRequest ID: ${l}`),c){let e="\nResources:";for(const t of c){if(!t||"string"!=typeof t)throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${t}`);e+=`\n- ${t}`}f+=e}return`${p}\n${f}`}({domain:b.host,address:x,statement:f,uri:b.href,version:"1",chainId:v,nonce:null===(r=null==m?void 0:m.signInWithEthereum)||void 0===r?void 0:r.nonce,issuedAt:null!==(a=null===(s=null==m?void 0:m.signInWithEthereum)||void 0===s?void 0:s.issuedAt)&&void 0!==a?a:new Date,expirationTime:null===(i=null==m?void 0:m.signInWithEthereum)||void 0===i?void 0:i.expirationTime,notBefore:null===(o=null==m?void 0:m.signInWithEthereum)||void 0===o?void 0:o.notBefore,requestId:null===(l=null==m?void 0:m.signInWithEthereum)||void 0===l?void 0:l.requestId,resources:null===(c=null==m?void 0:m.signInWithEthereum)||void 0===c?void 0:c.resources}),p=await g.request({method:"personal_sign",params:[cE(h),x]})}try{const{data:t,error:n}=await Yv(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:p},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(d=e.options)||void 0===d?void 0:d.captchaToken}}:null),xform:Kv});if(n)throw n;if(!t||!t.session||!t.user){const e=new uv;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:n})}catch(f){if(av(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signInWithSolana(e){var t,n,r,s,a,i,o,l,c,u,d,h;let p,f;if("message"in e)p=e.message,f=e.signature;else{const{chain:d,wallet:h,statement:m,options:g}=e;let b;if(Av())if("object"==typeof h)b=h;else{const e=window;if(!("solana"in e)||"object"!=typeof e.solana||!("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");b=e.solana}else{if("object"!=typeof h||!(null==g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=h}const y=new URL(null!==(t=null==g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in b&&b.signIn){const e=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null==g?void 0:g.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"==typeof e[0])t=e[0];else{if(!(e&&"object"==typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"==typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");p="string"==typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),f=t.signature}else{if(!("signMessage"in b&&"function"==typeof b.signMessage&&"publicKey"in b&&"object"==typeof b&&b.publicKey&&"toBase58"in b.publicKey&&"function"==typeof b.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${y.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${y.href}`,`Issued At: ${null!==(r=null===(n=null==g?void 0:g.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()}`,...(null===(s=null==g?void 0:g.signInWithSolana)||void 0===s?void 0:s.notBefore)?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...(null===(a=null==g?void 0:g.signInWithSolana)||void 0===a?void 0:a.expirationTime)?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...(null===(i=null==g?void 0:g.signInWithSolana)||void 0===i?void 0:i.chainId)?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...(null===(o=null==g?void 0:g.signInWithSolana)||void 0===o?void 0:o.nonce)?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...(null===(l=null==g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...(null===(u=null===(c=null==g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");const e=await b.signMessage((new TextEncoder).encode(p),"utf8");if(!(e&&e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");f=e}}try{const{data:t,error:n}=await Yv(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Sv(f)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:Kv});if(n)throw n;if(!t||!t.session||!t.user){const e=new uv;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:n})}catch(m){if(av(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async _exchangeCodeForSession(e){const t=await Rv(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(null!=t?t:"").split("/");try{const{data:t,error:s}=await Yv(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Kv});if(await Pv(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!t||!t.session||!t.user){const e=new uv;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign(Object.assign({},t),{redirectType:null!=r?r:null}),error:s})}catch(s){if(av(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:s,nonce:a}=e,i=await Yv(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:Kv}),{data:o,error:l}=i;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o||!o.session||!o.user){const e=new uv;return this._returnResult({data:{user:null,session:null},error:e})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:o,error:l})}catch(t){if(av(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,n,r,s,a;try{if("email"in e){const{email:r,options:s}=e;let a=null,i=null;"pkce"===this.flowType&&([a,i]=await Uv(this.storage,this.storageKey));const{error:o}=await Yv(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null==s?void 0:s.data)&&void 0!==t?t:{},create_user:null===(n=null==s?void 0:s.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},code_challenge:a,code_challenge_method:i},redirectTo:null==s?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}if("phone"in e){const{phone:t,options:n}=e,{data:i,error:o}=await Yv(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null==n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(s=null==n?void 0:n.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},channel:null!==(a=null==n?void 0:n.channel)&&void 0!==a?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null==i?void 0:i.message_id},error:o})}throw new dv("You must provide either an email or phone number.")}catch(i){if(av(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async verifyOtp(e){var t,n;try{let r,s;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,s=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:a,error:i}=await Yv(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:Kv});if(i)throw i;if(!a){throw new Error("An error occurred on token verification.")}const o=a.session,l=a.user;return(null==o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(r){if(av(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(e){var t,n,r;try{let s=null,a=null;"pkce"===this.flowType&&([s,a]=await Uv(this.storage,this.storageKey));const i=await Yv(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:Xv});return this._returnResult(i)}catch(s){if(av(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new cv;const{error:r}=await Yv(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(e){if(av(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:s}=e,{error:a}=await Yv(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},redirectTo:null==s?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}if("phone"in e){const{phone:n,type:r,options:s}=e,{data:a,error:i}=await Yv(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null==a?void 0:a.message_id},error:i})}throw new dv("You must provide either an email or phone number and a type")}catch(t){if(av(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(Rm){}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(Rm){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Rv(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<Zx;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const t=await Rv(this.userStorage,this.storageKey+"-user");(null==t?void 0:t.user)?e.user=t.user:e.user=Gv()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const t={value:this.suppressGetSessionWarning};e.user=function(e,t){return new Proxy(e,{get:(e,n,r)=>{if("__isInsecureUserWarningProxy"===n)return!0;if("symbol"==typeof n){const t=n.toString();if("Symbol(Symbol.toPrimitive)"===t||"Symbol(Symbol.toStringTag)"===t||"Symbol(util.inspect.custom)"===t||"Symbol(nodejs.util.inspect.custom)"===t)return Reflect.get(e,n,r)}return t.value||"string"!=typeof n||(t.value=!0),Reflect.get(e,n,r)}})}(e.user,t),t.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await Yv(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Jv}):await this._useSession(async e=>{var t,n,r;const{data:s,error:a}=e;if(a)throw a;return(null===(t=s.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Yv(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(n=s.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:Jv}):{data:{user:null},error:new cv}})}catch(t){if(av(t))return function(e){return av(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await Pv(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:r,error:s}=n;if(s)throw s;if(!r.session)throw new cv;const a=r.session;let i=null,o=null;"pkce"===this.flowType&&null!=e.email&&([i,o]=await Uv(this.storage,this.storageKey));const{data:l,error:c}=await Yv(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:o}),jwt:a.access_token,xform:Jv});if(c)throw c;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(av(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new cv;const t=Date.now()/1e3;let n=t,r=!0,s=null;const{payload:a}=Lv(e.access_token);if(a.exp&&(n=a.exp,r=n<=t),r){const{data:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!t)return{data:{user:null,session:null},error:null};s=t}else{const{data:r,error:a}=await this._getUser(e.access_token);if(a)throw a;s={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(t){if(av(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:s}=t;if(s)throw s;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null==e?void 0:e.refresh_token))throw new cv;const{data:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(av(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!Av())throw new hv("No browser detected.");if(e.error||e.error_description||e.error_code)throw new hv(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new pv("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new hv("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new pv("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:s,refresh_token:a,expires_in:i,expires_at:o,token_type:l}=e;if(!(s&&i&&a&&l))throw new hv("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(i);let d=c+u;o&&(d=parseInt(o));const{data:h,error:p}=await this._getUser(s);if(p)throw p;const f={provider_token:n,provider_refresh_token:r,access_token:s,expires_in:u,expires_at:d,refresh_token:a,token_type:l,user:h.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:f,redirectType:e.type},error:null})}catch(n){if(av(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Rv(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:r,error:s}=t;if(s)return this._returnResult({error:s});const a=null===(n=r.session)||void 0===n?void 0:n.access_token;if(a){const{error:t}=await this.admin.signOut(a,e);if(t&&(!function(e){return av(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return this._returnResult({error:t})}return"others"!==e&&(await this._removeSession(),await Pv(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:s}=t;if(s)throw s;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(s){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s)}})}async resetPasswordForEmail(e,t={}){let n=null,r=null;"pkce"===this.flowType&&([n,r]=await Uv(this.storage,this.storageKey,!0));try{return await Yv(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(av(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null})}catch(t){if(av(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,s,a,i;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(s=e.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:!0});return await Yv(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(a=o.session)||void 0===a?void 0:a.access_token)&&void 0!==i?i:void 0})});if(r)throw r;return Av()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==n?void 0:n.url),this._returnResult({data:{provider:e.provider,url:null==n?void 0:n.url},error:null})}catch(n){if(av(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var n;try{const{error:r,data:{session:s}}=t;if(r)throw r;const{options:a,provider:i,token:o,access_token:l,nonce:c}=e,u=await Yv(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:null!==(n=null==s?void 0:s.access_token)&&void 0!==n?n:void 0,body:{provider:i,id_token:o,access_token:l,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:Kv}),{data:d,error:h}=u;return h?this._returnResult({data:{user:null,session:null},error:h}):d&&d.session&&d.user?(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:h})):this._returnResult({data:{user:null,session:null},error:new uv})}catch(r){if(av(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:s,error:a}=t;if(a)throw a;return await Yv(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(n=s.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(av(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await function(e,t){const n=new Promise((n,r)=>{(async()=>{for(let s=0;s<1/0;s++)try{const r=await e(s);if(!t(s,null,r))return void n(r)}catch(Rm){if(!t(s,Rm))return void r(Rm)}})()});return n}(async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await Yv(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Kv})),(e,t)=>{const r=200*Math.pow(2,e);return t&&mv(t)&&Date.now()+r-n<Xx})}catch(n){if(this._debug(t,"error",n),av(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(t,"end")}}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Av()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Rv(this.storage,this.storageKey);if(s&&this.userStorage){let t=await Rv(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:s.user},await Ov(this.userStorage,this.storageKey+"-user",t)),s.user=null!==(e=null==t?void 0:t.user)&&void 0!==e?e:Gv()}else if(s&&!s.user&&!s.user){const e=await Rv(this.storage,this.storageKey+"-user");e&&(null==e?void 0:e.user)?(s.user=e.user,await Pv(this.storage,this.storageKey+"-user"),await Ov(this.storage,this.storageKey,s)):s.user=Gv()}if(this._debug(n,"session from storage",s),!this._isValidSession(s))return this._debug(n,"session is not valid"),void(null!==s&&await this._removeSession());const a=1e3*(null!==(t=s.expires_at)&&void 0!==t?t:1/0)-Date.now()<Zx;if(this._debug(n,`session has${a?"":" not"} expired with margin of 90000s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:e}=await this._callRefreshToken(s.refresh_token);e&&(mv(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(s.user&&!0===s.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(s.access_token);!t&&(null==e?void 0:e.user)?(s.user=e.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){return void this._debug(n,"error",s)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new cv;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Dv;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new cv;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={data:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(s){if(this._debug(r,"error",s),av(s)){const e={data:null,error:s};return mv(s)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,n=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],s=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(Rm){r.push(Rm)}});if(await Promise.all(s),r.length>0){for(let e=0;e<r.length;e+=1);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await Ov(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=$v(e);await Ov(this.storage,this.storageKey,r)}else{const e=$v(t);await Ov(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await Pv(this.storage,this.storageKey),await Pv(this.storage,this.storageKey+"-code-verifier"),await Pv(this.storage,this.storageKey+"-user"),this.userStorage&&await Pv(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Av()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(Rm){}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Xx);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-e)/Xx);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(Rm){}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(Rm){if(!(Rm.isAcquireTimeout||Rm instanceof aE))throw Rm;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Av()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=[`provider=${encodeURIComponent(t)}`];if((null==n?void 0:n.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),(null==n?void 0:n.scopes)&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),"pkce"===this.flowType){const[e,t]=await Uv(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(n.toString())}if(null==n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null==n?void 0:n.skipBrowserRedirect)&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:s}=t;return s?this._returnResult({data:null,error:s}):await Yv(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(av(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:s,error:a}=t;if(a)return this._returnResult({data:null,error:a});const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:o,error:l}=await Yv(this.fetch,"POST",`${this.url}/factors`,{body:i,headers:this.headers,jwt:null===(n=null==s?void 0:s.session)||void 0===n?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):("totp"===e.factorType&&"totp"===o.type&&(null===(r=null==o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),this._returnResult({data:o,error:null}))})}catch(t){if(av(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:s}=t;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?bE(e.webauthn.credential_response):yE(e.webauthn.credential_response)})}:{code:e.code}),{data:i,error:o}=await Yv(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token});return o?this._returnResult({data:null,error:o}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),this._returnResult({data:i,error:o}))})}catch(t){if(av(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:s}=t;if(s)return this._returnResult({data:null,error:s});const a=await Yv(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token});if(a.error)return a;const{data:i}=a;if("webauthn"!==i.type)return{data:i,error:null};switch(i.webauthn.type){case"create":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:mE(i.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:gE(i.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(av(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r={all:[],phone:[],totp:[],webauthn:[]};for(const s of null!==(e=null==t?void 0:t.factors)&&void 0!==e?e:[])r.all.push(s),"verified"===s.status&&r[s.factor_type].push(s);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:n},error:r}=await this.getSession();if(r)return this._returnResult({data:null,error:r});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Lv(n.access_token);let a=null;s.aal&&(a=s.aal);let i=a;(null!==(t=null===(e=n.user.factors)||void 0===e?void 0:e.filter(e=>"verified"===e.status))&&void 0!==t?t:[]).length>0&&(i="aal2");return{data:{currentLevel:a,nextLevel:i,currentAuthenticationMethods:s.amr||[]},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await Yv(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new cv})})}catch(t){if(av(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!r)return this._returnResult({data:null,error:new cv});const a=await Yv(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:e=>({data:e,error:null})});return a.data&&a.data.redirect_url&&Av()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(av(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!r)return this._returnResult({data:null,error:new cv});const a=await Yv(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:e=>({data:e,error:null})});return a.data&&a.data.redirect_url&&Av()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(av(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(t=>t.kid===e);if(n)return n;const r=Date.now();if(n=this.jwks.keys.find(t=>t.kid===e),n&&this.jwks_cached_at+6e5>r)return n;const{data:s,error:a}=await Yv(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return s.keys&&0!==s.keys.length?(this.jwks=s,this.jwks_cached_at=r,n=s.keys.find(t=>t.kid===e),n||null):null}async getClaims(e,t={}){try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});n=e.session.access_token}const{header:r,payload:s,signature:a,raw:{header:i,payload:o}}=Lv(n);(null==t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(s.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null==t?void 0:t.keys)?{keys:t.keys}:null==t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:s,header:r,signature:a},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!(await crypto.subtle.verify(c,u,a,Nv(`${i}.${o}`))))throw new bv("Invalid JWT signature");return{data:{claims:s,header:r,signature:a},error:null}}catch(n){if(av(n))return this._returnResult({data:null,error:n});throw n}}}AE.nextInstanceID=0;const CE=AE;class IE extends CE{constructor(e){super(e)}}class jE{constructor(e,t,n){var r,s,a;this.supabaseUrl=e,this.supabaseKey=t;const i=function(e){const t=null==e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL((n=t).endsWith("/")?n:n+"/")}catch(r){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}var n}(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l=function(e,t){var n,r;const{db:s,auth:a,realtime:i,global:o}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},u),i),storage:{},global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},null!==(n=null==d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null==o?void 0:o.headers)&&void 0!==r?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!=n?n:{},{db:Vx,realtime:Kx,auth:Object.assign(Object.assign({},Yx),{storageKey:o}),global:qx});this.storageKey=null!==(r=l.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(s=l.global.headers)&&void 0!==s?s:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(a=l.auth)&&void 0!==a?a:{},this.headers,l.global.fetch),this.fetch=Qx(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new ly(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new $x(this.storageUrl.href,this.headers,this.fetch,null==n?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Sb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:a,flowType:i,lock:o,debug:l,throwOnError:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new IE({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:i,lock:o,debug:l,throwOnError:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new tx(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=n,this.realtime.setAuth(n))}}!function(){if("undefined"!=typeof window)return!1;if("undefined"==typeof process)return!1;const e=process.version;if(null==e)return!1;const t=e.match(/^v(\d+)\./);!!t&&parseInt(t[1],10)}();const OE=(RE="https://usbutocanshhiozxevon.supabase.co",PE="sb_publishable_YQ3XwwyvEIPIn9p0EeMjsQ_mk6-A88G",DE={auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:window.localStorage,flowType:"pkce"}},new jE(RE,PE,DE));var RE,PE,DE;const LE=Lg((e,t)=>({user:null,session:null,loading:!0,initialized:!1,initialize:async()=>{try{const{data:{session:t},error:n}=await OE.auth.getSession();if(n)throw n;e({session:t,user:(null==t?void 0:t.user)??null,loading:!1,initialized:!0}),OE.auth.onAuthStateChange((t,n)=>{e({session:n,user:(null==n?void 0:n.user)??null,loading:!1})})}catch(t){e({loading:!1,initialized:!0})}},signInWithGoogle:async()=>{try{e({loading:!0});const{error:t}=await OE.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/knowledge-base`,queryParams:{access_type:"offline",prompt:"consent"}}});if(t)throw t}catch(t){throw e({loading:!1}),t}},signOut:async()=>{try{e({loading:!0});const{error:t}=await OE.auth.signOut();if(t)throw t;e({user:null,session:null,loading:!1})}catch(t){throw e({loading:!1}),t}}}));function ME({children:e}){const{initialize:t,initialized:n}=LE();return ht.useEffect(()=>{n||t()},[t,n]),_t.jsx(_t.Fragment,{children:e})}function BE({children:e}){const{user:t,loading:n}=LE(),r=Sf();return n?_t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:_t.jsxs("div",{className:"text-center",children:[_t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-600 mx-auto"}),_t.jsx("p",{className:"mt-4 text-slate-600",children:"Loading..."})]})}):t?_t.jsx(_t.Fragment,{children:e}):_t.jsx(Ff,{to:"/login",state:{from:r},replace:!0})}const UE="http://localhost:8080/api";async function FE(e,t={}){const{query:n,headers:r,body:s,...a}=t,i=function(e,t){const n=new URL(e,"http://cto.local");return t&&Object.entries(t).forEach(([e,t])=>{void 0!==t&&""!==t&&n.searchParams.set(e,String(t))}),`${UE.endsWith("/")?UE.slice(0,-1):UE}${n.pathname}${n.search}`}(e,n),o=await async function(){const{data:{session:e}}=await OE.auth.getSession();return(null==e?void 0:e.access_token)?{Authorization:`Bearer ${e.access_token}`}:{}}(),l=new Headers(r);Object.entries(o).forEach(([e,t])=>{l.set(e,t)}),!s||s instanceof FormData||l.set("Content-Type","application/json");const c=await fetch(i,{...a,headers:l,body:(FormData,s)});if(!c.ok){let e="Request failed";try{const t=await c.json();e=t.message??t.error??e}catch(Rm){const n=await c.text().catch(()=>"");e=n||`HTTP ${c.status}: ${c.statusText}`}throw new Error(e)}const u=c.headers.get("content-type");if(!u||!u.includes("application/json")){if(!(await c.text()))return{};throw new Error(`Expected JSON response but got: ${u}`)}try{return await c.json()}catch(d){throw new Error(`Failed to parse JSON response: ${d instanceof Error?d.message:"Unknown error"}`)}}function HE(){return FE("/jobs/meta/filters",{method:"GET"})}function zE(e,t=!1){return FE(`/jobs/${e}/analyze`,{method:"POST",body:JSON.stringify({regenerate:t})})}function GE(e){return FE("/hr/outreach/generate",{method:"POST",body:JSON.stringify(e)})}function $E(){return FE("/knowledge-sources",{method:"GET"})}function WE(e){return FE(`/knowledge-sources/${e}`,{method:"DELETE"})}function qE(){return FE("/preferences",{method:"GET"})}function VE(e){return FE(`/generate/${e}/materials`,{method:"GET"})}
/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const YE=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},KE=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim(),QE=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};
/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var JE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=ht.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:i,...o},l)=>ht.createElement("svg",{ref:l,...JE,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:KE("lucide",s),...!a&&!QE(o)&&{"aria-hidden":"true"},...o},[...i.map(([e,t])=>ht.createElement(e,t)),...Array.isArray(a)?a:[a]])),ZE=(e,t)=>{const n=ht.forwardRef(({className:n,...r},s)=>{return ht.createElement(XE,{ref:s,iconNode:t,className:KE(`lucide-${a=YE(e),a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...r});var a});return n.displayName=YE(e),n},e_=ZE("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),t_=ZE("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),n_=ZE("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]),r_=ZE("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),s_=ZE("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]),a_=ZE("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),i_=ZE("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),o_=ZE("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),l_=ZE("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),c_=ZE("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),u_=ZE("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),d_=ZE("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),h_=ZE("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),p_=ZE("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),f_=ZE("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]),m_=ZE("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),g_=ZE("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),b_=ZE("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),y_=ZE("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),x_=ZE("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),v_=ZE("github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),E_=ZE("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),__=ZE("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),T_=ZE("linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),w_=ZE("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),k_=ZE("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),N_=ZE("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),S_=ZE("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),A_=ZE("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),C_=ZE("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),I_=ZE("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),j_=ZE("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),O_=ZE("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);
/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function R_(){const{user:e}=LE(),t=Cf(),[n,r]=ht.useState(!1),[s,a]=ht.useState(["Software Engineering","Machine Learning"]),[i,o]=ht.useState(""),[l,c]=ht.useState(!1),[u,d]=ht.useState(!1),[h,p]=ht.useState(!1),[f,m]=ht.useState(null);ht.useEffect(()=>{fetch("https://api.github.com/repos/eaziym/cto").then(e=>e.json()).then(e=>m(e.stargazers_count)).catch(()=>m(null))},[]),ht.useEffect(()=>{const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("fade-in-visible")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});return document.querySelectorAll(".fade-in-section").forEach(t=>e.observe(t)),()=>e.disconnect()},[]),ht.useEffect(()=>{e&&g()},[e]);const g=async()=>{r(!0);try{const{sources:e}=await $E();t("/knowledge-base")}catch(e){t("/knowledge-base")}finally{r(!1)}};return e&&n?_t.jsx("div",{className:"flex min-h-screen items-center justify-center",children:_t.jsxs("div",{className:"text-center",children:[_t.jsx("div",{className:"mb-4 h-12 w-12 animate-spin rounded-full border-4 border-blue-600 border-t-transparent mx-auto"}),_t.jsx("p",{className:"text-gray-600",children:"Loading your profile..."})]})}):_t.jsxs("div",{className:"min-h-screen bg-slate-50",children:[_t.jsx("style",{children:"\n        .fade-in-section {\n          opacity: 0;\n          transform: translateY(30px);\n          transition: opacity 0.6s ease-out, transform 0.6s ease-out;\n        }\n        \n        .fade-in-visible {\n          opacity: 1;\n          transform: translateY(0);\n        }\n        \n        .fade-in-section:nth-child(1) { transition-delay: 0s; }\n        .fade-in-section:nth-child(2) { transition-delay: 0.1s; }\n        .fade-in-section:nth-child(3) { transition-delay: 0.2s; }\n      "}),_t.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 py-12 sm:py-16",children:_t.jsxs("div",{className:"grid gap-8 lg:grid-cols-2 lg:gap-16 items-center",children:[_t.jsxs("div",{className:"fade-in-section fade-in-visible",children:[_t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[_t.jsx("img",{src:"/android-chrome-192x192.png",alt:"CTO Logo",className:"w-8 h-8"}),_t.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-900",children:"Your personal Chief Talent Officer"})]}),_t.jsx("h1",{className:"mt-4 text-3xl font-bold text-slate-900 sm:text-4xl lg:text-5xl",children:"A platform that actually gets you"}),_t.jsx("p",{className:"mt-6 text-base sm:text-lg text-slate-600 leading-relaxed",children:"Connect your resume, LinkedIn, GitHub, and more. We'll piece together your full story to match you with jobs that truly fit, and help you craft applications that stand out."}),_t.jsx("div",{className:"mt-8 flex justify-center sm:justify-start",children:e?_t.jsx(em,{to:"/knowledge-base",className:"inline-flex items-center justify-center rounded-lg bg-brand-600 px-6 py-3 text-sm font-semibold text-white shadow-sm transition-all hover:bg-brand-700 hover:shadow-md",children:"Go to Profile"}):_t.jsx(em,{to:"/login",className:"inline-flex items-center justify-center rounded-lg bg-brand-600 px-6 py-3 text-sm font-semibold text-white shadow-sm transition-all hover:bg-brand-700 hover:shadow-md hover:text-white",children:"Get Started"})})]}),_t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 sm:p-8 shadow-sm fade-in-section fade-in-visible",children:[_t.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Platform Highlights"}),_t.jsxs("ul",{className:"space-y-4",children:[_t.jsxs("li",{className:"flex items-start gap-3",children:[_t.jsx("div",{className:"flex-shrink-0 mt-0.5",children:_t.jsx("svg",{className:"h-5 w-5 text-brand-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),_t.jsx("span",{className:"text-sm text-slate-700",children:"Smart matching that considers your full background, not just keywords"})]}),_t.jsxs("li",{className:"flex items-start gap-3",children:[_t.jsx("div",{className:"flex-shrink-0 mt-0.5",children:_t.jsx("svg",{className:"h-5 w-5 text-brand-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),_t.jsx("span",{className:"text-sm text-slate-700",children:"Custom resumes and cover letters for every role you apply to"})]}),_t.jsxs("li",{className:"flex items-start gap-3",children:[_t.jsx("div",{className:"flex-shrink-0 mt-0.5",children:_t.jsx("svg",{className:"h-5 w-5 text-brand-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),_t.jsx("span",{className:"text-sm text-slate-700",children:"Find the right people to reach out to  no more black holes"})]})]})]})]})}),_t.jsx("div",{className:"bg-white border-y border-slate-200 fade-in-section",children:_t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 py-12 sm:py-16",children:[_t.jsxs("div",{className:"text-center mb-12",children:[_t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-900",children:"How It Works"}),_t.jsx("p",{className:"mt-3 text-base text-slate-600",children:"Three steps to landing your dream job"})]}),_t.jsxs("div",{className:"grid gap-8 md:grid-cols-3",children:[_t.jsxs("div",{className:"text-center",children:[_t.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-brand-100 text-brand-600 font-bold text-lg mb-4",children:"1"}),_t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Tell Us Your Story"}),_t.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:"Upload your resume, connect LinkedIn, add GitHub projectswhatever tells your professional story. We'll combine it all into one complete picture of who you are."})]}),_t.jsxs("div",{className:"text-center",children:[_t.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-brand-100 text-brand-600 font-bold text-lg mb-4",children:"2"}),_t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Find Your Perfect Match"}),_t.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:"Browse thousands of jobs with intelligent matching. See exactly why you're a great fit and what makes each role interesting for you."})]}),_t.jsxs("div",{className:"text-center",children:[_t.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-brand-100 text-brand-600 font-bold text-lg mb-4",children:"3"}),_t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Stand Out From the Crowd"}),_t.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:"Get custom resumes and cover letters tailored to each role. Find the right people to talk to and reach out in a way that actually gets responses."})]})]})]})}),_t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 py-12 sm:py-16 fade-in-section",children:[_t.jsxs("div",{className:"text-center mb-8",children:[_t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-900",children:"See It In Action"}),_t.jsx("p",{className:"mt-3 text-base text-slate-600",children:"Here's what your experience will look like"})]}),_t.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[_t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white overflow-hidden shadow-sm fade-in-section",children:[_t.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:_t.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Your Sources"})}),_t.jsxs("div",{className:"p-4 space-y-3",children:[_t.jsx("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:_t.jsxs("div",{className:"flex items-center gap-3",children:[_t.jsx("div",{className:"w-8 h-8 rounded bg-green-100 flex items-center justify-center",children:_t.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),_t.jsxs("div",{children:[_t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"resume_2024.pdf"}),_t.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[_t.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Processed"]})]})]})}),_t.jsx("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:_t.jsxs("div",{className:"flex items-center gap-3",children:[_t.jsx("div",{className:"w-8 h-8 rounded bg-blue-100 flex items-center justify-center",children:_t.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})})}),_t.jsxs("div",{children:[_t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"linkedin.com/in/johndoe"}),_t.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[_t.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Processed"]})]})]})}),_t.jsx("div",{className:"flex items-center justify-between p-3 bg-blue-50 border border-blue-200 rounded-lg",children:_t.jsxs("div",{className:"flex items-center gap-3",children:[_t.jsx("div",{className:"w-8 h-8 rounded bg-purple-100 flex items-center justify-center",children:_t.jsx("svg",{className:"w-4 h-4 text-purple-600 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),_t.jsxs("div",{children:[_t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"github.com/johndoe"}),_t.jsx("p",{className:"text-xs text-blue-600",children:"Processing..."})]})]})}),_t.jsxs("button",{onClick:()=>{p(!0),setTimeout(()=>p(!1),3e3)},className:"w-full px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg text-sm text-gray-600 hover:border-brand-400 hover:text-brand-600 transition-colors flex items-center justify-center gap-2",children:[_t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Source"]}),h&&_t.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded-lg text-center",children:_t.jsx("p",{className:"text-xs text-green-600 font-medium",children:" Source added! Sign up to start building your profile"})})]})]}),_t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white overflow-hidden shadow-sm fade-in-section",children:[_t.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:_t.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"The Complete You"})}),_t.jsxs("div",{className:"p-4 max-h-[400px] overflow-y-auto",children:[_t.jsxs("div",{className:"mb-4",children:[_t.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"John Doe"}),_t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Senior Software Engineer with 5+ years of experience building scalable web applications. Passionate about clean code, user experience, and continuous learning."})]}),_t.jsxs("div",{className:"mb-4",children:[_t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[_t.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),_t.jsx("h5",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Experience"})]}),_t.jsxs("div",{className:"space-y-3",children:[_t.jsxs("div",{className:"pl-2 border-l-2 border-brand-200",children:[_t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Senior Software Engineer"}),_t.jsx("p",{className:"text-xs text-gray-600",children:"Tech Corp  2021 - Present"})]}),_t.jsxs("div",{className:"pl-2 border-l-2 border-gray-200",children:[_t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Software Engineer"}),_t.jsx("p",{className:"text-xs text-gray-600",children:"StartupCo  2019 - 2021"})]})]})]}),_t.jsxs("div",{className:"mb-4",children:[_t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[_t.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),_t.jsx("h5",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Skills"})]}),_t.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[_t.jsx("span",{className:"px-2 py-1 bg-brand-50 text-brand-700 text-xs rounded-full",children:"React"}),_t.jsx("span",{className:"px-2 py-1 bg-brand-50 text-brand-700 text-xs rounded-full",children:"TypeScript"}),_t.jsx("span",{className:"px-2 py-1 bg-brand-50 text-brand-700 text-xs rounded-full",children:"Node.js"}),_t.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:"Python"}),_t.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:"PostgreSQL"}),_t.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:"Docker"})]})]})]})]}),_t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white overflow-hidden shadow-sm lg:col-span-2 fade-in-section",children:[_t.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:_t.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Your Career Interests"})}),_t.jsxs("div",{className:"p-4",children:[_t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Based on your background, we predicted these might interest you. Click to toggle or add your own!"}),_t.jsxs("div",{className:"mb-4",children:[_t.jsx("h4",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide mb-2",children:"Industries"}),_t.jsx("div",{className:"flex flex-wrap gap-2",children:["Technology","Finance","Healthcare","E-commerce"].map(e=>_t.jsxs("button",{onClick:()=>{a(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:"px-3 py-1.5 text-sm rounded-full border-2 transition-all "+(s.includes(e)?"bg-purple-100 border-purple-300 text-purple-700 hover:bg-purple-200":"bg-white border-gray-300 text-gray-600 hover:border-purple-300"),children:[s.includes(e)&&_t.jsx(u_,{className:"w-3 h-3 inline mr-1"}),e]},e))})]}),_t.jsxs("div",{className:"mb-4",children:[_t.jsx("h4",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide mb-2",children:"Roles"}),_t.jsx("div",{className:"flex flex-wrap gap-2",children:["Software Engineering","Product Management","Data Science","Machine Learning"].map(e=>_t.jsxs("button",{onClick:()=>{a(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:"px-3 py-1.5 text-sm rounded-full border-2 transition-all "+(s.includes(e)?"bg-blue-100 border-blue-300 text-blue-700 hover:bg-blue-200":"bg-white border-gray-300 text-gray-600 hover:border-blue-300"),children:[s.includes(e)&&_t.jsx(u_,{className:"w-3 h-3 inline mr-1"}),e]},e))})]}),_t.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3 text-sm text-purple-700",children:[_t.jsxs("strong",{children:["Selected ",s.length," interests"]})," - We'll use these to find jobs that match what you're looking for!"]})]})]}),_t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white overflow-hidden shadow-sm lg:col-span-2 fade-in-section",children:[_t.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:_t.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Job Fit Analysis"})}),_t.jsxs("div",{className:"p-4",children:[_t.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[_t.jsxs("div",{className:"text-center",children:[_t.jsx("div",{className:"text-5xl font-bold text-brand-600",children:"87%"}),_t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Overall Fit"})]}),_t.jsxs("div",{className:"flex-1",children:[_t.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Senior Full-Stack Engineer at InnovateCo"}),_t.jsx("p",{className:"text-sm text-gray-600",children:"Great match! Your React and TypeScript expertise aligns perfectly with their tech stack. Your experience building scalable systems matches their core needs."})]})]}),_t.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[_t.jsxs("div",{className:"rounded-lg border border-green-200 bg-green-50 p-3",children:[_t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[_t.jsx("p",{className:"text-xs font-semibold text-green-700",children:"Technical Skills"}),_t.jsx("p",{className:"text-sm font-bold text-green-600",children:"95%"})]}),_t.jsx("p",{className:"text-xs text-green-600",children:"Strong match in React, TypeScript, and cloud technologies"})]}),_t.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-3",children:[_t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[_t.jsx("p",{className:"text-xs font-semibold text-blue-700",children:"Experience Level"}),_t.jsx("p",{className:"text-sm font-bold text-blue-600",children:"90%"})]}),_t.jsx("p",{className:"text-xs text-blue-600",children:"Your 5 years of experience fits their senior role perfectly"})]}),_t.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-3",children:[_t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[_t.jsx("p",{className:"text-xs font-semibold text-amber-700",children:"Domain Knowledge"}),_t.jsx("p",{className:"text-sm font-bold text-amber-600",children:"75%"})]}),_t.jsx("p",{className:"text-xs text-amber-600",children:"Some fintech experience would be beneficial but not required"})]})]})]})]}),_t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white overflow-hidden shadow-sm lg:col-span-2 fade-in-section",children:[_t.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:_t.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Tailored Materials"})}),_t.jsxs("div",{className:"grid md:grid-cols-2 divide-x divide-gray-200",children:[_t.jsxs("div",{className:"p-4 space-y-4",children:[_t.jsxs("button",{onClick:()=>c(!l),className:"w-full px-4 py-3 bg-brand-600 hover:bg-brand-700 text-white rounded-lg transition-colors font-medium text-sm flex items-center justify-between",children:[_t.jsx("span",{children:l?"Hide Resume Preview":"Generate Resume"}),_t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})]}),l&&_t.jsx("div",{className:"p-4 bg-white border border-gray-300 rounded-lg max-h-80 overflow-y-auto text-xs",children:_t.jsxs("div",{className:"prose prose-sm max-w-none",children:[_t.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-1",children:"John Doe"}),_t.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Senior Software Engineer | React & TypeScript Expert"}),_t.jsx("h4",{className:"text-xs font-semibold text-gray-900 mt-3 mb-1",children:"Professional Summary"}),_t.jsx("p",{className:"text-xs text-gray-700 leading-relaxed",children:"Results-driven Senior Software Engineer with 5+ years of experience in building scalable web applications using React and TypeScript. Proven track record in developing high-performance systems and leading technical initiatives."}),_t.jsx("h4",{className:"text-xs font-semibold text-gray-900 mt-3 mb-1",children:"Key Skills"}),_t.jsxs("p",{className:"text-xs text-gray-700",children:[_t.jsx("strong",{children:"Frontend:"})," React, TypeScript, JavaScript, HTML/CSS, Next.js",_t.jsx("br",{}),_t.jsx("strong",{children:"Backend:"})," Node.js, Python, PostgreSQL",_t.jsx("br",{}),_t.jsx("strong",{children:"Tools:"})," Docker, Git, AWS, CI/CD"]}),_t.jsx("h4",{className:"text-xs font-semibold text-gray-900 mt-3 mb-1",children:"Experience"}),_t.jsxs("p",{className:"text-xs text-gray-700",children:[_t.jsx("strong",{children:"Senior Software Engineer"})," - Tech Corp (2021-Present)",_t.jsx("br",{})," Built and maintained scalable React applications serving 100K+ users",_t.jsx("br",{})," Led migration from JavaScript to TypeScript, improving code quality by 40%"]})]})})]}),_t.jsxs("div",{className:"p-4 space-y-4",children:[_t.jsxs("button",{onClick:()=>d(!u),className:"w-full px-4 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors font-medium text-sm flex items-center justify-between",children:[_t.jsx("span",{children:u?"Hide Cover Letter":"Generate Cover Letter"}),_t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})]}),u&&_t.jsx("div",{className:"p-4 bg-white border border-gray-300 rounded-lg max-h-80 overflow-y-auto text-xs",children:_t.jsxs("div",{className:"prose prose-sm max-w-none",children:[_t.jsx("p",{className:"text-xs text-gray-700 mb-2",children:"Dear Hiring Manager,"}),_t.jsxs("p",{className:"text-xs text-gray-700 mb-2",children:["I am writing to express my strong interest in the ",_t.jsx("strong",{children:"Senior Full-Stack Engineer"})," position at",_t.jsx("strong",{children:" InnovateCo"}),". With over 5 years of experience specializing in React and TypeScript, I am confident in my ability to contribute to your team's success."]}),_t.jsx("p",{className:"text-xs text-gray-700 mb-2",children:"At Tech Corp, I led the development of scalable web applications serving over 100,000 users, and spearheaded our migration to TypeScript, resulting in a 40% improvement in code quality. This experience aligns perfectly with your requirements for building robust, scalable systems."}),_t.jsx("p",{className:"text-xs text-gray-700 mb-2",children:"I am particularly excited about InnovateCo's focus on innovative solutions and would welcome the opportunity to discuss how my expertise can contribute to your team's goals."}),_t.jsxs("p",{className:"text-xs text-gray-700",children:["Thank you for considering my application.",_t.jsx("br",{}),"Best regards,",_t.jsx("br",{}),"John Doe"]})]})})]})]})]}),_t.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white overflow-hidden shadow-sm lg:col-span-2 fade-in-section",children:[_t.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:_t.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Direct Outreach"})}),_t.jsxs("div",{className:"grid md:grid-cols-2 divide-x divide-gray-200",children:[_t.jsxs("div",{className:"p-4 space-y-4",children:[_t.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Found 2 relevant contacts at InnovateCo:"}),_t.jsxs("div",{className:"space-y-3",children:[_t.jsx("div",{className:"p-3 bg-white border border-gray-200 rounded-lg",children:_t.jsxs("div",{className:"flex items-start gap-3",children:[_t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white font-semibold text-sm",children:"SM"}),_t.jsxs("div",{className:"flex-1",children:[_t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Sarah Martinez"}),_t.jsx("p",{className:"text-xs text-gray-600",children:"Senior Recruiter at InnovateCo"}),_t.jsx("p",{className:"text-xs text-brand-600 mt-1",children:"sarah.m@innovateco.com"})]})]})}),_t.jsx("div",{className:"p-3 bg-white border border-gray-200 rounded-lg",children:_t.jsxs("div",{className:"flex items-start gap-3",children:[_t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-400 to-purple-600 flex items-center justify-center text-white font-semibold text-sm",children:"JC"}),_t.jsxs("div",{className:"flex-1",children:[_t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"James Chen"}),_t.jsx("p",{className:"text-xs text-gray-600",children:"Engineering Manager at InnovateCo"}),_t.jsx("p",{className:"text-xs text-brand-600 mt-1",children:"j.chen@innovateco.com"})]})]})})]})]}),_t.jsxs("div",{className:"p-4 space-y-4",children:[_t.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Personalized Outreach Message"}),_t.jsx("textarea",{value:i||"Hi Sarah,\n\nI'm very interested in the Senior Full-Stack Engineer position at InnovateCo. With 5+ years of React and TypeScript experience, I believe I'd be a great fit for your team.\n\nWould you be open to a brief conversation about this opportunity?\n\nBest regards,\nJohn",onChange:e=>o(e.target.value),className:"w-full px-3 py-2 text-xs border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-transparent resize-none",rows:10})]})]})]})]})]}),_t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 py-16 text-center fade-in-section",children:[_t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-900 mb-8",children:"Get Started with Your CTO"}),e?_t.jsx(em,{to:"/knowledge-base",className:"inline-flex items-center justify-center rounded-lg bg-brand-600 px-8 py-4 text-base font-semibold text-white shadow-sm transition-all hover:bg-brand-700 hover:shadow-md hover:text-white",children:"Go to Your Profile"}):_t.jsx(em,{to:"/login",className:"inline-flex items-center justify-center rounded-lg bg-brand-600 px-8 py-4 text-base font-semibold text-white shadow-sm transition-all hover:bg-brand-700 hover:shadow-md hover:text-white",children:"Sign In"})]}),_t.jsx("footer",{className:"border-t border-gray-200 bg-gray-50",children:_t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 py-8",children:[_t.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-6 text-sm text-gray-600",children:[_t.jsx(em,{to:"/privacy",className:"hover:text-brand-600 transition-colors",children:"Privacy Policy"}),_t.jsx("span",{className:"hidden sm:inline text-gray-400",children:""}),_t.jsx(em,{to:"/terms",className:"hover:text-brand-600 transition-colors",children:"Terms of Service"}),_t.jsx("span",{className:"hidden sm:inline text-gray-400",children:""}),_t.jsxs("a",{href:"https://github.com/eaziym/cto",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 hover:text-brand-600 transition-colors",children:[_t.jsx(v_,{className:"w-4 h-4"}),_t.jsx("span",{children:"GitHub"}),null!==f&&f>0&&_t.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 bg-gray-200 rounded-full text-xs font-semibold",children:[_t.jsx(C_,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),f]})]})]}),_t.jsxs("div",{className:"text-center mt-4 text-xs text-gray-500",children:[" ",(new Date).getFullYear()," CTO  Your Personal Chief Talent Officer. All rights reserved."]})]})})]})}function P_(){const e=Cf(),{user:t,signInWithGoogle:n,loading:r}=LE();ht.useEffect(()=>{t&&e("/knowledge-base")},[t,e]);return _t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:_t.jsxs("div",{className:"max-w-md w-full space-y-8 p-8 bg-white rounded-lg shadow-lg",children:[_t.jsxs("div",{className:"text-center",children:[_t.jsx("div",{className:"flex justify-center mb-4",children:_t.jsx("img",{src:"/android-chrome-192x192.png",alt:"CTO",className:"w-16 h-16"})}),_t.jsx("p",{className:"mt-2 text-sm text-slate-900",children:"Your Personal Chief Talent Officer"}),_t.jsx("p",{className:"mt-3 text-xs text-slate-500",children:"Sign in to access context-aware job matching and personalized career materials"})]}),_t.jsx("div",{className:"mt-8",children:_t.jsxs("button",{onClick:async()=>{try{await n()}catch(e){alert("Failed to sign in with Google. Please try again.")}},disabled:r,className:"w-full flex items-center justify-center gap-3 px-4 py-3 border border-slate-300 rounded-lg shadow-sm bg-white hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[_t.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[_t.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),_t.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),_t.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),_t.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),_t.jsx("span",{className:"text-sm font-medium text-slate-700",children:r?"Signing in...":"Continue with Google"})]})}),_t.jsx("div",{className:"mt-6 text-center text-xs text-slate-500",children:_t.jsxs("p",{children:["By signing in, you agree to our"," ",_t.jsx(em,{to:"/terms",className:"text-brand-600 hover:text-brand-700 underline",children:"Terms of Service"})," ","and"," ",_t.jsx(em,{to:"/privacy",className:"text-brand-600 hover:text-brand-700 underline",children:"Privacy Policy"})]})})]})})}function D_(){return _t.jsx("div",{className:"min-h-screen bg-slate-50 py-12",children:_t.jsx("div",{className:"mx-auto max-w-4xl px-6",children:_t.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[_t.jsx(em,{to:"/login",className:"text-sm text-brand-600 hover:text-brand-700 mb-6 inline-block",children:" Back to Login"}),_t.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Terms of Service"}),_t.jsx("p",{className:"text-sm text-slate-500 mb-8",children:"Last updated: November 9, 2025"}),_t.jsxs("div",{className:"prose prose-slate max-w-none",children:[_t.jsxs("section",{className:"mb-8",children:[_t.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"1. Acceptance of Terms"}),_t.jsx("p",{className:"text-slate-600 mb-4",children:"By accessing and using CTO (Chief Talent Officer), you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to these terms, please do not use our service."})]}),_t.jsxs("section",{className:"mb-8",children:[_t.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"2. Description of Service"}),_t.jsx("p",{className:"text-slate-600 mb-4",children:"CTO is an AI-powered job matching platform that helps users find relevant job opportunities and create personalized application materials. Our service includes:"}),_t.jsxs("ul",{className:"list-disc pl-6 text-slate-600 space-y-2 mb-4",children:[_t.jsx("li",{children:"Job recommendations based on your profile and preferences"}),_t.jsx("li",{children:"AI-generated resumes and cover letters"}),_t.jsx("li",{children:"HR outreach message generation"}),_t.jsx("li",{children:"Knowledge base management for your professional information"})]})]}),_t.jsxs("section",{className:"mb-8",children:[_t.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"3. User Accounts"}),_t.jsx("p",{className:"text-slate-600 mb-4",children:"You are responsible for maintaining the confidentiality of your account credentials. You agree to accept responsibility for all activities that occur under your account. You must notify us immediately of any unauthorized use of your account."})]}),_t.jsxs("section",{className:"mb-8",children:[_t.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"4. User Content"}),_t.jsx("p",{className:"text-slate-600 mb-4",children:"You retain ownership of all content you upload to CTO, including resumes, project information, and other professional materials. By uploading content, you grant us a license to use, store, and process this content solely for the purpose of providing our services to you."})]}),_t.jsxs("section",{className:"mb-8",children:[_t.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"5. AI-Generated Content"}),_t.jsx("p",{className:"text-slate-600 mb-4",children:"Our service uses artificial intelligence to generate resumes, cover letters, and other materials. While we strive for accuracy and quality, you are responsible for reviewing and verifying all AI-generated content before use. We make no guarantees regarding the success of job applications made using our service."})]}),_t.jsxs("section",{className:"mb-8",children:[_t.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"6. Acceptable Use"}),_t.jsx("p",{className:"text-slate-600 mb-4",children:"You agree not to:"}),_t.jsxs("ul",{className:"list-disc pl-6 text-slate-600 space-y-2 mb-4",children:[_t.jsx("li",{children:"Use the service for any illegal purpose"}),_t.jsx("li",{children:"Upload false or misleading information"}),_t.jsx("li",{children:"Attempt to gain unauthorized access to our systems"}),_t.jsx("li",{children:"Use automated systems to access the service in ways that send more requests than a human could reasonably produce"}),_t.jsx("li",{children:"Interfere with or disrupt the service or servers"})]})]}),_t.jsxs("section",{className:"mb-8",children:[_t.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"7. Termination"}),_t.jsx("p",{className:"text-slate-600 mb-4",children:"We reserve the right to terminate or suspend your account at any time, with or without notice, for conduct that we believe violates these Terms of Service or is harmful to other users, us, or third parties, or for any other reason."})]}),_t.jsxs("section",{className:"mb-8",children:[_t.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"8. Disclaimer of Warranties"}),_t.jsx("p",{className:"text-slate-600 mb-4",children:'The service is provided "as is" without warranties of any kind, either express or implied. We do not guarantee that the service will be uninterrupted, secure, or error-free.'})]}),_t.jsxs("section",{className:"mb-8",children:[_t.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"9. Limitation of Liability"}),_t.jsx("p",{className:"text-slate-600 mb-4",children:"To the maximum extent permitted by law, CTO shall not be liable for any indirect, incidental, special, consequential, or punitive damages resulting from your use of or inability to use the service."})]}),_t.jsxs("section",{className:"mb-8",children:[_t.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"10. Changes to Terms"}),_t.jsx("p",{className:"text-slate-600 mb-4",children:"We reserve the right to modify these terms at any time. We will notify users of any material changes. Your continued use of the service after such modifications constitutes your acceptance of the updated terms."})]}),_t.jsxs("section",{className:"mb-8",children:[_t.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"11. Contact Information"}),_t.jsx("p",{className:"text-slate-600 mb-4",children:"If you have any questions about these Terms of Service, please contact us through the platform."})]})]})]})})})}function L_(){return _t.jsx("div",{className:"min-h-screen bg-slate-50 py-12",children:_t.jsx("div",{className:"mx-auto max-w-4xl px-6",children:_t.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[_t.jsx(em,{to:"/login",className:"text-sm text-brand-600 hover:text-brand-700 mb-6 inline-block",children:" Back to Login"}),_t.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Privacy Policy"}),_t.jsx("p",{className:"text-sm text-slate-500 mb-8",children:"Last updated: November 9, 2025"}),_t.jsxs("div",{className:"prose prose-slate max-w-none",children:[_t.jsxs("section",{className:"mb-8",children:[_t.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"1. Introduction"}),_t.jsx("p",{className:"text-slate-600 mb-4",children:'CTO ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our service.'})]}),_t.jsxs("section",{className:"mb-8",children:[_t.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"2. Information We Collect"}),_t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2 mt-4",children:"2.1 Information You Provide"}),_t.jsx("p",{className:"text-slate-600 mb-4",children:"We collect information that you voluntarily provide to us, including:"}),_t.jsxs("ul",{className:"list-disc pl-6 text-slate-600 space-y-2 mb-4",children:[_t.jsx("li",{children:"Account information (name, email address from Google authentication)"}),_t.jsx("li",{children:"Professional information (resumes, work experience, education, skills)"}),_t.jsx("li",{children:"Project information and portfolio links"}),_t.jsx("li",{children:"LinkedIn, GitHub, and other professional profile URLs"}),_t.jsx("li",{children:"Job preferences and interests"})]}),_t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2 mt-4",children:"2.2 Automatically Collected Information"}),_t.jsx("p",{className:"text-slate-600 mb-4",children:"When you use our service, we may automatically collect:"}),_t.jsxs("ul",{className:"list-disc pl-6 text-slate-600 space-y-2 mb-4",children:[_t.jsx("li",{children:"Usage data (pages visited, features used, time spent)"}),_t.jsx("li",{children:"Device information (browser type, operating system)"}),_t.jsx("li",{children:"Log data (IP address, access times, errors)"})]})]}),_t.jsxs("section",{className:"mb-8",children:[_t.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"3. How We Use Your Information"}),_t.jsx("p",{className:"text-slate-600 mb-4",children:"We use the information we collect to:"}),_t.jsxs("ul",{className:"list-disc pl-6 text-slate-600 space-y-2 mb-4",children:[_t.jsx("li",{children:"Provide and maintain our job matching service"}),_t.jsx("li",{children:"Generate personalized resumes, cover letters, and outreach messages"}),_t.jsx("li",{children:"Match you with relevant job opportunities"}),_t.jsx("li",{children:"Improve and optimize our AI algorithms"}),_t.jsx("li",{children:"Communicate with you about your account and our services"}),_t.jsx("li",{children:"Analyze usage patterns to enhance user experience"}),_t.jsx("li",{children:"Detect and prevent fraud or abuse"})]})]}),_t.jsxs("section",{className:"mb-8",children:[_t.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"4. AI Processing"}),_t.jsx("p",{className:"text-slate-600 mb-4",children:"We use artificial intelligence and large language models to process your information. Your data may be sent to third-party AI providers (such as OpenAI) to generate personalized content. These providers are bound by their own privacy policies and data processing agreements."})]}),_t.jsxs("section",{className:"mb-8",children:[_t.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"5. Information Sharing"}),_t.jsx("p",{className:"text-slate-600 mb-4",children:"We do not sell your personal information. We may share your information in the following circumstances:"}),_t.jsxs("ul",{className:"list-disc pl-6 text-slate-600 space-y-2 mb-4",children:[_t.jsxs("li",{children:[_t.jsx("strong",{children:"With your consent:"})," When you explicitly choose to share information (e.g., applying to jobs)"]}),_t.jsxs("li",{children:[_t.jsx("strong",{children:"Service providers:"})," With third-party vendors who perform services on our behalf (AI providers, hosting services)"]}),_t.jsxs("li",{children:[_t.jsx("strong",{children:"Legal requirements:"})," When required by law or to protect our rights"]}),_t.jsxs("li",{children:[_t.jsx("strong",{children:"Business transfers:"})," In connection with a merger, acquisition, or sale of assets"]})]})]}),_t.jsxs("section",{className:"mb-8",children:[_t.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"6. Data Security"}),_t.jsx("p",{className:"text-slate-600 mb-4",children:"We implement appropriate technical and organizational security measures to protect your information. However, no method of transmission over the Internet or electronic storage is 100% secure. While we strive to protect your data, we cannot guarantee absolute security."})]}),_t.jsxs("section",{className:"mb-8",children:[_t.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"7. Data Retention"}),_t.jsx("p",{className:"text-slate-600 mb-4",children:"We retain your information for as long as your account is active or as needed to provide you services. You can request deletion of your account and associated data at any time."})]}),_t.jsxs("section",{className:"mb-8",children:[_t.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"8. Your Rights"}),_t.jsx("p",{className:"text-slate-600 mb-4",children:"Depending on your location, you may have the following rights:"}),_t.jsxs("ul",{className:"list-disc pl-6 text-slate-600 space-y-2 mb-4",children:[_t.jsx("li",{children:"Access your personal information"}),_t.jsx("li",{children:"Correct inaccurate or incomplete information"}),_t.jsx("li",{children:"Delete your information"}),_t.jsx("li",{children:"Object to or restrict processing of your information"}),_t.jsx("li",{children:"Data portability"}),_t.jsx("li",{children:"Withdraw consent"})]}),_t.jsx("p",{className:"text-slate-600 mb-4",children:"To exercise these rights, please contact us through the platform."})]}),_t.jsxs("section",{className:"mb-8",children:[_t.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"9. Cookies and Tracking"}),_t.jsx("p",{className:"text-slate-600 mb-4",children:"We use cookies and similar tracking technologies to maintain your session and improve your experience. You can control cookies through your browser settings, but this may limit some functionality."})]}),_t.jsxs("section",{className:"mb-8",children:[_t.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"10. Third-Party Links"}),_t.jsx("p",{className:"text-slate-600 mb-4",children:"Our service may contain links to third-party websites (job boards, company websites). We are not responsible for the privacy practices of these external sites. We encourage you to review their privacy policies."})]}),_t.jsxs("section",{className:"mb-8",children:[_t.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"11. Children's Privacy"}),_t.jsx("p",{className:"text-slate-600 mb-4",children:"Our service is not intended for users under the age of 18. We do not knowingly collect information from children."})]}),_t.jsxs("section",{className:"mb-8",children:[_t.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"12. Changes to This Policy"}),_t.jsx("p",{className:"text-slate-600 mb-4",children:'We may update this Privacy Policy from time to time. We will notify you of any material changes by posting the new policy on this page and updating the "Last updated" date.'})]}),_t.jsxs("section",{className:"mb-8",children:[_t.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"13. Contact Us"}),_t.jsx("p",{className:"text-slate-600 mb-4",children:"If you have questions or concerns about this Privacy Policy or our data practices, please contact us through the platform."})]})]})]})})})}function M_({steps:e,isActive:t,onComplete:n,onSkip:r,onMobileTabChange:s}){const[a,i]=ht.useState(0),[o,l]=ht.useState({top:0,left:0}),[c,u]=ht.useState(!1);if(ht.useEffect(()=>{const e=()=>{u(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),ht.useEffect(()=>{if(t&&c&&a<e.length){const t=e[a];t.mobileTab&&s&&s(t.mobileTab)}},[a,e,t,c,s]),ht.useEffect(()=>{if(!t||a>=e.length)return;const n=()=>{const t=e[a],r=document.querySelector(t.target);if(!r)return;const s=r.getBoundingClientRect();if(c)return l({top:window.innerHeight-20,left:window.innerWidth/2}),r.classList.add("tour-highlight"),void r.scrollIntoView({behavior:"smooth",block:"center"});if("BODY"===r.tagName)return l({top:window.innerHeight/2+window.scrollY,left:window.innerWidth/2}),void r.classList.add("tour-highlight");if(!(s.top>=0&&s.bottom<=window.innerHeight&&s.left>=0&&s.right<=window.innerWidth))return r.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),void setTimeout(n,300);const i=384,o=200,u=16;let d=0,h=0;switch(t.position){case"bottom":d=s.bottom+window.scrollY+u,h=s.left+window.scrollX+s.width/2;break;case"top":d=s.top+window.scrollY-u-o,h=s.left+window.scrollX+s.width/2;break;case"right":d=s.top+window.scrollY+s.height/2,h=s.right+window.scrollX+u;break;case"left":d=s.top+window.scrollY+s.height/2,h=s.left+window.scrollX-u-i}const p=window.innerWidth-u,f=window.scrollY+u,m=window.scrollY+window.innerHeight-u;h-192<16?h=208:h+192>p&&(h=p-192);const g="top"===t.position||"bottom"===t.position?d:d-100;g<f?d=f+("left"===t.position||"right"===t.position?100:0):g+o>m&&(d=m-o+("left"===t.position||"right"===t.position?-100:0)),l({top:d,left:h}),r.classList.add("tour-highlight")};return n(),window.addEventListener("resize",n),window.addEventListener("scroll",n,!0),()=>{window.removeEventListener("resize",n),window.removeEventListener("scroll",n,!0),document.querySelectorAll(".tour-highlight").forEach(e=>{e.classList.remove("tour-highlight")})}},[a,e,t,c]),!t||a>=e.length)return null;const d=e[a],h=a===e.length-1;return _t.jsxs(_t.Fragment,{children:[_t.jsx("div",{className:"fixed inset-0 bg-black/50 z-[9998]",onClick:r}),_t.jsxs("div",{style:(()=>{const e={position:"absolute",zIndex:9999};if(c)return{position:"fixed",bottom:"16px",left:"16px",right:"16px",zIndex:9999};switch(d.position){case"bottom":case"top":return{...e,top:`${o.top}px`,left:`${o.left}px`,transform:"translateX(-50%)"};case"right":case"left":return{...e,top:`${o.top}px`,left:`${o.left}px`,transform:"translateY(-50%)"}}})(),className:`bg-white rounded-xl shadow-2xl border border-slate-200 p-4 md:p-6 ${c?"w-auto":"max-w-sm w-full"} max-h-[70vh] md:max-h-[80vh] overflow-y-auto animate-in fade-in zoom-in duration-200`,children:[_t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[_t.jsxs("div",{children:[_t.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:d.title}),_t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Step ",a+1," of ",e.length]})]}),_t.jsx("button",{onClick:r,className:"text-slate-400 hover:text-slate-600 transition-colors",title:"Skip tour",children:_t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),_t.jsx("p",{className:"text-sm text-slate-600 mb-4 md:mb-6 leading-relaxed",children:d.content}),_t.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-3",children:[_t.jsx("button",{onClick:r,className:"text-sm text-center sm:text-left text-slate-500 hover:text-slate-700 font-medium transition-colors py-2 sm:py-0",children:"Skip tour"}),_t.jsxs("div",{className:"flex gap-2",children:[a>0&&_t.jsx("button",{onClick:()=>{a>0&&i(a-1)},className:"flex-1 sm:flex-none px-4 py-2 text-sm font-medium text-slate-700 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Previous"}),_t.jsx("button",{onClick:()=>{h?n():i(a+1)},className:"flex-1 sm:flex-none px-4 py-2 text-sm font-medium text-white bg-brand-600 rounded-lg hover:bg-brand-700 transition-colors",children:h?"Got it!":"Next"})]})]}),!c&&_t.jsx("div",{className:"absolute w-0 h-0 "+("bottom"===d.position?"border-l-8 border-l-transparent border-r-8 border-r-transparent border-b-8 border-b-white -top-2 left-1/2 -translate-x-1/2":"top"===d.position?"border-l-8 border-l-transparent border-r-8 border-r-transparent border-t-8 border-t-white -bottom-2 left-1/2 -translate-x-1/2":"right"===d.position?"border-t-8 border-t-transparent border-b-8 border-b-transparent border-r-8 border-r-white -left-2 top-1/2 -translate-y-1/2":"border-t-8 border-t-transparent border-b-8 border-b-transparent border-l-8 border-l-white -right-2 top-1/2 -translate-y-1/2")})]}),_t.jsx("style",{children:"\n        .tour-highlight {\n          position: relative;\n          z-index: 9999;\n          box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.6), 0 0 20px 8px rgba(59, 130, 246, 0.3) !important;\n          border-radius: 8px;\n          background-color: white;\n        }\n      "})]})}function B_({sources:e,onAddSource:t,onDeleteSource:n,isCollapsed:r,onToggleCollapse:s,streamingSourceId:a,streamingProgress:i}){return e.filter(e=>"completed"===e.processing_status),e.filter(e=>"processing"===e.processing_status||"pending"===e.processing_status),r?_t.jsxs("div",{className:"h-full bg-white border-r border-gray-200",children:[_t.jsx("div",{className:"px-4 py-3 border-b border-gray-200 h-12 flex items-center",children:_t.jsx("button",{onClick:s,className:"w-full flex items-center justify-center p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",title:"Expand sources panel",children:_t.jsx(o_,{className:"h-5 w-5"})})}),_t.jsxs("div",{className:"p-2 space-y-2",children:[_t.jsx("button",{onClick:t,className:"w-full flex items-center justify-center p-2 border-2 border-dashed border-gray-300 bg-white rounded-lg text-gray-600 transition hover:border-blue-400 hover:bg-blue-50 hover:text-blue-600",title:"Add Source",children:_t.jsx(N_,{className:"h-4 w-4"})}),e.map(e=>{const t={resume:_t.jsx(y_,{className:"h-4 w-4"}),linkedin:_t.jsx(T_,{className:"h-4 w-4"}),github:_t.jsx(v_,{className:"h-4 w-4"}),personal_website:_t.jsx(y_,{className:"h-4 w-4"}),manual_text:_t.jsx(y_,{className:"h-4 w-4"}),project_document:_t.jsx(x_,{className:"h-4 w-4"}),portfolio:_t.jsx(x_,{className:"h-4 w-4"}),other_document:_t.jsx(y_,{className:"h-4 w-4"})},n="completed"===e.processing_status?"text-green-600":"processing"===e.processing_status?"text-blue-600":"failed"===e.processing_status?"text-red-600":"text-yellow-600";return _t.jsxs("div",{className:"w-full flex items-center justify-center p-2 bg-gray-50 rounded-lg group hover:bg-gray-100 transition-colors relative",title:`${e.source_type} - ${e.processing_status}`,children:[_t.jsx("div",{className:`${n}`,children:t[e.source_type]}),_t.jsx("div",{className:"absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity z-10 whitespace-nowrap",children:e.source_identifier||e.source_type})]},e.id)})]})]}):_t.jsxs("div",{className:"h-full bg-white border-r border-gray-200 flex flex-col",children:[_t.jsx("div",{className:"px-4 py-3 border-b border-gray-200 h-12 flex items-center",children:_t.jsxs("div",{className:"flex items-center justify-between w-full",children:[_t.jsx("h2",{className:"text-sm font-medium text-gray-900",children:"Sources"}),_t.jsx("button",{onClick:s,className:"hidden lg:block p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Collapse sources panel",children:_t.jsx(i_,{className:"h-4 w-4"})})]})}),_t.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:_t.jsxs("button",{"data-tour":"add-source-button",onClick:t,className:"w-full flex items-center justify-center space-x-2 rounded-lg border-2 border-dashed border-gray-300 bg-white py-2.5 text-gray-600 transition hover:border-blue-400 hover:bg-blue-50 hover:text-blue-600",children:[_t.jsx(N_,{className:"h-4 w-4"}),_t.jsx("span",{className:"text-sm font-medium",children:"Add Source"})]})}),_t.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-3","data-tour":"sources-section",children:0===e.length?_t.jsxs("div",{className:"text-center py-8",children:[_t.jsx(y_,{className:"mx-auto mb-3 h-8 w-8 text-gray-400"}),_t.jsx("p",{className:"text-sm text-gray-600",children:"No sources yet"}),_t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add your first source to get started"})]}):_t.jsx("div",{className:"space-y-3",children:e.map(e=>_t.jsx(U_,{source:e,onDelete:n,isStreaming:e.id===a,streamingProgress:e.id===a?i:void 0},e.id))})})]})}function U_({source:e,onDelete:t,isStreaming:n=!1,streamingProgress:r}){const[s,a]=ht.useState(!1),i={pending:_t.jsx(p_,{className:"h-4 w-4 text-yellow-500"}),processing:_t.jsx(S_,{className:"h-4 w-4 animate-spin text-blue-500"}),completed:_t.jsx(u_,{className:"h-4 w-4 text-green-500"}),failed:_t.jsx(h_,{className:"h-4 w-4 text-red-500"})},o=e.parsed_data,l=o&&"completed"===e.processing_status;return _t.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 transition hover:shadow-sm",children:[_t.jsx("div",{className:"p-3",children:_t.jsxs("div",{className:"flex items-start justify-between",children:[_t.jsxs("div",{className:"flex-1 min-w-0",children:[_t.jsxs("div",{className:"mb-1 flex items-center space-x-2",children:[_t.jsx("span",{className:"text-sm font-medium text-gray-900 truncate",children:{resume:"Resume",linkedin:"LinkedIn",github:"GitHub",personal_website:"Website",manual_text:"Manual Text",project_document:"Document",portfolio:"Portfolio",other_document:"Document"}[e.source_type]}),i[e.processing_status]]}),e.source_identifier&&_t.jsx("p",{className:"text-xs text-gray-600 truncate mb-1",children:e.source_identifier}),_t.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-500",children:[_t.jsx("span",{children:new Date(e.created_at).toLocaleDateString()}),_t.jsx("span",{className:"capitalize",children:e.processing_status})]}),n&&r&&"idle"!==r.status&&_t.jsxs("div",{className:"mt-2 space-y-2",children:[_t.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[_t.jsx(S_,{className:"h-3 w-3 animate-spin text-blue-500"}),_t.jsx("span",{className:"text-blue-600 font-medium",children:r.message||_t.jsxs(_t.Fragment,{children:["uploading"===r.status&&"Extracting text...","fetching"===r.status&&"Fetching profile (30-60s)...","parsing"===r.status&&(r.streamedText?"Parsing fields...":"Analyzing..."),"complete"===r.status&&"Complete!"]})})]}),r.streamedText&&(()=>{const e=r.streamedText,t=t=>{const n=e.match(new RegExp(`"${t}"\\s*:\\s*"([^"]*)"`,"s"));return n?n[1]:null},n=t=>{const n=new RegExp(`"${t}"\\s*:\\s*\\[`),r=e.match(n);if(!r)return[];const s=e.indexOf(r[0])+r[0].length,a=e.substring(s),i=[];if("skills"===t||"technical_skills"===t){const e=a.matchAll(/"([^"]+)"(?=\s*[,\]])/g);for(const t of e)i.push(t[1])}else{let e=0,t="",n=!1,r=!1;for(let s=0;s<a.length;s++){const o=a[s];if(r)t+=o,r=!1;else if("\\"!==o)if('"'!==o){if(n)t+=o;else if("{"===o)0===e?t=o:t+=o,e++;else if("}"===o){if(t+=o,e--,0===e&&t)try{const e=JSON.parse(t);i.push(e),t=""}catch{}}else if(e>0)t+=o;else if("]"===o)break}else n=!n,t+=o;else r=!0,t+=o}}return i},s=t("name"),a=t("email"),i=t("phone")||t("telephone"),o=t("location"),l=n("skills"),c=n("experience"),u=n("education"),d=n("projects");return _t.jsxs("div",{className:"space-y-2 text-xs",children:[(s||a||i||o)&&_t.jsxs("div",{className:"animate-fade-in",children:[_t.jsxs("div",{className:"mb-1 flex items-center space-x-1 text-gray-600",children:[_t.jsx(j_,{className:"h-3 w-3"}),_t.jsx("span",{className:"font-medium",children:"Contact"})]}),_t.jsxs("div",{className:"space-y-1 pl-4",children:[s&&_t.jsxs("p",{children:[_t.jsx("span",{className:"font-medium",children:"Name:"})," ",s]}),a&&_t.jsxs("p",{children:[_t.jsx("span",{className:"font-medium",children:"Email:"})," ",a]}),i&&_t.jsxs("p",{children:[_t.jsx("span",{className:"font-medium",children:"Phone:"})," ",i]}),o&&_t.jsxs("p",{children:[_t.jsx("span",{className:"font-medium",children:"Location:"})," ",o]})]})]}),l.length>0&&_t.jsxs("div",{className:"animate-fade-in",children:[_t.jsxs("div",{className:"mb-1 flex items-center space-x-1 text-gray-600",children:[_t.jsx(t_,{className:"h-3 w-3"}),_t.jsxs("span",{className:"font-medium",children:["Skills (",l.length,")"]})]}),_t.jsxs("div",{className:"flex flex-wrap gap-1 pl-4",children:[l.slice(0,6).map((e,t)=>_t.jsx("span",{className:"rounded bg-blue-100 px-1.5 py-0.5 text-xs text-blue-700",children:e.length>40?e.substring(0,40)+"...":e},`skill-${t}`)),l.length>6&&_t.jsxs("span",{className:"text-xs text-gray-500",children:["+",l.length-6," more"]})]})]}),c.length>0&&_t.jsxs("div",{className:"animate-fade-in",children:[_t.jsxs("div",{className:"mb-1 flex items-center space-x-1 text-gray-600",children:[_t.jsx(r_,{className:"h-3 w-3"}),_t.jsxs("span",{className:"font-medium",children:["Experience (",c.length,")"]})]}),_t.jsxs("div",{className:"space-y-1 pl-4",children:[c.slice(0,2).map((e,t)=>_t.jsxs("div",{children:[(e.job_title||e.title)&&_t.jsx("p",{className:"font-medium",children:e.job_title||e.title}),e.company&&_t.jsx("p",{className:"text-gray-600",children:e.company}),e.duration&&_t.jsx("p",{className:"text-gray-500",children:e.duration})]},`exp-${t}`)),c.length>2&&_t.jsxs("p",{className:"text-gray-500",children:["+",c.length-2," more positions"]})]})]}),u.length>0&&_t.jsxs("div",{className:"animate-fade-in",children:[_t.jsxs("div",{className:"mb-1 flex items-center space-x-1 text-gray-600",children:[_t.jsx(__,{className:"h-3 w-3"}),_t.jsxs("span",{className:"font-medium",children:["Education (",u.length,")"]})]}),_t.jsx("div",{className:"space-y-1 pl-4",children:u.slice(0,2).map((e,t)=>_t.jsxs("div",{children:[(e.degree||e.field_of_study)&&_t.jsx("p",{className:"font-medium",children:e.degree||e.field_of_study}),e.institution&&_t.jsx("p",{className:"text-gray-600",children:e.institution}),e.duration&&_t.jsx("p",{className:"text-gray-500",children:e.duration})]},`edu-${t}`))})]}),d.length>0&&_t.jsxs("div",{className:"animate-fade-in",children:[_t.jsxs("div",{className:"mb-1 flex items-center space-x-1 text-gray-600",children:[_t.jsx(y_,{className:"h-3 w-3"}),_t.jsxs("span",{className:"font-medium",children:["Projects (",d.length,")"]})]}),_t.jsxs("div",{className:"space-y-1 pl-4",children:[d.slice(0,2).map((e,t)=>_t.jsxs("div",{children:[e.name&&_t.jsx("p",{className:"font-medium",children:e.name}),e.duration&&_t.jsx("p",{className:"text-gray-500",children:e.duration})]},`proj-${t}`)),d.length>2&&_t.jsxs("p",{className:"text-gray-500",children:["+",d.length-2," more projects"]})]})]})]})})()]}),e.error_message&&_t.jsxs("p",{className:"mt-1 text-xs text-red-600 line-clamp-2",children:["Error: ",e.error_message]})]}),_t.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[l&&_t.jsx("button",{onClick:()=>a(!s),className:"rounded p-1.5 text-gray-400 transition hover:bg-gray-100 hover:text-gray-600",title:"View parsed data",children:s?_t.jsx(l_,{className:"h-3 w-3"}):_t.jsx(a_,{className:"h-3 w-3"})}),_t.jsx("button",{onClick:()=>t(e.id),className:"rounded p-1.5 text-gray-400 transition hover:bg-red-50 hover:text-red-600",title:"Delete source",children:_t.jsx(I_,{className:"h-3 w-3"})})]})]})}),s&&l&&_t.jsxs("div",{className:"border-t border-gray-200 bg-white p-3",children:[_t.jsx("h4",{className:"mb-2 text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Parsed Information"}),_t.jsxs("div",{className:"space-y-3 text-xs",children:[(o.name||o.email||o.phone)&&_t.jsxs("div",{children:[_t.jsxs("div",{className:"mb-1 flex items-center space-x-1 text-gray-600",children:[_t.jsx(j_,{className:"h-3 w-3"}),_t.jsx("span",{className:"font-medium",children:"Contact"})]}),_t.jsxs("div",{className:"space-y-1 pl-4",children:[o.name&&_t.jsxs("p",{children:[_t.jsx("span",{className:"font-medium",children:"Name:"})," ",o.name]}),o.email&&_t.jsxs("p",{children:[_t.jsx("span",{className:"font-medium",children:"Email:"})," ",o.email]}),o.phone&&_t.jsxs("p",{children:[_t.jsx("span",{className:"font-medium",children:"Phone:"})," ",o.phone]}),o.location&&_t.jsxs("p",{children:[_t.jsx("span",{className:"font-medium",children:"Location:"})," ",o.location]})]})]}),o.skills&&o.skills.length>0&&_t.jsxs("div",{children:[_t.jsxs("div",{className:"mb-1 flex items-center space-x-1 text-gray-600",children:[_t.jsx(t_,{className:"h-3 w-3"}),_t.jsxs("span",{className:"font-medium",children:["Skills (",o.skills.length,")"]})]}),_t.jsxs("div",{className:"flex flex-wrap gap-1 pl-4",children:[o.skills.slice(0,6).map((e,t)=>_t.jsx("span",{className:"rounded bg-blue-100 px-1.5 py-0.5 text-xs text-blue-700",children:e},t)),o.skills.length>6&&_t.jsxs("span",{className:"text-xs text-gray-500",children:["+",o.skills.length-6," more"]})]})]}),o.experience&&o.experience.length>0&&_t.jsxs("div",{children:[_t.jsxs("div",{className:"mb-1 flex items-center space-x-1 text-gray-600",children:[_t.jsx(r_,{className:"h-3 w-3"}),_t.jsxs("span",{className:"font-medium",children:["Experience (",o.experience.length,")"]})]}),_t.jsxs("div",{className:"space-y-1 pl-4",children:[o.experience.slice(0,2).map((e,t)=>_t.jsxs("div",{children:[_t.jsx("p",{className:"font-medium",children:e.job_title||e.title}),_t.jsx("p",{className:"text-gray-600",children:e.company}),e.duration&&_t.jsx("p",{className:"text-gray-500",children:e.duration})]},t)),o.experience.length>2&&_t.jsxs("p",{className:"text-gray-500",children:["+",o.experience.length-2," more positions"]})]})]}),o.education&&o.education.length>0&&_t.jsxs("div",{children:[_t.jsxs("div",{className:"mb-1 flex items-center space-x-1 text-gray-600",children:[_t.jsx(__,{className:"h-3 w-3"}),_t.jsxs("span",{className:"font-medium",children:["Education (",o.education.length,")"]})]}),_t.jsx("div",{className:"space-y-1 pl-4",children:o.education.slice(0,2).map((e,t)=>_t.jsxs("div",{children:[_t.jsx("p",{className:"font-medium",children:e.degree||e.field_of_study}),_t.jsx("p",{className:"text-gray-600",children:e.institution})]},t))})]}),o.projects&&o.projects.length>0&&_t.jsxs("div",{children:[_t.jsxs("div",{className:"mb-1 flex items-center space-x-1 text-gray-600",children:[_t.jsx(y_,{className:"h-3 w-3"}),_t.jsxs("span",{className:"font-medium",children:["Projects (",o.projects.length,")"]})]}),_t.jsxs("div",{className:"space-y-1 pl-4",children:[o.projects.slice(0,2).map((e,t)=>_t.jsxs("div",{children:[_t.jsx("p",{className:"font-medium",children:e.name}),e.duration&&_t.jsx("p",{className:"text-gray-500",children:e.duration})]},t)),o.projects.length>2&&_t.jsxs("p",{className:"text-gray-500",children:["+",o.projects.length-2," more projects"]})]})]}),o.summary&&_t.jsxs("div",{children:[_t.jsx("div",{className:"mb-1 text-gray-600 font-medium",children:"Summary"}),_t.jsx("p",{className:"pl-4 text-gray-700 line-clamp-3",children:o.summary})]})]})]})]})}function F_({aggregatedProfile:e,isAggregating:t,aggregateProgress:n,onProfileUpdate:r}){const[s,a]=ht.useState(!1),[i,o]=ht.useState(!1),[l,c]=ht.useState(!1),[u,d]=ht.useState(!1),[h,p]=ht.useState(!1),[f,m]=ht.useState(""),g=e=>{const t=e.toLowerCase(),n={className:"h-3 w-3"};return t.includes("resume")?_t.jsx(y_,{...n}):t.includes("github")?_t.jsx(v_,{...n}):t.includes("linkedin")?_t.jsx(T_,{...n}):t.includes("project")?_t.jsx(x_,{...n}):null};if(t&&n&&n.streamedText){const{status:e,streamedText:t,sourcesCount:r}=n,s=e=>{const n=t.match(new RegExp(`"${e}"\\s*:\\s*"([^"]*)"`,"s"));return n?n[1]:null},a=e=>{const n=t.match(new RegExp(`"${e}"\\s*:\\s*\\[`,"s"));if(!n)return[];const r=n.index+n[0].length;let s=1,a=r,i=!1,o=!1;for(let u=r;u<t.length;u++){const e=t[u];if(o)o=!1;else if("\\"!==e)if('"'!==e){if(!i)if("["===e)s++;else if("]"===e&&(s--,0===s)){a=u;break}}else i=!i;else o=!0}const l=t.substring(r,a),c=[];if(!l.trim())return c;if("skills"===e||"technical_skills"===e){const e=l.matchAll(/"([^"]+)"(?:\s*[,\]])/g);for(const t of e)c.push(t[1])}else{let e=0,t="",n=!1,r=!1;for(let s=0;s<l.length;s++){const a=l[s];if(r)e>0&&(t+=a),r=!1;else if("\\"!==a)if('"'!==a)if(n)e>0&&(t+=a);else if("{"===a)0===e?(t="{",e=1):(t+=a,e++);else if("}"===a){if(t+=a,e--,0===e&&t.trim())try{const e=JSON.parse(t);c.push(e),t=""}catch(Rm){t=""}}else e>0&&(t+=a);else e>0&&(t+=a),n=!n;else r=!0,e>0&&(t+=a)}}return c},i=s("name"),o=s("email"),l=s("phone"),c=s("location"),u=s("summary"),d=a("skills"),h=a("experience"),p=a("education"),f=a("projects");return _t.jsxs("div",{className:"h-full bg-white flex flex-col",children:[_t.jsx("div",{className:"px-4 py-3 border-b border-gray-200 h-12 flex items-center flex-shrink-0",children:_t.jsxs("div",{className:"flex items-center justify-between w-full",children:[_t.jsx("h2",{className:"text-sm font-medium text-gray-900",children:"The Complete You"}),_t.jsxs("div",{className:"flex items-center space-x-2 text-xs text-blue-600",children:[_t.jsx(w_,{className:"h-3 w-3 animate-spin"}),_t.jsxs("span",{children:["fetching"===e&&`Fetching ${r||""} sources...`,"aggregating"===e&&"Merging profiles..."]})]})]})}),_t.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[_t.jsxs("div",{className:"space-y-4",children:[(i||o||l||c||u)&&_t.jsx("div",{className:"animate-fade-in",children:_t.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gradient-to-br from-blue-50 to-indigo-50 p-6",children:[_t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i&&_t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:i}),_t.jsx(j_,{className:"h-5 w-5 text-blue-600"})]}),_t.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[o&&_t.jsxs("div",{className:"flex items-center space-x-2",children:[_t.jsx("span",{children:""}),_t.jsx("span",{children:o})]}),l&&_t.jsxs("div",{className:"flex items-center space-x-2",children:[_t.jsx("span",{children:""}),_t.jsx("span",{children:l})]}),c&&_t.jsxs("div",{className:"flex items-center space-x-2",children:[_t.jsx("span",{children:""}),_t.jsx("span",{children:c})]})]}),u&&_t.jsx("p",{className:"mt-4 text-sm text-gray-600 leading-relaxed",children:u})]})}),d.length>0&&_t.jsxs("div",{className:"animate-fade-in",children:[_t.jsxs("h4",{className:"mb-3 flex items-center space-x-2 text-sm font-semibold text-gray-700 uppercase tracking-wide",children:[_t.jsx(t_,{className:"h-4 w-4"}),_t.jsxs("span",{children:["Skills (",d.length,")"]})]}),_t.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-4",children:_t.jsx("div",{className:"flex flex-wrap gap-2",children:d.map((e,t)=>_t.jsx("span",{className:"rounded-full bg-blue-100 px-3 py-1 text-sm text-blue-700 font-medium",children:e},`skill-${t}`))})})]}),h.length>0&&_t.jsxs("div",{className:"animate-fade-in",children:[_t.jsxs("h4",{className:"mb-3 flex items-center space-x-2 text-sm font-semibold text-gray-700 uppercase tracking-wide",children:[_t.jsx(r_,{className:"h-4 w-4"}),_t.jsxs("span",{children:["Experience (",h.length," positions)"]})]}),_t.jsx("div",{className:"rounded-lg border border-gray-200 bg-white",children:_t.jsx("div",{className:"divide-y divide-gray-200",children:h.map((e,t)=>_t.jsxs("div",{className:"p-4",children:[_t.jsxs("div",{className:"flex justify-between items-start",children:[_t.jsxs("div",{className:"flex-1",children:[(e.job_title||e.title)&&_t.jsx("h5",{className:"font-medium text-gray-900",children:e.job_title||e.title}),e.company&&_t.jsx("p",{className:"text-gray-600",children:e.company}),e.duration&&_t.jsx("p",{className:"text-sm text-gray-500",children:e.duration}),e.location&&_t.jsx("p",{className:"text-sm text-gray-500",children:e.location})]}),e.source&&_t.jsx("span",{className:"text-gray-400 bg-gray-100 px-2 py-1 rounded flex items-center gap-1",title:e.source,children:g(e.source)})]}),e.description&&_t.jsx("p",{className:"mt-2 text-sm text-gray-600 line-clamp-2",children:e.description}),e.skills&&e.skills.length>0&&_t.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[e.skills.slice(0,5).map((e,t)=>_t.jsx("span",{className:"rounded bg-gray-100 px-2 py-1 text-xs text-gray-700",children:e},t)),e.skills.length>5&&_t.jsxs("span",{className:"text-xs text-gray-500",children:["+",e.skills.length-5," more"]})]})]},`exp-${t}`))})})]}),p.length>0&&_t.jsxs("div",{className:"animate-fade-in",children:[_t.jsxs("h4",{className:"mb-3 flex items-center space-x-2 text-sm font-semibold text-gray-700 uppercase tracking-wide",children:[_t.jsx(__,{className:"h-4 w-4"}),_t.jsxs("span",{children:["Education (",p.length,")"]})]}),_t.jsx("div",{className:"rounded-lg border border-gray-200 bg-white",children:_t.jsx("div",{className:"divide-y divide-gray-200",children:p.map((e,t)=>_t.jsx("div",{className:"p-4",children:_t.jsxs("div",{className:"flex justify-between items-start",children:[_t.jsxs("div",{className:"flex-1",children:[(e.degree||e.field_of_study)&&_t.jsx("h5",{className:"font-medium text-gray-900",children:e.degree||e.field_of_study}),e.institution&&_t.jsx("p",{className:"text-gray-600",children:e.institution}),e.duration&&_t.jsx("p",{className:"text-sm text-gray-500",children:e.duration}),e.gpa&&_t.jsxs("p",{className:"text-sm text-gray-500",children:["GPA: ",e.gpa]})]}),e.source&&_t.jsx("span",{className:"text-gray-400 bg-gray-100 px-2 py-1 rounded flex items-center gap-1",title:e.source,children:g(e.source)})]})},`edu-${t}`))})})]}),f.length>0&&_t.jsxs("div",{className:"animate-fade-in",children:[_t.jsxs("h4",{className:"mb-3 flex items-center space-x-2 text-sm font-semibold text-gray-700 uppercase tracking-wide",children:[_t.jsx(t_,{className:"h-4 w-4"}),_t.jsxs("span",{children:["Projects (",f.length,")"]})]}),_t.jsx("div",{className:"rounded-lg border border-gray-200 bg-white",children:_t.jsx("div",{className:"divide-y divide-gray-200",children:f.map((e,t)=>_t.jsx("div",{className:"p-4",children:_t.jsxs("div",{className:"flex justify-between items-start",children:[_t.jsxs("div",{className:"flex-1",children:[_t.jsxs("div",{className:"flex items-start justify-between",children:[e.name&&_t.jsx("h5",{className:"font-medium text-gray-900",children:e.name}),e.url&&_t.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 ml-2",onClick:e=>e.stopPropagation(),children:_t.jsx(b_,{className:"h-4 w-4"})})]}),e.description&&_t.jsx("p",{className:"mt-1 text-sm text-gray-600",children:e.description}),e.technologies&&e.technologies.length>0&&_t.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[e.technologies.slice(0,6).map((e,t)=>_t.jsx("span",{className:"rounded bg-gray-100 px-2 py-1 text-xs text-gray-700",children:e},t)),e.technologies.length>6&&_t.jsxs("span",{className:"text-xs text-gray-500",children:["+",e.technologies.length-6," more"]})]})]}),e.source&&_t.jsx("span",{className:"text-gray-400 bg-gray-100 px-2 py-1 rounded flex items-center gap-1 ml-2",title:e.source,children:g(e.source)})]})},`proj-${t}`))})})]})]}),!t&&_t.jsxs("div",{className:"text-center py-8",children:[_t.jsx(w_,{className:"mx-auto mb-3 h-8 w-8 animate-spin text-blue-600"}),_t.jsx("p",{className:"text-sm text-blue-600",children:"fetching"===e?`Loading ${r||""} sources...`:"Starting aggregation..."})]})]})]})}return t&&!e?_t.jsx("div",{className:"h-full bg-white flex items-center justify-center",children:_t.jsxs("div",{className:"text-center",children:[_t.jsx(S_,{className:"mx-auto mb-4 h-12 w-12 animate-spin text-blue-600"}),_t.jsx("p",{className:"text-lg font-medium text-blue-700 mb-2",children:"Building Your Profile"}),_t.jsx("p",{className:"text-sm text-blue-600",children:"Analyzing and combining your sources..."}),_t.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"This may take a few seconds"})]})}):e&&e.name?_t.jsxs("div",{className:"h-full bg-white flex flex-col",children:[_t.jsx("div",{className:"px-4 py-3 border-b border-gray-200 h-12 flex items-center flex-shrink-0",children:_t.jsxs("div",{className:"flex items-center justify-between w-full",children:[_t.jsx("h2",{className:"text-sm font-medium text-gray-900",children:"The Complete You"}),t&&_t.jsxs("div",{className:"flex items-center space-x-2 text-xs text-blue-600",children:[_t.jsx(w_,{className:"h-3 w-3 animate-spin"}),_t.jsx("span",{children:"Updating..."})]})]})}),_t.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4","data-tour":"aggregated-profile",children:_t.jsxs("div",{className:"space-y-4",children:[_t.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gradient-to-br from-blue-50 to-indigo-50 p-6",children:[_t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),_t.jsx(j_,{className:"h-5 w-5 text-blue-600"})]}),_t.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[e.email&&_t.jsxs("div",{className:"flex items-center space-x-2",children:[_t.jsx("span",{children:""}),_t.jsx("span",{children:e.email})]}),e.phone&&_t.jsxs("div",{className:"flex items-center space-x-2",children:[_t.jsx("span",{children:""}),_t.jsx("span",{children:e.phone})]}),e.location&&_t.jsxs("div",{className:"flex items-center space-x-2",children:[_t.jsx("span",{children:""}),_t.jsx("span",{children:e.location})]})]})]}),(e.summary||h)&&_t.jsxs("div",{children:[_t.jsx("h4",{className:"mb-3 text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Professional Summary"}),_t.jsx("div",{className:"rounded-lg border border-gray-200 bg-white p-4",children:h?_t.jsx("textarea",{value:f,onChange:e=>m(e.target.value),rows:4,className:"w-full text-sm text-gray-600 leading-relaxed border-0 p-0 focus:ring-0 resize-none",placeholder:"Add a professional summary..."}):_t.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:e.summary})})]}),e.skills&&e.skills.length>0&&_t.jsxs("div",{children:[_t.jsxs("h4",{className:"mb-3 flex items-center space-x-2 text-sm font-semibold text-gray-700 uppercase tracking-wide",children:[_t.jsx(t_,{className:"h-4 w-4"}),_t.jsxs("span",{children:["Skills (",e.skills.length,")"]})]}),_t.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-4",children:[_t.jsx("div",{className:"flex flex-wrap gap-2",children:(s?e.skills:e.skills.slice(0,20)).map((e,t)=>_t.jsx("span",{className:"rounded-full bg-blue-100 px-3 py-1 text-sm text-blue-700 font-medium",children:e},t))}),e.skills.length>20&&_t.jsx("button",{onClick:()=>a(!s),className:"mt-3 text-sm text-blue-600 hover:text-blue-800 font-medium",children:s?"- Show less":`+ Show all ${e.skills.length} skills`})]})]}),e.experience&&e.experience.length>0&&_t.jsxs("div",{children:[_t.jsxs("h4",{className:"mb-3 flex items-center space-x-2 text-sm font-semibold text-gray-700 uppercase tracking-wide",children:[_t.jsx(r_,{className:"h-4 w-4"}),_t.jsxs("span",{children:["Experience (",e.experience.length," positions)"]})]}),_t.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white",children:[_t.jsx("div",{className:"divide-y divide-gray-200",children:(i?e.experience:e.experience.slice(0,4)).map((e,t)=>_t.jsxs("div",{className:"p-4",children:[_t.jsxs("div",{className:"flex justify-between items-start",children:[_t.jsxs("div",{className:"flex-1",children:[_t.jsx("h5",{className:"font-medium text-gray-900",children:e.job_title||e.title}),_t.jsx("p",{className:"text-gray-600",children:e.company}),e.duration&&_t.jsx("p",{className:"text-sm text-gray-500",children:e.duration}),e.location&&_t.jsx("p",{className:"text-sm text-gray-500",children:e.location})]}),e.source&&_t.jsx("span",{className:"text-gray-400 bg-gray-100 px-2 py-1 rounded flex items-center gap-1",title:e.source,children:g(e.source)})]}),e.description&&_t.jsx("p",{className:"mt-2 text-sm text-gray-600 line-clamp-2",children:e.description}),e.skills&&e.skills.length>0&&_t.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[e.skills.slice(0,5).map((e,t)=>_t.jsx("span",{className:"rounded bg-gray-100 px-2 py-1 text-xs text-gray-700",children:e},t)),e.skills.length>5&&_t.jsxs("span",{className:"text-xs text-gray-500",children:["+",e.skills.length-5," more"]})]})]},t))}),e.experience.length>4&&_t.jsx("div",{className:"p-4 border-t border-gray-200",children:_t.jsx("button",{onClick:()=>o(!i),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:i?"- Show less":`+ Show all ${e.experience.length} positions`})})]})]}),e.education&&e.education.length>0&&_t.jsxs("div",{children:[_t.jsxs("h4",{className:"mb-3 flex items-center space-x-2 text-sm font-semibold text-gray-700 uppercase tracking-wide",children:[_t.jsx(__,{className:"h-4 w-4"}),_t.jsxs("span",{children:["Education (",e.education.length,")"]})]}),_t.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white",children:[_t.jsx("div",{className:"divide-y divide-gray-200",children:(l?e.education:e.education.slice(0,3)).map((e,t)=>_t.jsx("div",{className:"p-4",children:_t.jsxs("div",{className:"flex justify-between items-start",children:[_t.jsxs("div",{className:"flex-1",children:[_t.jsx("h5",{className:"font-medium text-gray-900",children:e.degree||e.field_of_study}),_t.jsx("p",{className:"text-gray-600",children:e.institution}),e.duration&&_t.jsx("p",{className:"text-sm text-gray-500",children:e.duration}),e.gpa&&_t.jsxs("p",{className:"text-sm text-gray-500",children:["GPA: ",e.gpa]})]}),e.source&&_t.jsx("span",{className:"text-gray-400 bg-gray-100 px-2 py-1 rounded flex items-center gap-1",title:e.source,children:g(e.source)})]})},t))}),e.education.length>3&&_t.jsx("div",{className:"p-4 border-t border-gray-200",children:_t.jsx("button",{onClick:()=>c(!l),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:l?"- Show less":`+ Show all ${e.education.length} entries`})})]})]}),e.projects&&e.projects.length>0&&_t.jsxs("div",{children:[_t.jsxs("h4",{className:"mb-3 flex items-center space-x-2 text-sm font-semibold text-gray-700 uppercase tracking-wide",children:[_t.jsx(t_,{className:"h-4 w-4"}),_t.jsxs("span",{children:["Projects (",e.projects.length,")"]})]}),_t.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white",children:[_t.jsx("div",{className:"divide-y divide-gray-200",children:(u?e.projects:e.projects.slice(0,3)).map((e,t)=>_t.jsx("div",{className:"p-4",children:_t.jsxs("div",{className:"flex justify-between items-start",children:[_t.jsxs("div",{className:"flex-1",children:[_t.jsxs("div",{className:"flex items-start justify-between",children:[_t.jsx("h5",{className:"font-medium text-gray-900",children:e.name}),e.url&&_t.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 ml-2",onClick:e=>e.stopPropagation(),children:_t.jsx(b_,{className:"h-4 w-4"})})]}),e.description&&_t.jsx("p",{className:"mt-1 text-sm text-gray-600",children:e.description}),e.technologies&&e.technologies.length>0&&_t.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[e.technologies.slice(0,6).map((e,t)=>_t.jsx("span",{className:"rounded bg-gray-100 px-2 py-1 text-xs text-gray-700",children:e},t)),e.technologies.length>6&&_t.jsxs("span",{className:"text-xs text-gray-500",children:["+",e.technologies.length-6," more"]})]})]}),e.source&&_t.jsx("span",{className:"text-gray-400 bg-gray-100 px-2 py-1 rounded flex items-center gap-1 ml-2",title:e.source,children:g(e.source)})]})},t))}),e.projects.length>3&&_t.jsx("div",{className:"p-4 border-t border-gray-200",children:_t.jsx("button",{onClick:()=>d(!u),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:u?"- Show less":`+ Show all ${e.projects.length} projects`})})]})]})]})})]}):_t.jsx("div",{className:"h-full bg-white flex items-center justify-center p-8",children:_t.jsxs("div",{className:"text-center max-w-md",children:[_t.jsx(j_,{className:"mx-auto mb-4 h-16 w-16 text-gray-400"}),_t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Your Profile Awaits"}),_t.jsx("p",{className:"text-gray-600 mb-6",children:"Add at least one source to generate your unified professional profile. Upload a resume, connect your LinkedIn, or add project documents to get started."}),_t.jsxs("div",{className:"space-y-2",children:[_t.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[_t.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 flex items-center justify-center",children:_t.jsx("span",{className:"text-xs font-semibold text-blue-600",children:"1"})}),_t.jsx("span",{children:"Add your sources"})]}),_t.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[_t.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center",children:_t.jsx("span",{className:"text-xs font-semibold text-gray-400",children:"2"})}),_t.jsx("span",{children:"Build your unified profile"})]}),_t.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[_t.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center",children:_t.jsx("span",{className:"text-xs font-semibold text-gray-400",children:"3"})}),_t.jsx("span",{children:"Get personalized job matches"})]})]})]})})}function H_({preferences:e,onPredictPreferences:t,onUpdatePreferences:n,isProcessing:r,completedSourcesCount:s,isCollapsed:a,onToggleCollapse:i,canNavigateToDashboard:o,onReanalyze:l}){const c=e&&(e.predicted_industries||e.predicted_roles||e.predicted_companies);return a?_t.jsxs("div",{className:"h-full bg-white border-l border-gray-200",children:[_t.jsx("div",{className:"px-4 py-3 border-b border-gray-200 h-12 flex items-center",children:_t.jsx("button",{onClick:i,className:"w-full flex items-center justify-center p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",title:"Expand preferences panel",children:_t.jsx(o_,{className:"h-5 w-5 rotate-180"})})}),_t.jsxs("div",{className:"p-2 space-y-2",children:[_t.jsx("div",{className:"w-full flex items-center justify-center p-2 bg-purple-50 rounded-lg",title:"Your Interests",children:_t.jsx(A_,{className:"h-4 w-4 text-purple-600"})}),c&&_t.jsxs(_t.Fragment,{children:[e.confirmed_industries&&e.confirmed_industries.length>0&&_t.jsx("div",{className:"w-full p-2 bg-purple-50 rounded-lg text-center",title:`Industries (${e.confirmed_industries.length}): ${e.confirmed_industries.slice(0,3).join(", ")}${e.confirmed_industries.length>3?" +more":""}`,children:_t.jsx(r_,{className:"h-4 w-4 text-purple-600 mx-auto"})}),e.confirmed_roles&&e.confirmed_roles.length>0&&_t.jsx("div",{className:"w-full p-2 bg-blue-50 rounded-lg text-center",title:`Roles (${e.confirmed_roles.length}): ${e.confirmed_roles.slice(0,3).join(", ")}${e.confirmed_roles.length>3?" +more":""}`,children:_t.jsx(j_,{className:"h-4 w-4 text-blue-600 mx-auto"})}),e.confirmed_companies&&e.confirmed_companies.length>0&&_t.jsx("div",{className:"w-full p-2 bg-green-50 rounded-lg text-center",title:`Companies (${e.confirmed_companies.length}): ${e.confirmed_companies.slice(0,3).join(", ")}${e.confirmed_companies.length>3?" +more":""}`,children:_t.jsx(r_,{className:"h-4 w-4 text-green-600 mx-auto"})})]}),o&&_t.jsx("div",{className:"mt-4 pt-2 border-t border-gray-200",children:_t.jsx(em,{to:"/jobs",className:"w-full flex items-center justify-center p-2 bg-brand-600 rounded-lg text-white hover:bg-brand-700 transition-colors",title:"View Matched Jobs",children:_t.jsx(e_,{className:"h-4 w-4"})})})]})]}):_t.jsxs("div",{className:"h-full bg-white border-l border-gray-200 flex flex-col","data-tour":"preferences-panel",children:[_t.jsx("div",{className:"px-4 py-3 border-b border-gray-200 h-12 flex items-center",children:_t.jsxs("div",{className:"flex items-center justify-between w-full",children:[_t.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Your Interests"}),_t.jsxs("div",{className:"flex items-center space-x-1",children:[_t.jsx("button",{onClick:l,disabled:r||0===s,className:"p-1.5 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors disabled:opacity-50",title:"Refresh insights",children:_t.jsx(A_,{className:"h-3 w-3"})}),_t.jsx("button",{onClick:i,className:"hidden lg:block p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Collapse preferences panel",children:_t.jsx(o_,{className:"h-4 w-4"})})]})]})}),_t.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-3",children:c?_t.jsxs("div",{className:"space-y-6",children:[e.predicted_industries&&e.predicted_industries.length>0&&_t.jsx(z_,{title:"Industries",predictions:e.predicted_industries,confirmed:e.confirmed_industries||[],onUpdate:e=>n({confirmed_industries:e}),color:"purple"}),e.predicted_roles&&e.predicted_roles.length>0&&_t.jsx(z_,{title:"Roles",predictions:e.predicted_roles,confirmed:e.confirmed_roles||[],onUpdate:e=>n({confirmed_roles:e}),color:"blue"}),e.predicted_companies&&e.predicted_companies.length>0&&_t.jsx(z_,{title:"Companies",predictions:e.predicted_companies,confirmed:e.confirmed_companies||[],onUpdate:e=>n({confirmed_companies:e}),color:"green"})]}):_t.jsxs("div",{className:"text-center py-8",children:[_t.jsx(A_,{className:"mx-auto mb-4 h-12 w-12 text-purple-400"}),_t.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Discover Your Interests"}),_t.jsx("p",{className:"text-sm text-gray-600 mb-6 leading-relaxed",children:"Let us analyze your profile and suggest career interests based on your experience and skills."})]})}),_t.jsx("div",{className:"p-4 border-t border-gray-200 space-y-3",children:o?_t.jsxs(em,{to:"/jobs",className:"w-full flex items-center justify-center space-x-2 rounded-lg bg-brand-600 px-4 py-2.5 text-sm font-medium text-white transition-colors hover:bg-brand-700 hover:text-white",children:[_t.jsx("span",{children:"Matched Jobs"}),_t.jsx(e_,{className:"h-4 w-4"})]}):_t.jsxs("div",{className:"rounded-lg bg-gray-50 border border-gray-200 p-3 text-center",children:[_t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Complete your profile to unlock"}),_t.jsx("div",{className:"text-xs text-gray-500",children:"Add more sources or set preferences"})]})})]})}function z_({title:e,predictions:t,confirmed:n,onUpdate:r,color:s="blue"}){const[a,i]=ht.useState(n||[]),[o,l]=ht.useState(!0);ht.useEffect(()=>{i(n||[])},[n]);const c={purple:{selected:"border-purple-500 bg-purple-50 text-purple-800",unselected:"border-gray-200 bg-white text-gray-700 hover:border-purple-300 hover:bg-purple-50",check:"text-purple-600"},blue:{selected:"border-blue-500 bg-blue-50 text-blue-800",unselected:"border-gray-200 bg-white text-gray-700 hover:border-blue-300 hover:bg-blue-50",check:"text-blue-600"},green:{selected:"border-green-500 bg-green-50 text-green-800",unselected:"border-gray-200 bg-white text-gray-700 hover:border-green-300 hover:bg-green-50",check:"text-green-600"}}[s];return _t.jsxs("div",{children:[_t.jsxs("button",{onClick:()=>l(!o),className:"w-full mb-3 flex items-center justify-between text-left hover:bg-gray-50 p-2 rounded transition-colors",children:[_t.jsx("h4",{className:"text-sm font-medium text-gray-700",children:e}),_t.jsx("div",{className:"text-gray-400 hover:text-gray-600 transition-colors",children:o?_t.jsx(a_,{className:"h-4 w-4"}):_t.jsx(o_,{className:"h-4 w-4"})})]}),o&&_t.jsxs("div",{className:"space-y-1.5",children:[t.slice(0,5).map(e=>{const t=a.includes(e.name);return _t.jsxs("button",{onClick:()=>(e=>{const t=a.includes(e)?a.filter(t=>t!==e):[...a,e];i(t),r(t)})(e.name),className:`group w-full text-left flex items-start justify-between space-x-2 rounded border p-2 text-xs transition ${t?c.selected:c.unselected}`,title:`${e.reasoning} (${Math.round(100*e.confidence)}% confidence)`,children:[_t.jsxs("div",{className:"flex-1 min-w-0",children:[_t.jsx("div",{className:"font-medium truncate",children:e.name}),_t.jsx("div",{className:"text-xs opacity-75 mt-0.5 line-clamp-1",children:e.reasoning}),_t.jsxs("div",{className:"text-xs opacity-60",children:[Math.round(100*e.confidence),"% confidence"]})]}),t&&_t.jsx(d_,{className:`h-3 w-3 mt-0.5 flex-shrink-0 ${c.check}`})]},e.name)}),a.length>0&&_t.jsxs("p",{className:"mt-3 text-xs text-gray-500 text-center",children:[a.length," selected"]})]})]})}function G_({sources:e,onAddSource:t,onDeleteSource:n,aggregatedProfile:r,isAggregating:s,aggregateProgress:a,onReanalyze:i,isProcessing:o,canNavigateToDashboard:l,preferences:c,onPredictPreferences:u,onUpdatePreferences:d,completedSourcesCount:h,streamingSourceId:p,streamingProgress:f,isTourActive:m=!1,tourTab:g}){const b=h>0,y=!(!r||!r.name);c&&(c.predicted_industries||c.predicted_roles||c.predicted_companies),p&&f&&"idle"!==f.status&&f.status;const[x,v]=pt.useState(()=>{const e=sessionStorage.getItem("mobileCurrentTab");return e?parseInt(e,10):1}),E=e=>{v(e),sessionStorage.setItem("mobileCurrentTab",e.toString())};pt.useEffect(()=>{m&&g&&E(g)},[m,g]);const _=pt.useRef();pt.useEffect(()=>{const e=null==f?void 0:f.status,t=_.current;if("complete"===e&&t&&"idle"!==t&&"complete"!==t&&1===x){const t=setTimeout(()=>{E(2)},500);return _.current=e,()=>clearTimeout(t)}_.current=e},[null==f?void 0:f.status,x]);const T=e=>{if(m)return!0;switch(e){case 1:return!0;case 2:return b;case 3:return y;default:return!1}};return _t.jsxs("div",{className:"h-full flex flex-col bg-white",children:[_t.jsx("div",{className:"border-b border-gray-200 bg-white px-4 py-3 h-16 flex items-center",children:_t.jsx("div",{className:"flex items-center justify-between w-full",children:[{id:1,label:"Sources",subtitle:"Add your information"},{id:2,label:"Profile",subtitle:"Review & edit"},{id:3,label:"Interests",subtitle:"Set preferences"}].map(e=>{const t=x===e.id,n=T(e.id);return _t.jsxs("button",{onClick:()=>{return t=e.id,void(T(t)&&E(t));var t},disabled:!n,className:"flex-1 px-3 py-2 text-center transition-colors "+(t?"border-b-2 border-brand-500 text-brand-600":n?"text-gray-700 hover:text-gray-900":"text-gray-400 cursor-not-allowed"),children:[_t.jsx("div",{className:"text-sm font-medium",children:e.label}),_t.jsx("div",{className:"text-xs opacity-75",children:e.subtitle})]},e.id)})})}),_t.jsxs("div",{className:"flex-1 overflow-hidden",children:[1===x&&_t.jsx(B_,{sources:e,onAddSource:t,onDeleteSource:n,isCollapsed:!1,onToggleCollapse:()=>{},streamingSourceId:p,streamingProgress:f}),2===x&&_t.jsx(F_,{aggregatedProfile:r,isAggregating:s,aggregateProgress:a}),3===x&&_t.jsx(H_,{preferences:c,onPredictPreferences:u,onUpdatePreferences:d,isProcessing:o,completedSourcesCount:h,isCollapsed:!1,onToggleCollapse:()=>{},canNavigateToDashboard:l,onReanalyze:i})]})]})}function $_({isOpen:e,onClose:t,onSuccess:n,onError:r,onStartStreaming:s,onStartGitHubStreaming:a,onStartLinkedInStreaming:i,onStartProjectStreaming:o}){const[l,c]=ht.useState(!1);if(!e)return null;const u=async(e,r)=>{const{data:{user:a}}=await OE.auth.getUser(),i=!a,l=i?"test-user-123":a.id;let c=i?`test-${Date.now()}`:"";if(!i){const{data:t,error:n}=await OE.from("knowledge_sources").insert({user_id:a.id,source_type:"resume"===r?"resume":"project_document",source_identifier:e.name,processing_status:"processing",parsed_data:{},metadata:{fileName:e.name,fileSize:e.size}}).select().single();if(n)throw n;if(!t)throw new Error("Failed to create source");c=t.id}"resume"===r?null==s||s(c,e,l):null==o||o(c,e,l),n(),t()},d=async(e,s)=>{if(e.trim()){c(!0);try{const{data:{user:r}}=await OE.auth.getUser();if("linkedin"===s&&i&&r){const{data:s,error:a}=await OE.from("knowledge_sources").insert({user_id:r.id,source_type:"linkedin",source_identifier:e,processing_status:"processing",parsed_data:{}}).select().single();if(a)throw a;if(!s)throw new Error("Failed to create source");i(s.id,e),n(),t()}else if("github"===s&&a&&r){let s=e.trim();s.includes("github.com/")&&(s=s.split("github.com/")[1].split("/")[0]),s=s.replace(/^@/,"");const{data:i,error:o}=await OE.from("knowledge_sources").insert({user_id:r.id,source_type:"github",source_identifier:s,processing_status:"processing",parsed_data:{}}).select().single();if(o)throw o;if(!i)throw new Error("Failed to create source");a(i.id,s),n(),t()}else{switch(s){case"linkedin":await(l=e,FE("/knowledge-sources/linkedin",{method:"POST",body:JSON.stringify({url:l})}));break;case"github":await function(e){return FE("/knowledge-sources/github",{method:"POST",body:JSON.stringify({url:e})})}(e);break;case"website":await function(e){return FE("/knowledge-sources/website",{method:"POST",body:JSON.stringify({url:e})})}(e);break;case"text":await(o=e,FE("/knowledge-sources/text",{method:"POST",body:JSON.stringify({content:o})}))}n(),t()}}catch(u){r(u instanceof Error?u.message:`Failed to add ${s}`)}finally{c(!1)}var o,l}};return _t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",onClick:t,children:_t.jsxs("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-lg bg-white shadow-xl",onClick:e=>e.stopPropagation(),children:[_t.jsxs("div",{className:"flex items-start justify-between border-b border-gray-200 p-6",children:[_t.jsxs("div",{children:[_t.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Add New Source"}),_t.jsx("p",{className:"mt-2 text-gray-600",children:"Import your profile from multiple sources to get better recommendations"})]}),_t.jsx("button",{onClick:t,className:"rounded-full p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-600 transition-colors",children:_t.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),_t.jsx("div",{className:"p-6",children:_t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[_t.jsxs("div",{className:"rounded-lg border-2 border-dashed border-gray-300 bg-white p-6 transition hover:border-blue-400",children:[_t.jsxs("div",{className:"mb-3 flex items-center space-x-3",children:[_t.jsx("div",{className:"text-blue-600",children:_t.jsx(y_,{className:"h-6 w-6"})}),_t.jsxs("div",{children:[_t.jsx("h3",{className:"font-semibold text-gray-900",children:"Upload Resume/CV"}),_t.jsx("p",{className:"text-sm text-gray-500",children:"PDF or DOCX format"})]})]}),_t.jsxs("label",{className:"block",children:[_t.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:e=>{var t;const n=null==(t=e.target.files)?void 0:t[0];n&&(u(n,"resume"),e.target.value="")},disabled:l,className:"hidden"}),_t.jsx("div",{className:"cursor-pointer rounded-lg bg-blue-50 py-3 text-center text-sm font-medium text-blue-600 transition hover:bg-blue-100",children:l?"Uploading...":"Choose File"})]})]}),_t.jsxs("div",{className:"rounded-lg border-2 border-dashed border-gray-300 bg-white p-6 transition hover:border-purple-400",children:[_t.jsxs("div",{className:"mb-3 flex items-center space-x-3",children:[_t.jsx("div",{className:"text-purple-600",children:_t.jsx(x_,{className:"h-6 w-6"})}),_t.jsxs("div",{children:[_t.jsx("h3",{className:"font-semibold text-gray-900",children:"Upload Project Document"}),_t.jsx("p",{className:"text-sm text-gray-500",children:"Project docs, proposals, reports"})]})]}),_t.jsxs("label",{className:"block",children:[_t.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:e=>{var t;const n=null==(t=e.target.files)?void 0:t[0];n&&(u(n,"project"),e.target.value="")},disabled:l,className:"hidden"}),_t.jsx("div",{className:"cursor-pointer rounded-lg bg-purple-50 py-3 text-center text-sm font-medium text-purple-600 transition hover:bg-purple-100",children:l?"Uploading...":"Choose File"})]})]}),_t.jsx(W_,{icon:_t.jsx(T_,{className:"h-6 w-6"}),title:"LinkedIn Profile",description:"Enter your profile URL",placeholder:"https://linkedin.com/in/yourname",buttonText:"Add LinkedIn",onSubmit:e=>d(e,"linkedin"),disabled:l}),_t.jsx(W_,{icon:_t.jsx(v_,{className:"h-6 w-6"}),title:"GitHub Profile",description:"Username or profile URL",placeholder:"github.com/username or just username",buttonText:"Add GitHub",onSubmit:e=>d(e,"github"),disabled:l}),_t.jsx(W_,{icon:_t.jsx(E_,{className:"h-6 w-6"}),title:"Personal Website",description:"Portfolio, blog, or project page",placeholder:"https://yourwebsite.com",buttonText:"Add Website",onSubmit:e=>d(e,"website"),disabled:l}),_t.jsx("div",{className:"md:col-span-2",children:_t.jsx(q_,{icon:_t.jsx(y_,{className:"h-6 w-6"}),title:"Additional Context",description:"Add any other relevant information",placeholder:"Tell us about skills, projects, achievements not captured elsewhere...",buttonText:"Add Context",onSubmit:e=>d(e,"text"),disabled:l})})]})})]})})}function W_({icon:e,title:t,description:n,placeholder:r,buttonText:s,onSubmit:a,disabled:i}){const[o,l]=ht.useState(""),c=()=>{a(o),l("")};return _t.jsxs("div",{className:"rounded-lg border-2 border-dashed border-gray-300 bg-white p-6 transition hover:border-blue-400",children:[_t.jsxs("div",{className:"mb-3 flex items-center space-x-3",children:[_t.jsx("div",{className:"text-blue-600",children:e}),_t.jsxs("div",{children:[_t.jsx("h3",{className:"font-semibold text-gray-900",children:t}),_t.jsx("p",{className:"text-sm text-gray-500",children:n})]})]}),_t.jsxs("div",{className:"flex space-x-2",children:[_t.jsx("input",{type:"text",value:o,onChange:e=>l(e.target.value),onKeyPress:e=>"Enter"===e.key&&!i&&o.trim()&&c(),placeholder:r,disabled:i,className:"flex-1 rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none disabled:bg-gray-100"}),_t.jsx("button",{onClick:c,disabled:i||!o.trim(),className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white transition hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Adding...":s})]})]})}function q_({icon:e,title:t,description:n,placeholder:r,buttonText:s,onSubmit:a,disabled:i}){const[o,l]=ht.useState("");return _t.jsxs("div",{className:"rounded-lg border-2 border-dashed border-gray-300 bg-white p-6 transition hover:border-blue-400",children:[_t.jsxs("div",{className:"mb-3 flex items-center space-x-3",children:[_t.jsx("div",{className:"text-blue-600",children:e}),_t.jsxs("div",{children:[_t.jsx("h3",{className:"font-semibold text-gray-900",children:t}),_t.jsx("p",{className:"text-sm text-gray-500",children:n})]})]}),_t.jsx("textarea",{value:o,onChange:e=>l(e.target.value),placeholder:r,disabled:i,rows:4,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none disabled:bg-gray-100"}),_t.jsx("button",{onClick:()=>{a(o),l("")},disabled:i||!o.trim(),className:"mt-2 w-full rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white transition hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Adding...":s})]})}const V_={name:""},Y_=Lg()((e,t)=>({basicInfo:V_,applications:[],education:[],experiences:[],isLoading:!1,error:null,hasCompletedOnboarding:!1,setBasicInfo:t=>e(e=>({basicInfo:{...e.basicInfo,...t}})),setProfile:t=>e(()=>({profile:{...t,skills:t.skills??[]}})),mergeProfile:t=>e(e=>{var n;const r=[...new Set([...(null==(n=e.profile)?void 0:n.skills)??[],...t.skills??[]])];return{profile:{...e.profile,...t,skills:r}}}),parsedProfile:void 0,setParsedProfile:t=>e({parsedProfile:t}),addApplication:t=>e(e=>({applications:[t,...e.applications]})),setApplications:t=>e({applications:t}),resetApplications:()=>e({applications:[]}),setEducation:t=>e({education:t}),setExperiences:t=>e({experiences:t}),loadProfileFromDB:async()=>{if(!t().isLoading){e({isLoading:!0,error:null});try{const t=await FE("/profile",{method:"GET"});e(t?{profile:{id:t.id,name:t.name,gender:t.gender,nationality:t.nationality,educationLevel:t.educationLevel,educationInstitution:t.educationInstitution,certifications:t.certifications,yearsExperience:t.yearsExperience,skills:t.skills||[],expectedSalarySGD:t.expectedSalarySGD,plan:t.plan||"freemium",latestCompassScore:t.latestCompassScore||null},basicInfo:{name:t.name||"",gender:t.gender,nationality:t.nationality},isLoading:!1}:{isLoading:!1})}catch(n){e({error:n instanceof Error?n.message:"Failed to load profile",isLoading:!1})}}},saveProfileToDB:async()=>{const{profile:n}=t();if(n){e({isLoading:!0,error:null});try{const t=await function(e){return FE("/profile",{method:"PUT",body:JSON.stringify(e)})}({name:n.name,gender:n.gender,nationality:n.nationality,educationLevel:n.educationLevel,educationInstitution:n.educationInstitution,certifications:n.certifications,yearsExperience:n.yearsExperience,skills:n.skills,expectedSalarySGD:n.expectedSalarySGD,plan:n.plan});e({profile:{...n,id:t.id,...t},isLoading:!1})}catch(r){e({error:r instanceof Error?r.message:"Failed to save profile",isLoading:!1})}}else e({error:"No profile to save"})},clearNonActivatedProfile:()=>{const{profile:n}=t();!n||n.id&&"local-user"!==n.id||e({profile:void 0,basicInfo:V_})},completeOnboarding:()=>{e({hasCompletedOnboarding:!0})}}));function K_(e){const t={};let n=0;const r=e.match(/"name"\s*:\s*"([^"]+)"/);r&&(t.name=r[1],n++);const s=e.match(/"email"\s*:\s*"([^"]+)"/);s&&(t.email=s[1],n++);const a=e.match(/"location"\s*:\s*"([^"]+)"/);a&&(t.location=a[1],n++);const i=e.match(/"summary"\s*:\s*"([^"]+)"/);i&&(t.bio=i[1],n++);const o=e.match(/"skills"\s*:\s*\[([\s\S]*?)\]/);if(o){const e=(o[1].match(/"/g)||[]).length/2;t.skills_count=Math.floor(e),n++}if(e.match(/"projects"\s*:\s*\[/)){const r=e.indexOf('"projects"'),s=(e.substring(r).match(/"name"\s*:\s*"/g)||[]).length;s>0&&(t.repos_count=s,n++)}return{fields_found:n,data:t}}function Q_(e){const t={};let n=0;const r=e.match(/"name"\s*:\s*"([^"]+)"/);r&&(t.name=r[1],n++);const s=e.match(/"email"\s*:\s*"([^"]+)"/);s&&(t.email=s[1],n++);const a=e.match(/"location"\s*:\s*"([^"]+)"/);a&&(t.location=a[1],n++);const i=e.match(/"summary"\s*:\s*"([^"]+)"/);i&&(t.headline=i[1],n++);const o=e.match(/"experience"\s*:\s*\[([\s\S]*?)$/);if(o){const e=(o[1].match(/"company"\s*:/g)||[]).length;t.experience_count=e,n++}const l=e.match(/"education"\s*:\s*\[([\s\S]*?)$/);if(l){const e=(l[1].match(/"institution"\s*:/g)||[]).length;t.education_count=e,n++}const c=e.match(/"skills"\s*:\s*\[([\s\S]*?)\]/);if(c){const e=(c[1].match(/"/g)||[]).length/2;t.skills_count=Math.floor(e),n++}return{fields_found:n,data:t}}function J_(e){const t={};let n=0;const r=e.match(/"projects"\s*:\s*\[([\s\S]*?)$/);if(r){const e=(r[1].match(/"name"\s*:/g)||[]).length;t.projects_count=e,n++}const s=e.match(/"skills"\s*:\s*\[([\s\S]*?)\]/);if(s){const e=(s[1].match(/"/g)||[]).length/2;t.skills_count=Math.floor(e),n++}return{fields_found:n,data:t}}function X_(){const[e,t]=ht.useState([]),[n,r]=ht.useState(null),[s,a]=ht.useState(null),[i,o]=ht.useState(!0),[l,c]=ht.useState(!1),u=ht.useRef(!1),[d,h]=ht.useState(null),[p,f]=ht.useState(!1),[m,g]=ht.useState(0),{progress:b,isAggregating:y,aggregate:x}=function(){const[e,t]=ht.useState({status:"idle",streamedText:""}),[n,r]=ht.useState(!1),s=ht.useRef(""),a=ht.useRef(0),i=ht.useCallback(()=>{t({status:"idle",streamedText:""}),r(!1),s.current="",a.current=0},[]);return{progress:e,isAggregating:n,aggregate:ht.useCallback(async(e,n)=>{var i;r(!0),s.current="",a.current=0,t({status:"fetching",streamedText:""});try{const{data:{session:l}}=await OE.auth.getSession();if(!l)throw new Error("Not authenticated");const c=await fetch("https://usbutocanshhiozxevon.supabase.co/functions/v1/aggregate-profile-stream",{method:"POST",headers:{Authorization:`Bearer ${l.access_token}`,"Content-Type":"application/json"}});if(!c.ok){const e=await c.text();throw new Error(e||"Aggregation failed")}const u=null==(i=c.body)?void 0:i.getReader(),d=new TextDecoder;if(!u)throw new Error("No response body");let h="",p="";for(;;){const{done:i,value:l}=await u.read();if(i)break;h+=d.decode(l,{stream:!0});const c=h.split("\n");h=c.pop()||"";for(const u of c)if(u.trim())if(u.startsWith("event: "))p=u.slice(7).trim();else if(u.startsWith("data: "))try{const i=JSON.parse(u.slice(6));if("status"===p)t(e=>({...e,status:i.status,sourcesCount:i.sources_count}));else if("token"===p){s.current+=i.token;const e=Date.now();e-a.current>=50&&(t(e=>({...e,status:"aggregating",streamedText:s.current})),a.current=e)}else"complete"===p?(t(e=>({...e,status:"complete",streamedText:s.current})),r(!1),null==e||e(i.profile)):"error"===p&&(t(e=>({...e,status:"error",error:i.error})),r(!1),null==n||n(i.error))}catch(o){}}}catch(d){const s=d instanceof Error?d.message:"Unknown error";t(e=>({...e,status:"error",error:s})),r(!1),null==n||n(s)}},[]),reset:i}}(),[v,E]=ht.useState(null),[_,T]=ht.useState(null),[w,k]=ht.useState(null),{progress:N,uploadAndStream:S}=function(e){const[t,n]=ht.useState({status:"idle"}),[r,s]=ht.useState(!1),a=ht.useRef(""),i=ht.useRef(0);return{progress:t,isStreaming:r,uploadAndStream:async(t,r,o)=>{var l,c,u;s(!0),n({status:"uploading",message:"Uploading resume..."}),a.current="";try{const{data:{session:r}}=await OE.auth.getSession(),u="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVzYnV0b2NhbnNoaGlvenhldm9uIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIxNzIyMTEsImV4cCI6MjA3Nzc0ODIxMX0.AHP8VjGgwXvMbqXB1a496XRww7Qc45LRbbu3l29vYMk",h="sb_publishable_YQ3XwwyvEIPIn9p0EeMjsQ_mk6-A88G",p=new FormData;p.append("file",t),p.append("sourceId",(null==r?void 0:r.access_token)?o:`test-${Date.now()}`);const f=await fetch("https://usbutocanshhiozxevon.supabase.co/functions/v1/parse-resume-stream",{method:"POST",headers:{Authorization:`Bearer ${(null==r?void 0:r.access_token)||u}`,apikey:h},body:p});if(!f.ok)throw new Error(`HTTP ${f.status}: ${f.statusText}`);if(!f.body)throw new Error("No response body");const m=f.body.getReader(),g=new TextDecoder;let b="",y="";for(;;){const{done:t,value:r}=await m.read();if(t)break;b+=g.decode(r,{stream:!0});const o=b.split("\n");b=o.pop()||"";for(const u of o)if(u.trim())if(u.startsWith("event: "))y=u.slice(7).trim();else if(u.startsWith("data: "))try{const t=JSON.parse(u.slice(6));if("status"===y)n({status:t.status,message:t.message});else if("token"===y){a.current+=t.token;const e=Date.now();if(e-i.current>=50){i.current=e;const t=a.current;n(e=>({...e,status:"parsing",streamedText:t,message:"Streaming response..."}))}}else"progress"===y?n(e=>({...e,status:"parsing",fields_found:t.fields_found,partial_data:t.partial_data})):"complete"===y?(n({status:"complete",profile:t.profile,message:"Resume parsed successfully!",streamedText:a.current}),s(!1),null==(l=null==e?void 0:e.onComplete)||l.call(e,t.profile,t.metadata)):"error"===y&&(n({status:"error",error:t.error,message:t.error}),s(!1),null==(c=null==e?void 0:e.onError)||c.call(e,t.error))}catch(d){}}}catch(d){const r=d instanceof Error?d.message:"Unknown error";n({status:"error",error:r,message:r}),s(!1),null==(u=null==e?void 0:e.onError)||u.call(e,r)}},reset:()=>{n({status:"idle"}),s(!1),a.current=""}}}({onComplete:async(e,t)=>{try{if(!t.sourceId.startsWith("test-")){const{error:n}=await OE.from("knowledge_sources").update({parsed_data:e,processing_status:"completed"}).eq("id",t.sourceId);if(n)throw n}E(null),k(null),q(!0)}catch(n){}},onError:e=>{E(null),k(null),h(e)}}),{progress:A,parseAndStream:C}=function(e){const[t,n]=ht.useState({status:"idle"}),[r,s]=ht.useState(!1),a=ht.useRef(""),i=ht.useRef(0);return{progress:t,isStreaming:r,parseAndStream:async(t,r)=>{var o,l,c,u;s(!0),n({status:"fetching",message:`Fetching GitHub profile for ${t}...`}),a.current="";try{const{data:{session:u}}=await OE.auth.getSession();if(!u)throw new Error("Not authenticated");const h=await fetch("https://usbutocanshhiozxevon.supabase.co/functions/v1/parse-github-stream",{method:"POST",headers:{Authorization:`Bearer ${u.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({username:t,sourceId:r})});if(!h.ok){const e=await h.text();throw new Error(e||"GitHub parsing failed")}const p=null==(o=h.body)?void 0:o.getReader(),f=new TextDecoder;if(!p)throw new Error("No response body");let m="",g="";for(;;){const{done:t,value:r}=await p.read();if(t)break;m+=f.decode(r,{stream:!0});const o=m.split("\n");m=o.pop()||"";for(const u of o)if(u.trim())if(u.startsWith("event: "))g=u.slice(7).trim();else if(u.startsWith("data: "))try{const t=JSON.parse(u.slice(6));if("status"===g)n({status:t.status,message:t.message});else if("token"===g){a.current+=t.token;const e=K_(a.current),r=Date.now();r-i.current>=50&&(i.current=r,n(t=>({...t,status:"parsing",streamedText:a.current,fields_found:e.fields_found,partial_data:e.data})))}else"complete"===g?(n({status:"complete",profile:t.profile,message:"GitHub profile parsed successfully!",streamedText:a.current}),s(!1),null==(l=null==e?void 0:e.onComplete)||l.call(e,t.profile,t.metadata)):"error"===g&&(n({status:"error",error:t.error,message:t.error}),s(!1),null==(c=null==e?void 0:e.onError)||c.call(e,t.error))}catch(d){}}}catch(d){const r=d instanceof Error?d.message:"Unknown error";n({status:"error",error:r,message:r}),s(!1),null==(u=null==e?void 0:e.onError)||u.call(e,r)}},reset:()=>{n({status:"idle"}),s(!1),a.current=""}}}({onComplete:async(e,t)=>{try{const{error:n}=await OE.from("knowledge_sources").update({parsed_data:e,processing_status:"completed"}).eq("id",t.sourceId);if(n)throw n;E(null),T(null),k(null),q(!0)}catch(n){}},onError:e=>{E(null),T(null),k(null),h(e)}}),{progress:I,parseAndStream:j}=function(e){const[t,n]=ht.useState({status:"idle"}),[r,s]=ht.useState(!1),a=ht.useRef(""),i=ht.useRef(0);return{progress:t,isStreaming:r,parseAndStream:async(t,r)=>{var o,l,c,u;s(!0),n({status:"fetching",message:"Fetching LinkedIn profile..."}),a.current="";try{const{data:{session:u}}=await OE.auth.getSession();if(!u)throw new Error("Not authenticated");const h=await fetch("https://usbutocanshhiozxevon.supabase.co/functions/v1/parse-linkedin-stream",{method:"POST",headers:{Authorization:`Bearer ${u.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({url:t,sourceId:r})});if(!h.ok){const e=await h.text();throw new Error(e||"LinkedIn parsing failed")}const p=null==(o=h.body)?void 0:o.getReader(),f=new TextDecoder;if(!p)throw new Error("No response body");let m="",g="";for(;;){const{done:t,value:r}=await p.read();if(t)break;m+=f.decode(r,{stream:!0});const o=m.split("\n");m=o.pop()||"";for(const u of o)if(u.trim())if(u.startsWith("event: "))g=u.slice(7).trim();else if(u.startsWith("data: "))try{const t=JSON.parse(u.slice(6));if("status"===g)n({status:t.status,message:t.message});else if("token"===g){a.current+=t.token;const e=Q_(a.current),r=Date.now();r-i.current>=50&&(i.current=r,n(t=>({...t,status:"fetching"===t.status?"parsing":t.status,streamedText:a.current,fields_found:e.fields_found,partial_data:e.data})))}else"complete"===g?(n({status:"complete",profile:t.profile,message:"LinkedIn profile parsed successfully!",streamedText:a.current}),s(!1),null==(l=null==e?void 0:e.onComplete)||l.call(e,t.profile,t.metadata,t.rawData)):"error"===g&&(n({status:"error",error:t.error,message:t.error}),s(!1),null==(c=null==e?void 0:e.onError)||c.call(e,t.error))}catch(d){}}}catch(d){const r=d instanceof Error?d.message:"Unknown error";n({status:"error",error:r,message:r}),s(!1),null==(u=null==e?void 0:e.onError)||u.call(e,r)}},reset:()=>{n({status:"idle"}),s(!1),a.current=""}}}({onComplete:async(e,t,n)=>{try{const{error:r}=await OE.from("knowledge_sources").update({parsed_data:e,raw_content:n,processing_status:"completed"}).eq("id",t.sourceId);if(r)throw r;E(null),T(null),k(null),q(!0)}catch(r){}},onError:e=>{E(null),T(null),k(null),h(e)}}),{progress:O,uploadAndStream:R}=function(e){const[t,n]=ht.useState({status:"idle"}),[r,s]=ht.useState(!1),a=ht.useRef(""),i=ht.useRef(0);return{progress:t,isStreaming:r,uploadAndStream:async(t,r,o)=>{var l,c,u;s(!0),n({status:"uploading",message:"Uploading project document..."}),a.current="";try{const{data:{session:r}}=await OE.auth.getSession(),u="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVzYnV0b2NhbnNoaGlvenhldm9uIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIxNzIyMTEsImV4cCI6MjA3Nzc0ODIxMX0.AHP8VjGgwXvMbqXB1a496XRww7Qc45LRbbu3l29vYMk",h="sb_publishable_YQ3XwwyvEIPIn9p0EeMjsQ_mk6-A88G",p=new FormData;p.append("file",t),p.append("sourceId",(null==r?void 0:r.access_token)?o:`test-${Date.now()}`);const f=await fetch("https://usbutocanshhiozxevon.supabase.co/functions/v1/parse-project-stream",{method:"POST",headers:{Authorization:`Bearer ${(null==r?void 0:r.access_token)||u}`,apikey:h},body:p});if(!f.ok)throw new Error(`HTTP ${f.status}: ${f.statusText}`);if(!f.body)throw new Error("No response body");const m=f.body.getReader(),g=new TextDecoder;let b="",y="";for(;;){const{done:t,value:r}=await m.read();if(t)break;b+=g.decode(r,{stream:!0});const o=b.split("\n");b=o.pop()||"";for(const u of o)if(u.trim())if(u.startsWith("event: "))y=u.slice(7).trim();else if(u.startsWith("data: "))try{const t=JSON.parse(u.slice(6));if("status"===y)n({status:t.status,message:t.message});else if("token"===y){a.current+=t.token;const e=J_(a.current),r=Date.now();if(r-i.current>=50){i.current=r;const t=a.current;n(n=>({...n,status:"parsing",streamedText:t,fields_found:e.fields_found,partial_data:e.data}))}}else"complete"===y?(n({status:"complete",profile:t.profile,message:"Project document parsed successfully!",streamedText:a.current}),s(!1),null==(l=null==e?void 0:e.onComplete)||l.call(e,t.profile,t.metadata)):"error"===y&&(n({status:"error",error:t.error,message:t.error}),s(!1),null==(c=null==e?void 0:e.onError)||c.call(e,t.error))}catch(d){}}}catch(d){const r=d instanceof Error?d.message:"Unknown error";n({status:"error",error:r,message:r}),s(!1),null==(u=null==e?void 0:e.onError)||u.call(e,r)}},reset:()=>{n({status:"idle"}),s(!1),a.current=""}}}({onComplete:async(e,t)=>{try{const{error:n}=await OE.from("knowledge_sources").update({parsed_data:e,processing_status:"completed"}).eq("id",t.sourceId);if(n)throw n;E(null),T(null),k(null),q(!0)}catch(n){}},onError:e=>{E(null),T(null),k(null),h(e)}});ht.useEffect(()=>{if(v&&_){let e=null;switch(_){case"resume":e="idle"!==N.status?N:null;break;case"github":e="idle"!==A.status?A:null;break;case"linkedin":e="idle"!==I.status?I:null;break;case"project":e="idle"!==O.status?O:null}e&&k(e)}},[N,A,I,O,v,_]);const[P,D]=ht.useState(!1),[L,M]=ht.useState(!1),B=Y_(e=>e.hasCompletedOnboarding),U=Y_(e=>e.completeOnboarding),F=Y_(e=>e.loadProfileFromDB),H=Y_(e=>e.profile),[z,G]=ht.useState(!1),[$,W]=ht.useState(1);ht.useEffect(()=>{i||0!==e.length||B||G(!0)},[i,e.length,B]),ht.useEffect(()=>{q()},[]),ht.useEffect(()=>{if(!e.some(e=>"pending"===e.processing_status||"processing"===e.processing_status))return;const n=setInterval(()=>{$E().then(e=>{t(e.sources)}).catch(console.error)},3e3);return()=>clearInterval(n)},[e]),ht.useEffect(()=>{const t=e.filter(e=>"completed"===e.processing_status).length;if(0!==t&&t>0&&t!==m&&!y){if(g(t),1===t){const t=e.find(e=>"completed"===e.processing_status);if(null==t?void 0:t.parsed_data){const e={...t.parsed_data,sources:[{type:t.source_type,identifier:t.source_identifier,created_at:t.created_at}],updated_at:t.updated_at};a(e),F().catch(e=>{})}return}x(e=>{a(e),F().catch(e=>{})},e=>{h(`Aggregation failed: ${e}`)})}},[e,m]);const q=async(e=!1)=>{o(!0);try{const[n,i,o]=await Promise.all([$E(),qE(),FE("/knowledge-sources/aggregate",{method:"GET"})]),l=n.sources.filter(e=>"resume"===e.source_type);if(l.length>1){l.sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime());const e=l.slice(1);await Promise.all(e.map(e=>WE(e.id)));const r=n.sources.filter(t=>!e.find(e=>e.id===t.id));t(r)}else t(n.sources);if(r(i.preferences),o.aggregated_profile&&!Array.isArray(o.aggregated_profile)?a(o.aggregated_profile):Array.isArray(o.aggregated_profile)||u.current||s||a(null),u.current=!0,!e){const e=(n.sources||[]).filter(e=>"completed"===e.processing_status).length,t=(n.sources||[]).some(e=>"processing"===e.processing_status),r=Array.isArray(o.aggregated_profile),s=!o.aggregated_profile;e>0&&(s||r)&&!t?(g(0),setTimeout(()=>g(e),0)):g(e)}}catch(n){h(n instanceof Error?n.message:"Failed to load data")}finally{o(!1)}},V=async n=>{if(confirm("Are you sure you want to delete this source?"))try{await WE(n),t(e.filter(e=>e.id!==n))}catch(r){h(r instanceof Error?r.message:"Failed to delete source")}},Y=async()=>{c(!0),h(null);try{const{preferences:e}=await FE("/preferences/predict",{method:"POST"});r(e)}catch(e){h(e instanceof Error?e.message:"Failed to predict preferences")}finally{c(!1)}},K=async e=>{try{const{preferences:t}=await function(e){return FE("/preferences",{method:"PUT",body:JSON.stringify(e)})}(e);r(t)}catch(t){h(t instanceof Error?t.message:"Failed to update preferences")}};if(i)return _t.jsx("div",{className:"flex min-h-screen items-center justify-center",children:_t.jsxs("div",{className:"text-center",children:[_t.jsx(S_,{className:"mx-auto mb-4 h-12 w-12 animate-spin text-blue-600"}),_t.jsx("p",{className:"text-gray-600",children:"Loading your knowledge base..."})]})});const Q=e.filter(e=>"completed"===e.processing_status),J=!!(H&&H.id&&"local-user"!==H.id&&H.skills&&H.skills.length>0);return _t.jsxs("div",{className:"flex flex-col bg-slate-50",style:{height:"calc(100vh - 120px)"},children:[d&&_t.jsx("div",{className:"border-b bg-red-50 p-3 flex-shrink-0",children:_t.jsx("div",{className:"text-red-700 text-sm",children:d})}),_t.jsxs("div",{className:"hidden lg:flex flex-1 min-h-0",children:[_t.jsx("div",{className:`transition-all duration-300 ${P?"w-16":"w-80"} flex-shrink-0`,children:_t.jsx(B_,{sources:e,onAddSource:()=>f(!0),onDeleteSource:V,isCollapsed:P,onToggleCollapse:()=>D(!P),streamingSourceId:v,streamingProgress:w})}),_t.jsx("div",{className:"flex-1 min-w-0",children:_t.jsx(F_,{aggregatedProfile:s,isAggregating:y,aggregateProgress:b,onProfileUpdate:a})}),_t.jsx("div",{className:`transition-all duration-300 ${L?"w-16":"w-80"} flex-shrink-0`,children:_t.jsx(H_,{preferences:n,onPredictPreferences:Y,onUpdatePreferences:K,isProcessing:l,completedSourcesCount:Q.length,isCollapsed:L,onToggleCollapse:()=>M(!L),canNavigateToDashboard:J,onReanalyze:Y})})]}),_t.jsx("div",{className:"lg:hidden flex-1 min-h-0",children:_t.jsx(G_,{sources:e,onAddSource:()=>f(!0),onDeleteSource:V,aggregatedProfile:s,isAggregating:y,aggregateProgress:b,onReanalyze:Y,isProcessing:l,canNavigateToDashboard:J,preferences:n,onPredictPreferences:Y,onUpdatePreferences:K,completedSourcesCount:Q.length,streamingSourceId:v,streamingProgress:w,isTourActive:z,tourTab:$})}),_t.jsx($_,{isOpen:p,onClose:()=>{f(!1),h(null)},onSuccess:()=>{q()},onError:e=>{h(e)},onStartStreaming:(e,t,n)=>{E(e),T("resume"),k({status:"uploading",message:"Starting..."}),S(t,n,e).catch(e=>{h(e instanceof Error?e.message:"Resume streaming failed")})},onStartGitHubStreaming:(e,t)=>{E(e),T("github"),k({status:"fetching",message:"Fetching GitHub profile..."}),C(t,e).catch(e=>{h(e instanceof Error?e.message:"GitHub streaming failed")})},onStartLinkedInStreaming:(e,t)=>{E(e),T("linkedin"),k({status:"fetching",message:"Starting LinkedIn fetch..."}),j(t,e).catch(e=>{h(e instanceof Error?e.message:"LinkedIn streaming failed")})},onStartProjectStreaming:(e,t,n)=>{E(e),T("project"),k({status:"uploading",message:"Starting..."}),R(t,n,e).catch(e=>{h(e instanceof Error?e.message:"Project streaming failed")})}}),_t.jsx(M_,{steps:[{target:'[data-tour="add-source-button"]',title:"Welcome! Let's Get You Set Up",content:"Click here to add your first piece of the puzzleyour resume, LinkedIn profile, GitHub projects, or anything else that tells your story. The more you add, the better we understand what makes you unique!",position:"bottom",mobileTab:1},{target:'[data-tour="sources-section"]',title:"Your Collection Grows Here",content:"Everything you add shows up in this panel. We'll process each source to pull out the important bits. Don't worryyou can always check what we found, delete things, or add more whenever you want.",position:"top",mobileTab:1},{target:'[data-tour="aggregated-profile"]',title:"Meet the Complete You",content:"Once we process your sources, this is where the magic happens. We combine everything into one comprehensive profileall your experience, skills, education, and projects in one place. Think of it as your professional highlight reel!",position:"top",mobileTab:2},{target:'[data-tour="preferences-panel"]',title:"What Are You Looking For?",content:"Based on your background, we'll suggest industries, roles, and companies that might interest you. These are just smart guessesyou can customize them to match what you're actually looking for. It helps us find jobs you'll actually like!",position:"left",mobileTab:3},{target:"body",title:"Ready to Roll!",content:"That's the quick tour! Go ahead and add your first source to get started. Once your profile is ready, head over to the Jobs page and we'll show you opportunities that are actually worth your time.",position:"top",mobileTab:1}],isActive:z,onComplete:()=>{G(!1),U()},onSkip:()=>{G(!1),U()},onMobileTabChange:W})]})}function Z_({job:e,actionable:t=!0}){return _t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-card transition hover:-translate-y-1 hover:shadow-lg",children:[_t.jsx("div",{className:"flex items-start justify-between gap-4",children:_t.jsxs("div",{className:"flex-1",children:[_t.jsx("p",{className:"text-sm uppercase tracking-wide text-slate-500",children:e.company}),_t.jsx("h3",{className:"mt-1 text-xl font-semibold text-slate-900",children:e.title}),_t.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:[e.location,"  ",e.industry]})]})}),_t.jsx("p",{className:"mt-4 line-clamp-3 text-sm text-slate-600",children:e.description}),_t.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[e.title.toLowerCase().includes("intern")&&_t.jsx("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-semibold text-blue-700",children:"Internship"}),!e.title.toLowerCase().includes("intern")&&_t.jsx("span",{className:"inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-semibold text-green-700",children:"Full-time"}),e.requirements&&e.requirements.filter(e=>!["internship","full-time","part-time","contract"].includes(e.toLowerCase())).map(e=>_t.jsx("span",{className:"inline-flex items-center rounded-full bg-purple-100 px-2.5 py-0.5 text-xs font-medium text-purple-700",children:e},e))]}),t&&_t.jsx("div",{className:"mt-6 flex justify-end",children:_t.jsx(em,{to:`/jobs/${e.id}`,className:"relative z-10 rounded-lg bg-brand-600 px-4 py-2 text-sm font-medium text-white shadow-sm transition-all hover:bg-brand-700 hover:shadow-md hover:text-white active:scale-95",children:"View Details"})})]})}function eT({title:e,description:t,action:n}){return _t.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border border-slate-200 bg-white p-10 text-center",children:[_t.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:e}),_t.jsx("p",{className:"mt-2 max-w-md text-sm text-slate-500",children:t}),n&&_t.jsx("div",{className:"mt-4",children:n})]})}function tT({label:e,options:t,selected:n,onChange:r,placeholder:s="Select options..."}){const[a,i]=ht.useState(!1),[o,l]=ht.useState(""),c=ht.useRef(null);ht.useEffect(()=>{function e(e){c.current&&!c.current.contains(e.target)&&i(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const u=t.filter(e=>e.toLowerCase().includes(o.toLowerCase()));return _t.jsxs("div",{className:"relative",ref:c,children:[_t.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-500 mb-2",children:e}),_t.jsxs("button",{type:"button",onClick:()=>i(!a),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-left text-sm flex items-center justify-between hover:border-slate-400 transition-colors",children:[_t.jsx("span",{className:0===n.length?"text-slate-400":"text-slate-900",children:0===n.length?s:1===n.length?n[0]:`${n.length} selected`}),_t.jsx("svg",{className:"h-4 w-4 text-slate-400 transition-transform "+(a?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a&&_t.jsxs("div",{className:"absolute z-50 mt-1 w-full rounded-lg border border-slate-300 bg-white shadow-lg",children:[_t.jsx("div",{className:"border-b border-slate-200 p-2",children:_t.jsx("input",{type:"text",value:o,onChange:e=>l(e.target.value),placeholder:"Search...",className:"w-full rounded border border-slate-300 px-2 py-1 text-sm focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500",onClick:e=>e.stopPropagation()})}),_t.jsx("div",{className:"max-h-60 overflow-y-auto",children:0===u.length?_t.jsx("div",{className:"px-3 py-2 text-sm text-slate-400",children:"No options found"}):_t.jsx(_t.Fragment,{children:u.map(e=>_t.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 hover:bg-slate-50 cursor-pointer",children:[_t.jsx("input",{type:"checkbox",checked:n.includes(e),onChange:()=>(e=>{n.includes(e)?r(n.filter(t=>t!==e)):r([...n,e])})(e),className:"h-4 w-4 rounded border-slate-300 text-brand-600 focus:ring-brand-500"}),_t.jsx("span",{className:"text-sm text-slate-700",children:e})]},e))})}),n.length>0&&_t.jsx("div",{className:"border-t border-slate-200 p-2",children:_t.jsxs("button",{type:"button",onClick:()=>{r([]),l("")},className:"w-full rounded bg-slate-100 px-3 py-1 text-sm font-medium text-slate-700 hover:bg-slate-200 transition-colors",children:["Clear all (",n.length,")"]})})]})]})}function nT(e){var t;return e?JSON.stringify({plan:e.plan,educationLevel:e.educationLevel,skills:null==(t=e.skills)?void 0:t.slice().sort()}):"none"}function rT(e){const t=Y_(e=>e.profile),n=ht.useMemo(()=>nT(t),[t]);return Lp({queryKey:["jobs",e,n],queryFn:()=>function(e){return FE("/jobs",{method:"GET",query:e})}(e)})}function sT(e){const t=Y_(e=>e.profile),n=ht.useMemo(()=>nT(t),[t]);return Lp({queryKey:["job",e,n],queryFn:()=>function(e){return FE(`/jobs/${e}`,{method:"GET"})}(e??""),enabled:Boolean(e)})}const aT={search:"",tags:[],company:[]};function iT(){var e,t,n;const r=Cf(),s=Y_(e=>e.profile),[a,i]=ht.useState(aT),[o,l]=ht.useState(aT),[c,u]=ht.useState(1),[d,h]=ht.useState(!0);ht.useEffect(()=>{s&&s.id&&"local-user"!==s.id&&s.skills&&0!==s.skills.length||r("/knowledge-base")},[s,r]);const{data:p}=Lp({queryKey:["user-preferences"],queryFn:qE,retry:!1}),f=null==p?void 0:p.preferences;f&&((null==(e=f.confirmed_industries)?void 0:e.length)||(null==(t=f.confirmed_roles)?void 0:t.length)||null==(n=f.confirmed_companies)||n.length);const{data:m}=Lp({queryKey:["job-filters"],queryFn:HE}),{data:g,isLoading:b}=rT({search:o.search,tags:o.tags.join(","),company:o.company.join(","),page:c,pageSize:50});ht.useEffect(()=>{u(1)},[o]);const y=ht.useCallback(e=>{if(!f)return{matches:!1,reasons:[],matchCount:0};const t=f.confirmed_roles||[],n=f.confirmed_companies||[],r=f.confirmed_industries||[],s=new Set,a=t.some(t=>{const n=t.toLowerCase().includes(e.title.toLowerCase())||e.title.toLowerCase().includes(t.toLowerCase());return n&&s.add(t),n}),i=n.some(t=>{const n=t.toLowerCase().includes(e.company.toLowerCase())||e.company.toLowerCase().includes(t.toLowerCase());return n&&s.add(t),n}),o=r.some(t=>{const n=(e.requirements||[]).some(e=>t.toLowerCase().includes(e.toLowerCase())||e.toLowerCase().includes(t.toLowerCase()));return n&&s.add(t),n}),l=r.some(t=>{const n=t.toLowerCase().includes(e.industry.toLowerCase())||e.industry.toLowerCase().includes(t.toLowerCase());return n&&s.add(t),n}),c=Array.from(s);return{matches:a||i||o||l,reasons:c,matchCount:c.length}},[f]),x=(null==g?void 0:g.items)||[],v=(null==g?void 0:g.totalPages)||0,E=x.length?50*(c-1)+1:0,_=x.length?E+x.length-1:0;return _t.jsx("div",{className:"flex flex-col bg-slate-50",style:{height:"calc(100vh - 120px)"},children:_t.jsx("div",{className:"flex-1 overflow-y-auto",children:_t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6",children:[_t.jsxs("form",{onSubmit:e=>{e.preventDefault(),l(a)},className:"grid gap-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-card md:grid-cols-3 mb-6",children:[_t.jsxs("div",{className:"md:col-span-1",children:[_t.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Search"}),_t.jsx("input",{type:"text",value:a.search,onChange:e=>i(t=>({...t,search:e.target.value})),placeholder:"e.g. data, product, fintech",className:"mt-2 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm"})]}),_t.jsx(tT,{label:"Company",options:(null==m?void 0:m.companies)||[],selected:a.company,onChange:e=>i(t=>({...t,company:e})),placeholder:"All companies"}),_t.jsx(tT,{label:"Tags",options:(null==m?void 0:m.tags)||[],selected:a.tags,onChange:e=>i(t=>({...t,tags:e})),placeholder:"All tags"}),_t.jsxs("div",{className:"flex items-end gap-3 md:col-span-3",children:[_t.jsx("button",{type:"submit",className:"inline-flex items-center rounded-lg bg-brand-600 px-5 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-brand-700",children:"Apply filters"}),_t.jsx("button",{type:"button",onClick:()=>{i(aT),l(aT),u(1)},className:"inline-flex items-center rounded-lg border border-slate-300 bg-white px-5 py-2 text-sm font-medium text-slate-700 shadow-sm transition hover:bg-slate-50",children:"Reset"})]})]}),_t.jsxs("div",{className:"grid gap-6",children:[b&&_t.jsx("p",{className:"text-sm text-slate-500",children:"Loading results..."}),g&&0===g.items.length&&_t.jsx(eT,{title:"No jobs matched your filters",description:"Try widening your filters or updating your preferences."}),x.map(e=>{const t=y(e);return _t.jsxs("div",{className:"relative overflow-hidden",children:[t.matches&&t.matchCount>0&&_t.jsxs("div",{className:"mb-2 flex flex-col sm:flex-row sm:flex-wrap sm:items-center gap-2 rounded-lg bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 px-4 py-2.5 overflow-hidden",children:[_t.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[_t.jsx(A_,{className:"h-4 w-4 text-blue-600"}),_t.jsx("span",{className:"text-sm font-semibold text-blue-900",children:"Matches your interests:"})]}),_t.jsx("div",{className:"flex flex-wrap gap-2 overflow-hidden",children:t.reasons.map((e,t)=>_t.jsx("span",{className:"inline-flex items-center rounded-full bg-white border border-blue-200 px-3 py-1 text-xs font-medium text-blue-700 shadow-sm break-words max-w-full",children:e},t))})]}),_t.jsx(Z_,{job:e})]},e.id)})]}),g&&g.items.length>0&&v>1&&_t.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 border-t border-slate-200 pt-6",children:[_t.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",E,"-",_," of ",g.total," results"]}),_t.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto max-w-full",children:[_t.jsxs("button",{type:"button",onClick:()=>u(e=>Math.max(1,e-1)),disabled:1===c,className:"inline-flex items-center rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 shadow-sm transition hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",children:[_t.jsx("svg",{className:"h-4 w-4 sm:mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),_t.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),_t.jsx("div",{className:"flex items-center gap-1 flex-shrink-0",children:Array.from({length:Math.min(5,v)},(e,t)=>{let n;return n=v<=5||c<=3?t+1:c>=v-2?v-4+t:c-2+t,_t.jsx("button",{type:"button",onClick:()=>u(n),className:"inline-flex items-center justify-center rounded-lg px-3 py-2 text-sm font-medium transition min-w-[40px] flex-shrink-0 "+(c===n?"bg-brand-600 text-white shadow-sm":"border border-slate-300 bg-white text-slate-700 hover:bg-slate-50"),children:n},n)})}),_t.jsxs("button",{type:"button",onClick:()=>u(e=>Math.min(v,e+1)),disabled:c===v,className:"inline-flex items-center rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 shadow-sm transition hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",children:[_t.jsx("span",{className:"hidden sm:inline",children:"Next"}),_t.jsx("svg",{className:"h-4 w-4 sm:ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})})})}function oT(){}function lT(){}function cT(e){const t=[],n=String(e||"");let r=n.indexOf(","),s=0,a=!1;for(;!a;){-1===r&&(r=n.length,a=!0);const e=n.slice(s,r).trim();!e&&a||t.push(e),s=r+1,r=n.indexOf(",",s)}return t}function uT(e,t){const n={};return(""===e[e.length-1]?[...e,""]:e).join((n.padRight?" ":"")+","+(!1===n.padLeft?"":" ")).trim()}const dT=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,hT=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,pT={};function fT(e,t){return(pT.jsx?hT:dT).test(e)}const mT=/[ \t\n\f\r]/g;function gT(e){return""===e.replace(mT,"")}let bT=class{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}};function yT(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new bT(n,r,t)}function xT(e){return e.toLowerCase()}bT.prototype.normal={},bT.prototype.property={},bT.prototype.space=void 0;let vT=class{constructor(e,t){this.attribute=t,this.property=e}};vT.prototype.attribute="",vT.prototype.booleanish=!1,vT.prototype.boolean=!1,vT.prototype.commaOrSpaceSeparated=!1,vT.prototype.commaSeparated=!1,vT.prototype.defined=!1,vT.prototype.mustUseProperty=!1,vT.prototype.number=!1,vT.prototype.overloadedBoolean=!1,vT.prototype.property="",vT.prototype.spaceSeparated=!1,vT.prototype.space=void 0;let ET=0;const _T=CT(),TT=CT(),wT=CT(),kT=CT(),NT=CT(),ST=CT(),AT=CT();function CT(){return 2**++ET}const IT=Object.freeze(Object.defineProperty({__proto__:null,boolean:_T,booleanish:TT,commaOrSpaceSeparated:AT,commaSeparated:ST,number:kT,overloadedBoolean:wT,spaceSeparated:NT},Symbol.toStringTag,{value:"Module"})),jT=Object.keys(IT);let OT=class extends vT{constructor(e,t,n,r){let s=-1;if(super(e,t),RT(this,"space",r),"number"==typeof n)for(;++s<jT.length;){const e=jT[s];RT(this,jT[s],(n&IT[e])===IT[e])}}};function RT(e,t,n){n&&(e[t]=n)}function PT(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const a=new OT(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[xT(r)]=r,n[xT(a.attribute)]=r}return new bT(t,n,e.space)}OT.prototype.defined=!0;const DT=PT({properties:{ariaActiveDescendant:null,ariaAtomic:TT,ariaAutoComplete:null,ariaBusy:TT,ariaChecked:TT,ariaColCount:kT,ariaColIndex:kT,ariaColSpan:kT,ariaControls:NT,ariaCurrent:null,ariaDescribedBy:NT,ariaDetails:null,ariaDisabled:TT,ariaDropEffect:NT,ariaErrorMessage:null,ariaExpanded:TT,ariaFlowTo:NT,ariaGrabbed:TT,ariaHasPopup:null,ariaHidden:TT,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:NT,ariaLevel:kT,ariaLive:null,ariaModal:TT,ariaMultiLine:TT,ariaMultiSelectable:TT,ariaOrientation:null,ariaOwns:NT,ariaPlaceholder:null,ariaPosInSet:kT,ariaPressed:TT,ariaReadOnly:TT,ariaRelevant:null,ariaRequired:TT,ariaRoleDescription:NT,ariaRowCount:kT,ariaRowIndex:kT,ariaRowSpan:kT,ariaSelected:TT,ariaSetSize:kT,ariaSort:null,ariaValueMax:kT,ariaValueMin:kT,ariaValueNow:kT,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function LT(e,t){return t in e?e[t]:t}function MT(e,t){return LT(e,t.toLowerCase())}const BT=PT({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ST,acceptCharset:NT,accessKey:NT,action:null,allow:null,allowFullScreen:_T,allowPaymentRequest:_T,allowUserMedia:_T,alt:null,as:null,async:_T,autoCapitalize:null,autoComplete:NT,autoFocus:_T,autoPlay:_T,blocking:NT,capture:null,charSet:null,checked:_T,cite:null,className:NT,cols:kT,colSpan:null,content:null,contentEditable:TT,controls:_T,controlsList:NT,coords:kT|ST,crossOrigin:null,data:null,dateTime:null,decoding:null,default:_T,defer:_T,dir:null,dirName:null,disabled:_T,download:wT,draggable:TT,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:_T,formTarget:null,headers:NT,height:kT,hidden:wT,high:kT,href:null,hrefLang:null,htmlFor:NT,httpEquiv:NT,id:null,imageSizes:null,imageSrcSet:null,inert:_T,inputMode:null,integrity:null,is:null,isMap:_T,itemId:null,itemProp:NT,itemRef:NT,itemScope:_T,itemType:NT,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:_T,low:kT,manifest:null,max:null,maxLength:kT,media:null,method:null,min:null,minLength:kT,multiple:_T,muted:_T,name:null,nonce:null,noModule:_T,noValidate:_T,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:_T,optimum:kT,pattern:null,ping:NT,placeholder:null,playsInline:_T,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:_T,referrerPolicy:null,rel:NT,required:_T,reversed:_T,rows:kT,rowSpan:kT,sandbox:NT,scope:null,scoped:_T,seamless:_T,selected:_T,shadowRootClonable:_T,shadowRootDelegatesFocus:_T,shadowRootMode:null,shape:null,size:kT,sizes:null,slot:null,span:kT,spellCheck:TT,src:null,srcDoc:null,srcLang:null,srcSet:null,start:kT,step:null,style:null,tabIndex:kT,target:null,title:null,translate:null,type:null,typeMustMatch:_T,useMap:null,value:TT,width:kT,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:NT,axis:null,background:null,bgColor:null,border:kT,borderColor:null,bottomMargin:kT,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:_T,declare:_T,event:null,face:null,frame:null,frameBorder:null,hSpace:kT,leftMargin:kT,link:null,longDesc:null,lowSrc:null,marginHeight:kT,marginWidth:kT,noResize:_T,noHref:_T,noShade:_T,noWrap:_T,object:null,profile:null,prompt:null,rev:null,rightMargin:kT,rules:null,scheme:null,scrolling:TT,standby:null,summary:null,text:null,topMargin:kT,valueType:null,version:null,vAlign:null,vLink:null,vSpace:kT,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:_T,disableRemotePlayback:_T,prefix:null,property:null,results:kT,security:null,unselectable:null},space:"html",transform:MT}),UT=PT({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:AT,accentHeight:kT,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:kT,amplitude:kT,arabicForm:null,ascent:kT,attributeName:null,attributeType:null,azimuth:kT,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:kT,by:null,calcMode:null,capHeight:kT,className:NT,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:kT,diffuseConstant:kT,direction:null,display:null,dur:null,divisor:kT,dominantBaseline:null,download:_T,dx:null,dy:null,edgeMode:null,editable:null,elevation:kT,enableBackground:null,end:null,event:null,exponent:kT,externalResourcesRequired:null,fill:null,fillOpacity:kT,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ST,g2:ST,glyphName:ST,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:kT,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:kT,horizOriginX:kT,horizOriginY:kT,id:null,ideographic:kT,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:kT,k:kT,k1:kT,k2:kT,k3:kT,k4:kT,kernelMatrix:AT,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:kT,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:kT,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:kT,overlineThickness:kT,paintOrder:null,panose1:null,path:null,pathLength:kT,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:NT,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:kT,pointsAtY:kT,pointsAtZ:kT,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:AT,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:AT,rev:AT,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:AT,requiredFeatures:AT,requiredFonts:AT,requiredFormats:AT,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:kT,specularExponent:kT,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:kT,strikethroughThickness:kT,string:null,stroke:null,strokeDashArray:AT,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:kT,strokeOpacity:kT,strokeWidth:null,style:null,surfaceScale:kT,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:AT,tabIndex:kT,tableValues:null,target:null,targetX:kT,targetY:kT,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:AT,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:kT,underlineThickness:kT,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:kT,values:null,vAlphabetic:kT,vMathematical:kT,vectorEffect:null,vHanging:kT,vIdeographic:kT,version:null,vertAdvY:kT,vertOriginX:kT,vertOriginY:kT,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:kT,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:LT}),FT=PT({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),HT=PT({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:MT}),zT=PT({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),GT={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},$T=/[A-Z]/g,WT=/-[a-z]/g,qT=/^data[-\w.:]+$/i;function VT(e,t){const n=xT(t);let r=t,s=vT;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&qT.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(WT,KT);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!WT.test(e)){let n=e.replace($T,YT);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}s=OT}return new s(r,t)}function YT(e){return"-"+e.toLowerCase()}function KT(e){return e.charAt(1).toUpperCase()}const QT=yT([DT,BT,FT,HT,zT],"html"),JT=yT([DT,UT,FT,HT,zT],"svg");function XT(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function ZT(e){return e.join(" ").trim()}var ew={},tw=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,nw=/\n/g,rw=/^\s*/,sw=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,aw=/^:\s*/,iw=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,ow=/^[;\s]*/,lw=/^\s+|\s+$/g,cw="";function uw(e){return e?e.replace(lw,cw):cw}var dw=function(e,t){if("string"!=typeof e)throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function s(e){var t=e.match(nw);t&&(n+=t.length);var s=e.lastIndexOf("\n");r=~s?e.length-s:r+e.length}function a(){var e={line:n,column:r};return function(t){return t.position=new i(e),c(),t}}function i(e){this.start=e,this.end={line:n,column:r},this.source=t.source}function o(s){var a=new Error(t.source+":"+n+":"+r+": "+s);if(a.reason=s,a.filename=t.source,a.line=n,a.column=r,a.source=e,!t.silent)throw a}function l(t){var n=t.exec(e);if(n){var r=n[0];return s(r),e=e.slice(r.length),n}}function c(){l(rw)}function u(e){var t;for(e=e||[];t=d();)!1!==t&&e.push(t);return e}function d(){var t=a();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;cw!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,cw===e.charAt(n-1))return o("End of comment missing");var i=e.slice(2,n-2);return r+=2,s(i),e=e.slice(n),r+=2,t({type:"comment",comment:i})}}function h(){var e=a(),t=l(sw);if(t){if(d(),!l(aw))return o("property missing ':'");var n=l(iw),r=e({type:"declaration",property:uw(t[0].replace(tw,cw)),value:n?uw(n[0].replace(tw,cw)):cw});return l(ow),r}}return i.prototype.content=e,c(),function(){var e,t=[];for(u(t);e=h();)!1!==e&&(t.push(e),u(t));return t}()},hw=ke&&ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ew,"__esModule",{value:!0}),ew.default=function(e,t){let n=null;if(!e||"string"!=typeof e)return n;const r=(0,pw.default)(e),s="function"==typeof t;return r.forEach(e=>{if("declaration"!==e.type)return;const{property:r,value:a}=e;s?t(r,a,e):a&&(n=n||{},n[r]=a)}),n};const pw=hw(dw);var fw={};Object.defineProperty(fw,"__esModule",{value:!0}),fw.camelCase=void 0;var mw=/^--[a-zA-Z0-9_-]+$/,gw=/-([a-z])/g,bw=/^[^-]+$/,yw=/^-(webkit|moz|ms|o|khtml)-/,xw=/^-(ms)-/,vw=function(e,t){return t.toUpperCase()},Ew=function(e,t){return"".concat(t,"-")};fw.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||bw.test(e)||mw.test(e)}(e)?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(xw,Ew):e.replace(yw,Ew)).replace(gw,vw))};var _w=(ke&&ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(ew),Tw=fw;function ww(e,t){var n={};return e&&"string"==typeof e?((0,_w.default)(e,function(e,r){e&&r&&(n[(0,Tw.camelCase)(e,t)]=r)}),n):n}ww.default=ww;const kw=Ne(ww),Nw=Aw("end"),Sw=Aw("start");function Aw(e){return function(t){const n=t&&t.position&&t.position[e]||{};if("number"==typeof n.line&&n.line>0&&"number"==typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"==typeof n.offset&&n.offset>-1?n.offset:void 0}}}function Cw(e){return e&&"object"==typeof e?"position"in e||"type"in e?jw(e.position):"start"in e||"end"in e?jw(e):"line"in e||"column"in e?Iw(e):"":""}function Iw(e){return Ow(e&&e.line)+":"+Ow(e&&e.column)}function jw(e){return Iw(e&&e.start)+"-"+Iw(e&&e.end)}function Ow(e){return e&&"number"==typeof e?e:1}class Rw extends Error{constructor(e,t,n){super(),"string"==typeof t&&(n=t,t=void 0);let r="",s={},a=!1;if(t&&(s="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:{...t}),"string"==typeof e?r=e:!s.cause&&e&&(a=!0,r=e.message,s.cause=e),!s.ruleId&&!s.source&&"string"==typeof n){const e=n.indexOf(":");-1===e?s.ruleId=n:(s.source=n.slice(0,e),s.ruleId=n.slice(e+1))}if(!s.place&&s.ancestors&&s.ancestors){const e=s.ancestors[s.ancestors.length-1];e&&(s.place=e.position)}const i=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=i?i.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=i?i.line:void 0,this.name=Cw(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&"string"==typeof s.cause.stack?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Rw.prototype.file="",Rw.prototype.name="",Rw.prototype.reason="",Rw.prototype.message="",Rw.prototype.stack="",Rw.prototype.column=void 0,Rw.prototype.line=void 0,Rw.prototype.ancestors=void 0,Rw.prototype.cause=void 0,Rw.prototype.fatal=void 0,Rw.prototype.place=void 0,Rw.prototype.ruleId=void 0,Rw.prototype.source=void 0;const Pw={}.hasOwnProperty,Dw=new Map,Lw=/[A-Z]/g,Mw=new Set(["table","tbody","thead","tfoot","tr"]),Bw=new Set(["td","th"]),Uw="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Fw(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if("function"!=typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=function(e,t){return n;function n(n,r,s,a){const i=Array.isArray(s.children),o=Sw(n);return t(r,s,a,i,{columnNumber:o?o.column-1:void 0,fileName:e,lineNumber:o?o.line:void 0},void 0)}}(n,t.jsxDEV)}else{if("function"!=typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!=typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");r=function(e,t,n){return r;function r(e,r,s,a){const i=Array.isArray(s.children)?n:t;return a?i(r,s,a):i(r,s)}}(0,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?JT:QT,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},a=Hw(s,e,void 0);return a&&"string"!=typeof a?a:s.create(e,s.Fragment,{children:a||void 0},void 0)}function Hw(e,t,n){return"element"===t.type?function(e,t,n){const r=e.schema;let s=r;"svg"===t.tagName.toLowerCase()&&"html"===r.space&&(s=JT,e.schema=s);e.ancestors.push(t);const a=qw(e,t.tagName,!1),i=function(e,t){const n={};let r,s;for(s in t.properties)if("children"!==s&&Pw.call(t.properties,s)){const a=Ww(e,s,t.properties[s]);if(a){const[s,i]=a;e.tableCellAlignToStyle&&"align"===s&&"string"==typeof i&&Bw.has(t.tagName)?r=i:n[s]=i}}if(r){(n.style||(n.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=r}return n}(e,t);let o=$w(e,t);Mw.has(t.tagName)&&(o=o.filter(function(e){return"string"!=typeof e||!("object"==typeof(t=e)?"text"===t.type&&gT(t.value):gT(t));var t}));return zw(e,i,a,t),Gw(i,o),e.ancestors.pop(),e.schema=r,e.create(t,a,i,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Vw(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){const r=e.schema;let s=r;"svg"===t.name&&"html"===r.space&&(s=JT,e.schema=s);e.ancestors.push(t);const a=null===t.name?e.Fragment:qw(e,t.name,!0),i=function(e,t){const n={};for(const r of t.attributes)if("mdxJsxExpressionAttribute"===r.type)if(r.data&&r.data.estree&&e.evaluater){const t=r.data.estree.body[0];oT(t.type);const s=t.expression;oT(s.type);const a=s.properties[0];oT(a.type),Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else Vw(e,t.position);else{const s=r.name;let a;if(r.value&&"object"==typeof r.value)if(r.value.data&&r.value.data.estree&&e.evaluater){const t=r.value.data.estree.body[0];oT(t.type),a=e.evaluater.evaluateExpression(t.expression)}else Vw(e,t.position);else a=null===r.value||r.value;n[s]=a}return n}(e,t),o=$w(e,t);return zw(e,i,a,t),Gw(i,o),e.ancestors.pop(),e.schema=r,e.create(t,a,i,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Vw(e,t.position)}(e,t):"root"===t.type?function(e,t,n){const r={};return Gw(r,$w(e,t)),e.create(t,e.Fragment,r,n)}(e,t,n):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function zw(e,t,n,r){"string"!=typeof n&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Gw(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function $w(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:Dw;for(;++r<t.children.length;){const a=t.children[r];let i;if(e.passKeys){const e="element"===a.type?a.tagName:"mdxJsxFlowElement"===a.type||"mdxJsxTextElement"===a.type?a.name:void 0;if(e){const t=s.get(e)||0;i=e+"-"+t,s.set(e,t+1)}}const o=Hw(e,a,i);void 0!==o&&n.push(o)}return n}function Ww(e,t,n){const r=VT(e.schema,t);if(!(null==n||"number"==typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?uT(n):ZT(n)),"style"===r.property){let t="object"==typeof n?n:function(e,t){try{return kw(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const t=n,r=new Rw("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:t,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=Uw+"#cannot-parse-style-attribute",r}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let n;for(n in e)Pw.call(e,n)&&(t[Yw(n)]=e[n]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&r.space?GT[r.property]||r.property:r.attribute,n]}}function qw(e,t,n){let r;if(n)if(t.includes(".")){const e=t.split(".");let n,s=-1;for(;++s<e.length;){const t=fT(e[s])?{type:"Identifier",name:e[s]}:{type:"Literal",value:e[s]};n=n?{type:"MemberExpression",object:n,property:t,computed:Boolean(s&&"Literal"===t.type),optional:!1}:t}r=n}else r=fT(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else r={type:"Literal",value:t};if("Literal"===r.type){const t=r.value;return Pw.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(r);Vw(e)}function Vw(e,t){const n=new Rw("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Uw+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Yw(e){let t=e.replace(Lw,Kw);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function Kw(e){return"-"+e.toLowerCase()}const Qw={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Jw={};function Xw(e,t,n){if(function(e){return Boolean(e&&"object"==typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Zw(e.children,t,n)}return Array.isArray(e)?Zw(e,t,n):""}function Zw(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=Xw(e[s],t,n);return r.join("")}const ek=document.createElement("i");function tk(e){const t="&"+e+";";ek.innerHTML=t;const n=ek.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}function nk(e,t,n,r){const s=e.length;let a,i=0;if(t=t<0?-t>s?0:s+t:t>s?s:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);i<r.length;)a=r.slice(i,i+1e4),a.unshift(t,0),e.splice(...a),i+=1e4,t+=1e4}function rk(e,t){return e.length>0?(nk(e,e.length,0,t),e):t}const sk={}.hasOwnProperty;function ak(e,t){let n;for(n in t){const r=(sk.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let a;if(s)for(a in s){sk.call(r,a)||(r[a]=[]);const e=s[a];ik(r[a],Array.isArray(e)?e:e?[e]:[])}}}function ik(e,t){let n=-1;const r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);nk(e,0,0,r)}function ok(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||!(65535&~n)||65534==(65535&n)||n>1114111?"":String.fromCodePoint(n)}function lk(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ck=Ek(/[A-Za-z]/),uk=Ek(/[\dA-Za-z]/),dk=Ek(/[#-'*+\--9=?A-Z^-~]/);function hk(e){return null!==e&&(e<32||127===e)}const pk=Ek(/\d/),fk=Ek(/[\dA-Fa-f]/),mk=Ek(/[!-/:-@[-`{-~]/);function gk(e){return null!==e&&e<-2}function bk(e){return null!==e&&(e<0||32===e)}function yk(e){return-2===e||-1===e||32===e}const xk=Ek(new RegExp("\\p{P}|\\p{S}","u")),vk=Ek(/\s/);function Ek(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function _k(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const a=e.charCodeAt(n);let i="";if(37===a&&uk(e.charCodeAt(n+1))&&uk(e.charCodeAt(n+2)))s=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(i=String.fromCharCode(a));else if(a>55295&&a<57344){const t=e.charCodeAt(n+1);a<56320&&t>56319&&t<57344?(i=String.fromCharCode(a,t),s=1):i=""}else i=String.fromCharCode(a);i&&(t.push(e.slice(r,n),encodeURIComponent(i)),r=n+s+1,i=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function Tk(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let a=0;return function(r){if(yk(r))return e.enter(n),i(r);return t(r)};function i(r){return yk(r)&&a++<s?(e.consume(r),i):(e.exit(n),t(r))}}const wk={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Tk(e,t,"linePrefix")},function(t){return e.enter("paragraph"),r(t)});let n;return t;function r(t){const r=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=r),n=r,s(t)}function s(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):gk(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),s)}}};const kk={tokenize:function(e){const t=this,n=[];let r,s,a,i=0;return o;function o(r){if(i<n.length){const s=n[i];return t.containerState=s[1],e.attempt(s[0].continuation,l,c)(r)}return c(r)}function l(e){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&y();const n=t.events.length;let s,a=n;for(;a--;)if("exit"===t.events[a][0]&&"chunkFlow"===t.events[a][1].type){s=t.events[a][1].end;break}b(i);let o=n;for(;o<t.events.length;)t.events[o][1].end={...s},o++;return nk(t.events,a+1,0,t.events.slice(n)),t.events.length=o,c(e)}return o(e)}function c(s){if(i===n.length){if(!r)return h(s);if(r.currentConstruct&&r.currentConstruct.concrete)return f(s);t.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Nk,u,d)(s)}function u(e){return r&&y(),b(i),h(e)}function d(e){return t.parser.lazy[t.now().line]=i!==n.length,a=t.now().offset,f(e)}function h(n){return t.containerState={},e.attempt(Nk,p,f)(n)}function p(e){return i++,n.push([t.currentConstruct,t.containerState]),h(e)}function f(n){return null===n?(r&&y(),b(0),void e.consume(n)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:s}),m(n))}function m(n){return null===n?(g(e.exit("chunkFlow"),!0),b(0),void e.consume(n)):gk(n)?(e.consume(n),g(e.exit("chunkFlow")),i=0,t.interrupt=void 0,o):(e.consume(n),m)}function g(e,n){const o=t.sliceStream(e);if(n&&o.push(null),e.previous=s,s&&(s.next=e),s=e,r.defineSkip(e.start),r.write(o),t.parser.lazy[e.start.line]){let e=r.events.length;for(;e--;)if(r.events[e][1].start.offset<a&&(!r.events[e][1].end||r.events[e][1].end.offset>a))return;const n=t.events.length;let s,o,l=n;for(;l--;)if("exit"===t.events[l][0]&&"chunkFlow"===t.events[l][1].type){if(s){o=t.events[l][1].end;break}s=!0}for(b(i),e=n;e<t.events.length;)t.events[e][1].end={...o},e++;nk(t.events,l+1,0,t.events.slice(n)),t.events.length=e}}function b(r){let s=n.length;for(;s-- >r;){const r=n[s];t.containerState=r[1],r[0].exit.call(t,e)}n.length=r}function y(){r.write([null]),s=void 0,r=void 0,t.containerState._closeFlow=void 0}}},Nk={tokenize:function(e,t,n){return Tk(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};function Sk(e){return null===e||bk(e)||vk(e)?1:xk(e)?2:void 0}function Ak(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const a=e[s].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const Ck={name:"attention",resolveAll:function(e,t){let n,r,s,a,i,o,l,c,u=-1;for(;++u<e.length;)if("enter"===e[u][0]&&"attentionSequence"===e[u][1].type&&e[u][1]._close)for(n=u;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[u][1]).charCodeAt(0)){if((e[n][1]._close||e[u][1]._open)&&(e[u][1].end.offset-e[u][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[u][1].end.offset-e[u][1].start.offset)%3))continue;o=e[n][1].end.offset-e[n][1].start.offset>1&&e[u][1].end.offset-e[u][1].start.offset>1?2:1;const d={...e[n][1].end},h={...e[u][1].start};Ik(d,-o),Ik(h,o),a={type:o>1?"strongSequence":"emphasisSequence",start:d,end:{...e[n][1].end}},i={type:o>1?"strongSequence":"emphasisSequence",start:{...e[u][1].start},end:h},s={type:o>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[u][1].start}},r={type:o>1?"strong":"emphasis",start:{...a.start},end:{...i.end}},e[n][1].end={...a.start},e[u][1].start={...i.end},l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=rk(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=rk(l,[["enter",r,t],["enter",a,t],["exit",a,t],["enter",s,t]]),l=rk(l,Ak(t.parser.constructs.insideSpan.null,e.slice(n+1,u),t)),l=rk(l,[["exit",s,t],["enter",i,t],["exit",i,t],["exit",r,t]]),e[u][1].end.offset-e[u][1].start.offset?(c=2,l=rk(l,[["enter",e[u][1],t],["exit",e[u][1],t]])):c=0,nk(e,n-1,u-n+3,l),u=n+l.length-c-2;break}u=-1;for(;++u<e.length;)"attentionSequence"===e[u][1].type&&(e[u][1].type="data");return e},tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=Sk(r);let a;return function(t){return a=t,e.enter("attentionSequence"),i(t)};function i(o){if(o===a)return e.consume(o),i;const l=e.exit("attentionSequence"),c=Sk(o),u=!c||2===c&&s||n.includes(o),d=!s||2===s&&c||n.includes(r);return l._open=Boolean(42===a?u:u&&(s||!d)),l._close=Boolean(42===a?d:d&&(c||!u)),t(o)}}};function Ik(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const jk={name:"autolink",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s};function s(t){return ck(t)?(e.consume(t),a):64===t?n(t):l(t)}function a(e){return 43===e||45===e||46===e||uk(e)?(r=1,i(e)):l(e)}function i(t){return 58===t?(e.consume(t),r=0,o):(43===t||45===t||46===t||uk(t))&&r++<32?(e.consume(t),i):(r=0,l(t))}function o(r){return 62===r?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):null===r||32===r||60===r||hk(r)?n(r):(e.consume(r),o)}function l(t){return 64===t?(e.consume(t),c):dk(t)?(e.consume(t),l):n(t)}function c(e){return uk(e)?u(e):n(e)}function u(n){return 46===n?(e.consume(n),r=0,c):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):d(n)}function d(t){if((45===t||uk(t))&&r++<63){const n=45===t?d:u;return e.consume(t),n}return n(t)}}};const Ok={partial:!0,tokenize:function(e,t,n){return function(t){return yk(t)?Tk(e,r,"linePrefix")(t):r(t)};function r(e){return null===e||gk(e)?t(e):n(e)}}};const Rk={continuation:{tokenize:function(e,t,n){const r=this;return function(t){if(yk(t))return Tk(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t);return s(t)};function s(r){return e.attempt(Rk,t,n)(r)}}},exit:function(e){e.exit("blockQuote")},name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(t){if(62===t){const n=r.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),s}return n(t)};function s(n){return yk(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}}};const Pk={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return mk(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}};const Dk={name:"characterReference",tokenize:function(e,t,n){const r=this;let s,a,i=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),o};function o(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),s=31,a=uk,c(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=fk,c):(e.enter("characterReferenceValue"),s=7,a=pk,c(t))}function c(o){if(59===o&&i){const s=e.exit("characterReferenceValue");return a!==uk||tk(r.sliceSerialize(s))?(e.enter("characterReferenceMarker"),e.consume(o),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(o)}return a(o)&&i++<s?(e.consume(o),c):n(o)}}};const Lk={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(null===t)return n(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s};function s(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}},Mk={concrete:!0,name:"codeFenced",tokenize:function(e,t,n){const r=this,s={partial:!0,tokenize:function(e,t,n){let s=0;return i;function i(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l}function l(t){return e.enter("codeFencedFence"),yk(t)?Tk(e,c,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):c(t)}function c(t){return t===a?(e.enter("codeFencedFenceSequence"),u(t)):n(t)}function u(t){return t===a?(s++,e.consume(t),u):s>=o?(e.exit("codeFencedFenceSequence"),yk(t)?Tk(e,d,"whitespace")(t):d(t)):n(t)}function d(r){return null===r||gk(r)?(e.exit("codeFencedFence"),t(r)):n(r)}}};let a,i=0,o=0;return function(t){return function(t){const n=r.events[r.events.length-1];return i=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,a=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(t)}(t)};function l(t){return t===a?(o++,e.consume(t),l):o<3?n(t):(e.exit("codeFencedFenceSequence"),yk(t)?Tk(e,c,"whitespace")(t):c(t))}function c(n){return null===n||gk(n)?(e.exit("codeFencedFence"),r.interrupt?t(n):e.check(Lk,p,y)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),u(n))}function u(t){return null===t||gk(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(t)):yk(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Tk(e,d,"whitespace")(t)):96===t&&t===a?n(t):(e.consume(t),u)}function d(t){return null===t||gk(t)?c(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(t))}function h(t){return null===t||gk(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(t)):96===t&&t===a?n(t):(e.consume(t),h)}function p(t){return e.attempt(s,y,f)(t)}function f(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),m}function m(t){return i>0&&yk(t)?Tk(e,g,"linePrefix",i+1)(t):g(t)}function g(t){return null===t||gk(t)?e.check(Lk,p,y)(t):(e.enter("codeFlowValue"),b(t))}function b(t){return null===t||gk(t)?(e.exit("codeFlowValue"),g(t)):(e.consume(t),b)}function y(n){return e.exit("codeFenced"),t(n)}}};const Bk={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("codeIndented"),Tk(e,s,"linePrefix",5)(t)};function s(e){const t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?a(e):n(e)}function a(t){return null===t?o(t):gk(t)?e.attempt(Uk,a,o)(t):(e.enter("codeFlowValue"),i(t))}function i(t){return null===t||gk(t)?(e.exit("codeFlowValue"),a(t)):(e.consume(t),i)}function o(n){return e.exit("codeIndented"),t(n)}}},Uk={partial:!0,tokenize:function(e,t,n){const r=this;return s;function s(t){return r.parser.lazy[r.now().line]?n(t):gk(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s):Tk(e,a,"linePrefix",5)(t)}function a(e){const a=r.events[r.events.length-1];return a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(e):gk(e)?s(e):n(e)}}};const Fk={name:"codeText",previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(e){let t,n,r=e.length-4,s=3;if(!("lineEnding"!==e[s][1].type&&"space"!==e[s][1].type||"lineEnding"!==e[r][1].type&&"space"!==e[r][1].type))for(t=s;++t<r;)if("codeTextData"===e[t][1].type){e[s][1].type="codeTextPadding",e[r][1].type="codeTextPadding",s+=2,r-=2;break}t=s-1,r++;for(;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},tokenize:function(e,t,n){let r,s,a=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),i(t)};function i(t){return 96===t?(e.consume(t),a++,i):(e.exit("codeTextSequence"),o(t))}function o(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),o):96===t?(s=e.enter("codeTextSequence"),r=0,c(t)):gk(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o):(e.enter("codeTextData"),l(t))}function l(t){return null===t||32===t||96===t||gk(t)?(e.exit("codeTextData"),o(t)):(e.consume(t),l)}function c(n){return 96===n?(e.consume(n),r++,c):r===a?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(s.type="codeTextData",l(n))}}};class Hk{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=null==t?Number.POSITIVE_INFINITY:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const r=t||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return n&&zk(this.left,n),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),zk(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),zk(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);zk(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);zk(this.left,t.reverse())}}}function zk(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Gk(e){const t={};let n,r,s,a,i,o,l,c=-1;const u=new Hk(e);for(;++c<u.length;){for(;c in t;)c=t[c];if(n=u.get(c),c&&"chunkFlow"===n[1].type&&"listItemPrefix"===u.get(c-1)[1].type&&(o=n[1]._tokenizer.events,s=0,s<o.length&&"lineEndingBlank"===o[s][1].type&&(s+=2),s<o.length&&"content"===o[s][1].type))for(;++s<o.length&&"content"!==o[s][1].type;)"chunkText"===o[s][1].type&&(o[s][1]._isInFirstContentOfListItem=!0,s++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,$k(u,c)),c=t[c],l=!0);else if(n[1]._container){for(s=c,r=void 0;s--;)if(a=u.get(s),"lineEnding"===a[1].type||"lineEndingBlank"===a[1].type)"enter"===a[0]&&(r&&(u.get(r)[1].type="lineEndingBlank"),a[1].type="lineEnding",r=s);else if("linePrefix"!==a[1].type&&"listItemIndent"!==a[1].type)break;r&&(n[1].end={...u.get(r)[1].start},i=u.slice(r,c),i.unshift(n),u.splice(r,c-r+1,i))}}return nk(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!l}function $k(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const a=[];let i=n._tokenizer;i||(i=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(i._contentTypeTextTrailing=!0));const o=i.events,l=[],c={};let u,d,h=-1,p=n,f=0,m=0;const g=[m];for(;p;){for(;e.get(++s)[1]!==p;);a.push(s),p._tokenizer||(u=r.sliceStream(p),p.next||u.push(null),d&&i.defineSkip(p.start),p._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=!0),i.write(u),p._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++h<o.length;)"exit"===o[h][0]&&"enter"===o[h-1][0]&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(m=h+1,g.push(m),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(i.events=[],p?(p._tokenizer=void 0,p.previous=void 0):g.pop(),h=g.length;h--;){const t=o.slice(g[h],g[h+1]),n=a.pop();l.push([n,n+t.length-1]),e.splice(n,2,t)}for(l.reverse(),h=-1;++h<l.length;)c[f+l[h][0]]=f+l[h][1],f+=l[h][1]-l[h][0]-1;return c}const Wk={resolve:function(e){return Gk(e),e},tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?s(t):gk(t)?e.check(qk,a,s)(t):(e.consume(t),r)}function s(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function a(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}},qk={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Tk(e,s,"linePrefix")};function s(s){if(null===s||gk(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}};function Vk(e,t,n,r,s,a,i,o,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return function(t){if(60===t)return e.enter(r),e.enter(s),e.enter(a),e.consume(t),e.exit(a),d;if(null===t||32===t||41===t||hk(t))return n(t);return e.enter(r),e.enter(i),e.enter(o),e.enter("chunkString",{contentType:"string"}),f(t)};function d(n){return 62===n?(e.enter(a),e.consume(n),e.exit(a),e.exit(s),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),h(n))}function h(t){return 62===t?(e.exit("chunkString"),e.exit(o),d(t)):null===t||60===t||gk(t)?n(t):(e.consume(t),92===t?p:h)}function p(t){return 60===t||62===t||92===t?(e.consume(t),h):h(t)}function f(s){return u||null!==s&&41!==s&&!bk(s)?u<c&&40===s?(e.consume(s),u++,f):41===s?(e.consume(s),u--,f):null===s||32===s||40===s||hk(s)?n(s):(e.consume(s),92===s?m:f):(e.exit("chunkString"),e.exit(o),e.exit(i),e.exit(r),t(s))}function m(t){return 40===t||41===t||92===t?(e.consume(t),f):f(t)}}function Yk(e,t,n,r,s,a){const i=this;let o,l=0;return function(t){return e.enter(r),e.enter(s),e.consume(t),e.exit(s),e.enter(a),c};function c(d){return l>999||null===d||91===d||93===d&&!o||94===d&&!l&&"_hiddenFootnoteSupport"in i.parser.constructs?n(d):93===d?(e.exit(a),e.enter(s),e.consume(d),e.exit(s),e.exit(r),t):gk(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),u(d))}function u(t){return null===t||91===t||93===t||gk(t)||l++>999?(e.exit("chunkString"),c(t)):(e.consume(t),o||(o=!yk(t)),92===t?d:u)}function d(t){return 91===t||92===t||93===t?(e.consume(t),l++,u):u(t)}}function Kk(e,t,n,r,s,a){let i;return function(t){if(34===t||39===t||40===t)return e.enter(r),e.enter(s),e.consume(t),e.exit(s),i=40===t?41:t,o;return n(t)};function o(n){return n===i?(e.enter(s),e.consume(n),e.exit(s),e.exit(r),t):(e.enter(a),l(n))}function l(t){return t===i?(e.exit(a),o(i)):null===t?n(t):gk(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Tk(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(t))}function c(t){return t===i||null===t||gk(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?u:c)}function u(t){return t===i||92===t?(e.consume(t),c):c(t)}}function Qk(e,t){let n;return function r(s){if(gk(s))return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r;if(yk(s))return Tk(e,r,n?"linePrefix":"lineSuffix")(s);return t(s)}}const Jk={name:"definition",tokenize:function(e,t,n){const r=this;let s;return function(t){return e.enter("definition"),function(t){return Yk.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function a(t){return s=lk(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),i):n(t)}function i(t){return bk(t)?Qk(e,o)(t):o(t)}function o(t){return Vk(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function l(t){return e.attempt(Xk,c,c)(t)}function c(t){return yk(t)?Tk(e,u,"whitespace")(t):u(t)}function u(a){return null===a||gk(a)?(e.exit("definition"),r.parser.defined.push(s),t(a)):n(a)}}},Xk={partial:!0,tokenize:function(e,t,n){return function(t){return bk(t)?Qk(e,r)(t):n(t)};function r(t){return Kk(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function s(t){return yk(t)?Tk(e,a,"whitespace")(t):a(t)}function a(e){return null===e||gk(e)?t(e):n(e)}}};const Zk={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),r};function r(r){return gk(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}};const eN={name:"headingAtx",resolve:function(e,t){let n,r,s=e.length-2,a=3;"whitespace"===e[a][1].type&&(a+=2);s-2>a&&"whitespace"===e[s][1].type&&(s-=2);"atxHeadingSequence"===e[s][1].type&&(a===s-1||s-4>a&&"whitespace"===e[s-2][1].type)&&(s-=a+1===s?2:4);s>a&&(n={type:"atxHeadingText",start:e[a][1].start,end:e[s][1].end},r={type:"chunkText",start:e[a][1].start,end:e[s][1].end,contentType:"text"},nk(e,a,s-a+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]]));return e},tokenize:function(e,t,n){let r=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),s(t)}(t)};function s(t){return 35===t&&r++<6?(e.consume(t),s):null===t||bk(t)?(e.exit("atxHeadingSequence"),a(t)):n(t)}function a(n){return 35===n?(e.enter("atxHeadingSequence"),i(n)):null===n||gk(n)?(e.exit("atxHeading"),t(n)):yk(n)?Tk(e,a,"whitespace")(n):(e.enter("atxHeadingText"),o(n))}function i(t){return 35===t?(e.consume(t),i):(e.exit("atxHeadingSequence"),a(t))}function o(t){return null===t||35===t||bk(t)?(e.exit("atxHeadingText"),a(t)):(e.consume(t),o)}}};const tN=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],nN=["pre","script","style","textarea"],rN={concrete:!0,name:"htmlFlow",resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},tokenize:function(e,t,n){const r=this;let s,a,i,o,l;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),c}(t)};function c(o){return 33===o?(e.consume(o),u):47===o?(e.consume(o),a=!0,p):63===o?(e.consume(o),s=3,r.interrupt?t:P):ck(o)?(e.consume(o),i=String.fromCharCode(o),f):n(o)}function u(a){return 45===a?(e.consume(a),s=2,d):91===a?(e.consume(a),s=5,o=0,h):ck(a)?(e.consume(a),s=4,r.interrupt?t:P):n(a)}function d(s){return 45===s?(e.consume(s),r.interrupt?t:P):n(s)}function h(s){const a="CDATA[";return s===a.charCodeAt(o++)?(e.consume(s),6===o?r.interrupt?t:N:h):n(s)}function p(t){return ck(t)?(e.consume(t),i=String.fromCharCode(t),f):n(t)}function f(o){if(null===o||47===o||62===o||bk(o)){const l=47===o,c=i.toLowerCase();return l||a||!nN.includes(c)?tN.includes(i.toLowerCase())?(s=6,l?(e.consume(o),m):r.interrupt?t(o):N(o)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(o):a?g(o):b(o)):(s=1,r.interrupt?t(o):N(o))}return 45===o||uk(o)?(e.consume(o),i+=String.fromCharCode(o),f):n(o)}function m(s){return 62===s?(e.consume(s),r.interrupt?t:N):n(s)}function g(t){return yk(t)?(e.consume(t),g):w(t)}function b(t){return 47===t?(e.consume(t),w):58===t||95===t||ck(t)?(e.consume(t),y):yk(t)?(e.consume(t),b):w(t)}function y(t){return 45===t||46===t||58===t||95===t||uk(t)?(e.consume(t),y):x(t)}function x(t){return 61===t?(e.consume(t),v):yk(t)?(e.consume(t),x):b(t)}function v(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),l=t,E):yk(t)?(e.consume(t),v):_(t)}function E(t){return t===l?(e.consume(t),l=null,T):null===t||gk(t)?n(t):(e.consume(t),E)}function _(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||bk(t)?x(t):(e.consume(t),_)}function T(e){return 47===e||62===e||yk(e)?b(e):n(e)}function w(t){return 62===t?(e.consume(t),k):n(t)}function k(t){return null===t||gk(t)?N(t):yk(t)?(e.consume(t),k):n(t)}function N(t){return 45===t&&2===s?(e.consume(t),I):60===t&&1===s?(e.consume(t),j):62===t&&4===s?(e.consume(t),D):63===t&&3===s?(e.consume(t),P):93===t&&5===s?(e.consume(t),R):!gk(t)||6!==s&&7!==s?null===t||gk(t)?(e.exit("htmlFlowData"),S(t)):(e.consume(t),N):(e.exit("htmlFlowData"),e.check(sN,L,S)(t))}function S(t){return e.check(aN,A,L)(t)}function A(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),C}function C(t){return null===t||gk(t)?S(t):(e.enter("htmlFlowData"),N(t))}function I(t){return 45===t?(e.consume(t),P):N(t)}function j(t){return 47===t?(e.consume(t),i="",O):N(t)}function O(t){if(62===t){const n=i.toLowerCase();return nN.includes(n)?(e.consume(t),D):N(t)}return ck(t)&&i.length<8?(e.consume(t),i+=String.fromCharCode(t),O):N(t)}function R(t){return 93===t?(e.consume(t),P):N(t)}function P(t){return 62===t?(e.consume(t),D):45===t&&2===s?(e.consume(t),P):N(t)}function D(t){return null===t||gk(t)?(e.exit("htmlFlowData"),L(t)):(e.consume(t),D)}function L(n){return e.exit("htmlFlow"),t(n)}}},sN={partial:!0,tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(Ok,t,n)}}},aN={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(gk(t))return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s;return n(t)};function s(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}};const iN={name:"htmlText",tokenize:function(e,t,n){const r=this;let s,a,i;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),o};function o(t){return 33===t?(e.consume(t),l):47===t?(e.consume(t),v):63===t?(e.consume(t),y):ck(t)?(e.consume(t),T):n(t)}function l(t){return 45===t?(e.consume(t),c):91===t?(e.consume(t),a=0,p):ck(t)?(e.consume(t),b):n(t)}function c(t){return 45===t?(e.consume(t),h):n(t)}function u(t){return null===t?n(t):45===t?(e.consume(t),d):gk(t)?(i=u,O(t)):(e.consume(t),u)}function d(t){return 45===t?(e.consume(t),h):u(t)}function h(e){return 62===e?j(e):45===e?d(e):u(e)}function p(t){const r="CDATA[";return t===r.charCodeAt(a++)?(e.consume(t),6===a?f:p):n(t)}function f(t){return null===t?n(t):93===t?(e.consume(t),m):gk(t)?(i=f,O(t)):(e.consume(t),f)}function m(t){return 93===t?(e.consume(t),g):f(t)}function g(t){return 62===t?j(t):93===t?(e.consume(t),g):f(t)}function b(t){return null===t||62===t?j(t):gk(t)?(i=b,O(t)):(e.consume(t),b)}function y(t){return null===t?n(t):63===t?(e.consume(t),x):gk(t)?(i=y,O(t)):(e.consume(t),y)}function x(e){return 62===e?j(e):y(e)}function v(t){return ck(t)?(e.consume(t),E):n(t)}function E(t){return 45===t||uk(t)?(e.consume(t),E):_(t)}function _(t){return gk(t)?(i=_,O(t)):yk(t)?(e.consume(t),_):j(t)}function T(t){return 45===t||uk(t)?(e.consume(t),T):47===t||62===t||bk(t)?w(t):n(t)}function w(t){return 47===t?(e.consume(t),j):58===t||95===t||ck(t)?(e.consume(t),k):gk(t)?(i=w,O(t)):yk(t)?(e.consume(t),w):j(t)}function k(t){return 45===t||46===t||58===t||95===t||uk(t)?(e.consume(t),k):N(t)}function N(t){return 61===t?(e.consume(t),S):gk(t)?(i=N,O(t)):yk(t)?(e.consume(t),N):w(t)}function S(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),s=t,A):gk(t)?(i=S,O(t)):yk(t)?(e.consume(t),S):(e.consume(t),C)}function A(t){return t===s?(e.consume(t),s=void 0,I):null===t?n(t):gk(t)?(i=A,O(t)):(e.consume(t),A)}function C(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||bk(t)?w(t):(e.consume(t),C)}function I(e){return 47===e||62===e||bk(e)?w(e):n(e)}function j(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}function O(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),R}function R(t){return yk(t)?Tk(e,P,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):P(t)}function P(t){return e.enter("htmlTextData"),i(t)}}};const oN={name:"labelEnd",resolveAll:function(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),"labelImage"===r.type||"labelLink"===r.type||"labelEnd"===r.type){const e="labelImage"===r.type?4:2;r.type="data",t+=e}}e.length!==n.length&&nk(e,0,e.length,n);return e},resolveTo:function(e,t){let n,r,s,a,i=e.length,o=0;for(;i--;)if(n=e[i][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[i][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(s){if("enter"===e[i][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=i,"labelLink"!==n.type)){o=2;break}}else"labelEnd"===n.type&&(s=i);const l={type:"labelLink"===e[r][1].type?"link":"image",start:{...e[r][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[r][1].start},end:{...e[s][1].end}},u={type:"labelText",start:{...e[r+o+2][1].end},end:{...e[s-2][1].start}};return a=[["enter",l,t],["enter",c,t]],a=rk(a,e.slice(r+1,r+o+3)),a=rk(a,[["enter",u,t]]),a=rk(a,Ak(t.parser.constructs.insideSpan.null,e.slice(r+o+4,s-3),t)),a=rk(a,[["exit",u,t],e[s-2],e[s-1],["exit",c,t]]),a=rk(a,e.slice(s+1)),a=rk(a,[["exit",l,t]]),nk(e,r,e.length,a),e},tokenize:function(e,t,n){const r=this;let s,a,i=r.events.length;for(;i--;)if(("labelImage"===r.events[i][1].type||"labelLink"===r.events[i][1].type)&&!r.events[i][1]._balanced){s=r.events[i][1];break}return function(t){if(!s)return n(t);if(s._inactive)return u(t);return a=r.parser.defined.includes(lk(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),o};function o(t){return 40===t?e.attempt(lN,c,a?c:u)(t):91===t?e.attempt(cN,c,a?l:u)(t):a?c(t):u(t)}function l(t){return e.attempt(uN,c,u)(t)}function c(e){return t(e)}function u(e){return s._balanced=!0,n(e)}}},lN={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),r};function r(t){return bk(t)?Qk(e,s)(t):s(t)}function s(t){return 41===t?c(t):Vk(e,a,i,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function a(t){return bk(t)?Qk(e,o)(t):c(t)}function i(e){return n(e)}function o(t){return 34===t||39===t||40===t?Kk(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):c(t)}function l(t){return bk(t)?Qk(e,c)(t):c(t)}function c(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},cN={tokenize:function(e,t,n){const r=this;return function(t){return Yk.call(r,e,s,a,"reference","referenceMarker","referenceString")(t)};function s(e){return r.parser.defined.includes(lk(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function a(e){return n(e)}}},uN={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};const dN={name:"labelStartImage",resolveAll:oN.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),s};function s(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),a):n(t)}function a(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};const hN={name:"labelStartLink",resolveAll:oN.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),s};function s(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};const pN={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Tk(e,t,"linePrefix")}}};const fN={name:"thematicBreak",tokenize:function(e,t,n){let r,s=0;return function(t){return e.enter("thematicBreak"),function(e){return r=e,a(e)}(t)};function a(a){return a===r?(e.enter("thematicBreakSequence"),i(a)):s>=3&&(null===a||gk(a))?(e.exit("thematicBreak"),t(a)):n(a)}function i(t){return t===r?(e.consume(t),s++,i):(e.exit("thematicBreakSequence"),yk(t)?Tk(e,a,"whitespace")(t):a(t))}}};const mN={continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Ok,function(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Tk(e,t,"listItemIndent",r.containerState.size+1)(n)},function(n){if(r.containerState.furtherBlankLines||!yk(n))return r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(n);return r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(bN,t,s)(n)});function s(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,Tk(e,e.attempt(mN,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}},exit:function(e){e.exit(this.containerState.type)},name:"list",tokenize:function(e,t,n){const r=this,s=r.events[r.events.length-1];let a=s&&"linePrefix"===s[1].type?s[2].sliceSerialize(s[1],!0).length:0,i=0;return function(t){const s=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===s?!r.containerState.marker||t===r.containerState.marker:pk(t)){if(r.containerState.type||(r.containerState.type=s,e.enter(s,{_container:!0})),"listUnordered"===s)return e.enter("listItemPrefix"),42===t||45===t?e.check(fN,n,l)(t):l(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),o(t)}return n(t)};function o(t){return pk(t)&&++i<10?(e.consume(t),o):(!r.interrupt||i<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),l(t)):n(t)}function l(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(Ok,r.interrupt?n:c,e.attempt(gN,d,u))}function c(e){return r.containerState.initialBlankLine=!0,a++,d(e)}function u(t){return yk(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),d):n(t)}function d(n){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}}},gN={partial:!0,tokenize:function(e,t,n){const r=this;return Tk(e,function(e){const s=r.events[r.events.length-1];return!yk(e)&&s&&"listItemPrefixWhitespace"===s[1].type?t(e):n(e)},"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},bN={partial:!0,tokenize:function(e,t,n){const r=this;return Tk(e,function(e){const s=r.events[r.events.length-1];return s&&"listItemIndent"===s[1].type&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(e):n(e)},"listItemIndent",r.containerState.size+1)}};const yN={name:"setextUnderline",resolveTo:function(e,t){let n,r,s,a=e.length;for(;a--;)if("enter"===e[a][0]){if("content"===e[a][1].type){n=a;break}"paragraph"===e[a][1].type&&(r=a)}else"content"===e[a][1].type&&e.splice(a,1),s||"definition"!==e[a][1].type||(s=a);const i={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};e[r][1].type="setextHeadingText",s?(e.splice(r,0,["enter",i,t]),e.splice(s+1,0,["exit",e[n][1],t]),e[n][1].end={...e[s][1].end}):e[n][1]=i;return e.push(["exit",i,t]),e},tokenize:function(e,t,n){const r=this;let s;return function(t){let i,o=r.events.length;for(;o--;)if("lineEnding"!==r.events[o][1].type&&"linePrefix"!==r.events[o][1].type&&"content"!==r.events[o][1].type){i="paragraph"===r.events[o][1].type;break}if(!r.parser.lazy[r.now().line]&&(r.interrupt||i))return e.enter("setextHeadingLine"),s=t,function(t){return e.enter("setextHeadingLineSequence"),a(t)}(t);return n(t)};function a(t){return t===s?(e.consume(t),a):(e.exit("setextHeadingLineSequence"),yk(t)?Tk(e,i,"lineSuffix")(t):i(t))}function i(r){return null===r||gk(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}}};const xN={tokenize:function(e){const t=this,n=e.attempt(Ok,function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n},e.attempt(this.parser.constructs.flowInitial,r,Tk(e,e.attempt(this.parser.constructs.flow,r,e.attempt(Wk,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}};const vN={resolveAll:wN()},EN=TN("string"),_N=TN("text");function TN(e){return{resolveAll:wN("text"===e?kN:void 0),tokenize:function(t){const n=this,r=this.parser.constructs[e],s=t.attempt(r,a,i);return a;function a(e){return l(e)?s(e):i(e)}function i(e){if(null!==e)return t.enter("data"),t.consume(e),o;t.consume(e)}function o(e){return l(e)?(t.exit("data"),s(e)):(t.consume(e),o)}function l(e){if(null===e)return!0;const t=r[e];let s=-1;if(t)for(;++s<t.length;){const e=t[s];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}}}}function wN(e){return function(t,n){let r,s=-1;for(;++s<=t.length;)void 0===r?t[s]&&"data"===t[s][1].type&&(r=s,s++):t[s]&&"data"===t[s][1].type||(s!==r+2&&(t[r][1].end=t[s-1][1].end,t.splice(r+2,s-r-2),s=r+2),r=void 0);return e?e(t,n):t}}function kN(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const r=e[n-1][1],s=t.sliceStream(r);let a,i=s.length,o=-1,l=0;for(;i--;){const e=s[i];if("string"==typeof e){for(o=e.length;32===e.charCodeAt(o-1);)l++,o--;if(o)break;o=-1}else if(-2===e)a=!0,l++;else if(-1!==e){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const s={type:n===e.length||a||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:r.start._bufferIndex+o,_index:r.start._index+i,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...s.start},r.start.offset===r.end.offset?Object.assign(r,s):(e.splice(n,0,["enter",s,t],["exit",s,t]),n+=2)}n++}return e}const NN={42:mN,43:mN,45:mN,48:mN,49:mN,50:mN,51:mN,52:mN,53:mN,54:mN,55:mN,56:mN,57:mN,62:Rk},SN={91:Jk},AN={[-2]:Bk,[-1]:Bk,32:Bk},CN={35:eN,42:fN,45:[yN,fN],60:rN,61:yN,95:fN,96:Mk,126:Mk},IN={38:Dk,92:Pk},jN={[-5]:pN,[-4]:pN,[-3]:pN,33:dN,38:Dk,42:Ck,60:[jk,iN],91:hN,92:[Zk,Pk],93:oN,95:Ck,96:Fk},ON={null:[Ck,vN]},RN=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:{null:[42,95]},contentInitial:SN,disable:{null:[]},document:NN,flow:CN,flowInitial:AN,insideSpan:ON,string:IN,text:jN},Symbol.toStringTag,{value:"Module"}));function PN(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},a=[];let i=[],o=[];const l={attempt:g(function(e,t){b(e,t.from)}),check:g(m),consume:function(e){gk(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,y()):-1!==e&&(r.column++,r.offset++);r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===i[r._index].length&&(r._bufferIndex=-1,r._index++));c.previous=e},enter:function(e,t){const n=t||{};return n.type=e,n.start=h(),c.events.push(["enter",n,c]),o.push(n),n},exit:function(e){const t=o.pop();return t.end=h(),c.events.push(["exit",t,c]),t},interrupt:g(m,{interrupt:!0})},c={code:null,containerState:{},defineSkip:function(e){s[e.line]=e.column,y()},events:[],now:h,parser:e,previous:null,sliceSerialize:function(e,t){return function(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const a=e[n];let i;if("string"==typeof a)i=a;else switch(a){case-5:i="\r";break;case-4:i="\n";break;case-3:i="\r\n";break;case-2:i=t?" ":"\t";break;case-1:if(!t&&s)continue;i=" ";break;default:i=String.fromCharCode(a)}s=-2===a,r.push(i)}return r.join("")}(d(e),t)},sliceStream:d,write:function(e){if(i=rk(i,e),p(),null!==i[i.length-1])return[];return b(t,0),c.events=Ak(a,c.events,c),c.events}};let u=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function d(e){return function(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,a=t.end._bufferIndex;let i;if(n===s)i=[e[n].slice(r,a)];else{if(i=e.slice(n,s),r>-1){const e=i[0];"string"==typeof e?i[0]=e.slice(r):i.shift()}a>0&&i.push(e[s].slice(0,a))}return i}(i,e)}function h(){const{_bufferIndex:e,_index:t,line:n,column:s,offset:a}=r;return{_bufferIndex:e,_index:t,line:n,column:s,offset:a}}function p(){let e;for(;r._index<i.length;){const t=i[r._index];if("string"==typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)f(t.charCodeAt(r._bufferIndex));else f(t)}}function f(e){u=u(e)}function m(e,t){t.restore()}function g(e,t){return function(n,s,a){let i,u,d,p;return Array.isArray(n)?f(n):"tokenize"in n?f([n]):function(e){return t;function t(t){const n=null!==t&&e[t],r=null!==t&&e.null;return f([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]])(t)}}(n);function f(e){return i=e,u=0,0===e.length?a:m(e[u])}function m(e){return function(n){p=function(){const e=h(),t=c.previous,n=c.currentConstruct,s=c.events.length,a=Array.from(o);return{from:s,restore:i};function i(){r=e,c.previous=t,c.currentConstruct=n,c.events.length=s,o=a,y()}}(),d=e,e.partial||(c.currentConstruct=e);if(e.name&&c.parser.constructs.disable.null.includes(e.name))return b();return e.tokenize.call(t?Object.assign(Object.create(c),t):c,l,g,b)(n)}}function g(t){return e(d,p),s}function b(e){return p.restore(),++u<i.length?m(i[u]):a}}}function b(e,t){e.resolveAll&&!a.includes(e)&&a.push(e),e.resolve&&nk(c.events,t,c.events.length-t,e.resolve(c.events.slice(t),c)),e.resolveTo&&(c.events=e.resolveTo(c.events,c))}function y(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function DN(e){const t={constructs:function(e){const t={};let n=-1;for(;++n<e.length;)ak(t,e[n]);return t}([RN,...(e||{}).extensions||[]]),content:n(wk),defined:[],document:n(kk),flow:n(xN),lazy:{},string:n(EN),text:n(_N)};return t;function n(e){return function(n){return PN(t,e,n)}}}const LN=/[\0\t\n\r]/g;const MN=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function BN(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return ok(n.slice(t?2:1),t?16:10)}return tk(n)||e}const UN={}.hasOwnProperty;function FN(e,t,n){return"string"!=typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(te),autolinkProtocol:k,autolinkEmail:k,atxHeading:a(J),blockQuote:a(q),characterEscape:k,characterReference:k,codeFenced:a(V),codeFencedFenceInfo:i,codeFencedFenceMeta:i,codeIndented:a(V,i),codeText:a(Y,i),codeTextData:k,data:k,codeFlowValue:k,definition:a(K),definitionDestinationString:i,definitionLabelString:i,definitionTitleString:i,emphasis:a(Q),hardBreakEscape:a(X),hardBreakTrailing:a(X),htmlFlow:a(Z,i),htmlFlowData:k,htmlText:a(Z,i),htmlTextData:k,image:a(ee),label:i,link:a(te),listItem:a(re),listItemValue:h,listOrdered:a(ne,d),listUnordered:a(ne),paragraph:a(se),reference:U,referenceString:i,resourceDestinationString:i,resourceTitleString:i,setextHeading:a(J),strong:a(ae),thematicBreak:a(oe)},exit:{atxHeading:l(),atxHeadingSequence:E,autolink:l(),autolinkEmail:W,autolinkProtocol:$,blockQuote:l(),characterEscapeValue:N,characterReferenceMarkerHexadecimal:H,characterReferenceMarkerNumeric:H,characterReferenceValue:z,characterReference:G,codeFenced:l(g),codeFencedFence:m,codeFencedFenceInfo:p,codeFencedFenceMeta:f,codeFlowValue:N,codeIndented:l(b),codeText:l(j),codeTextData:N,data:N,definition:l(),definitionDestinationString:v,definitionLabelString:y,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(A),hardBreakTrailing:l(A),htmlFlow:l(C),htmlFlowData:N,htmlText:l(I),htmlTextData:N,image:l(R),label:D,labelText:P,lineEnding:S,link:l(O),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:F,resourceDestinationString:L,resourceTitleString:M,resource:B,setextHeading:l(w),setextHeadingLineSequence:T,setextHeadingText:_,strong:l(),thematicBreak:l()}};zN(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(e){let r={type:"root",children:[]};const a={stack:[r],tokenStack:[],config:t,enter:o,exit:c,buffer:i,resume:u,data:n},l=[];let d=-1;for(;++d<e.length;)if("listOrdered"===e[d][1].type||"listUnordered"===e[d][1].type)if("enter"===e[d][0])l.push(d);else{d=s(e,l.pop(),d)}for(d=-1;++d<e.length;){const n=t[e[d][0]];UN.call(n,e[d][1].type)&&n[e[d][1].type].call(Object.assign({sliceSerialize:e[d][2].sliceSerialize},a),e[d][1])}if(a.tokenStack.length>0){const e=a.tokenStack[a.tokenStack.length-1];(e[1]||$N).call(a,void 0,e[0])}for(r.position={start:HN(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:HN(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},d=-1;++d<t.transforms.length;)r=t.transforms[d](r)||r;return r}function s(e,t,n){let r,s,a,i,o=t-1,l=-1,c=!1;for(;++o<=n;){const t=e[o];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?l++:l--,i=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!r||i||l||a||(a=o),i=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:i=void 0}if(!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(r){let i=o;for(s=void 0;i--;){const t=e[i];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;s&&(e[s][1].type="lineEndingBlank",c=!0),t[1].type="lineEnding",s=i}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}a&&(!s||a<s)&&(r._spread=!0),r.end=Object.assign({},s?e[s][1].start:t[1].end),e.splice(s||o,0,["exit",r,t[2]]),o++,n++}if("listItemPrefix"===t[1].type){const s={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};r=s,e.splice(o,0,["enter",s,t[2]]),o++,n++,a=void 0,i=!0}}}return e[t][1]._spread=c,n}function a(e,t){return n;function n(n){o.call(this,e(n),n),t&&t.call(this,n)}}function i(){this.stack.push({type:"fragment",children:[]})}function o(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:HN(t.start),end:void 0}}function l(e){return t;function t(t){e&&e.call(this,t),c.call(this,t)}}function c(e,t){const n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+Cw({start:e.start,end:e.end})+"): its not open");if(r[0].type!==e.type)if(t)t.call(this,e,r[0]);else{(r[1]||$N).call(this,e,r[0])}n.position.end=HN(e.end)}function u(){return function(e){return Xw(e,"boolean"!=typeof Jw.includeImageAlt||Jw.includeImageAlt,"boolean"!=typeof Jw.includeHtml||Jw.includeHtml)}(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(e){if(this.data.expectingFirstListItemValue){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0}}function p(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function f(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function y(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=lk(this.sliceSerialize(e)).toLowerCase()}function x(){const e=this.resume();this.stack[this.stack.length-1].title=e}function v(){const e=this.resume();this.stack[this.stack.length-1].url=e}function E(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function T(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2}function w(){this.data.setextHeadingSlurpLineEnding=void 0}function k(e){const t=this.stack[this.stack.length-1].children;let n=t[t.length-1];n&&"text"===n.type||(n=ie(),n.position={start:HN(e.start),end:void 0},t.push(n)),this.stack.push(n)}function N(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=HN(e.end)}function S(e){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak){return n.children[n.children.length-1].position.end=HN(e.end),void(this.data.atHardBreak=void 0)}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(k.call(this,e),N.call(this,e))}function A(){this.data.atHardBreak=!0}function C(){const e=this.resume();this.stack[this.stack.length-1].value=e}function I(){const e=this.resume();this.stack[this.stack.length-1].value=e}function j(){const e=this.resume();this.stack[this.stack.length-1].value=e}function O(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function R(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function P(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(MN,BN)}(t),n.identifier=lk(t).toLowerCase()}function D(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function L(){const e=this.resume();this.stack[this.stack.length-1].url=e}function M(){const e=this.resume();this.stack[this.stack.length-1].title=e}function B(){this.data.inReference=void 0}function U(){this.data.referenceType="collapsed"}function F(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=lk(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"}function H(e){this.data.characterReferenceType=e.type}function z(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let r;if(n)r=ok(t,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0;else{r=tk(t)}this.stack[this.stack.length-1].value+=r}function G(e){this.stack.pop().position.end=HN(e.end)}function $(e){N.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function W(e){N.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function q(){return{type:"blockquote",children:[]}}function V(){return{type:"code",lang:null,meta:null,value:""}}function Y(){return{type:"inlineCode",value:""}}function K(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Q(){return{type:"emphasis",children:[]}}function J(){return{type:"heading",depth:0,children:[]}}function X(){return{type:"break"}}function Z(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function te(){return{type:"link",title:null,url:"",children:[]}}function ne(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function re(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function se(){return{type:"paragraph",children:[]}}function ae(){return{type:"strong",children:[]}}function ie(){return{type:"text",value:""}}function oe(){return{type:"thematicBreak"}}}(n)(function(e){for(;!Gk(e););return e}(DN(n).document().write(function(){let e,t=1,n="",r=!0;return function(s,a,i){const o=[];let l,c,u,d,h;for(s=n+("string"==typeof s?s.toString():new TextDecoder(a||void 0).decode(s)),u=0,n="",r&&(65279===s.charCodeAt(0)&&u++,r=void 0);u<s.length;){if(LN.lastIndex=u,l=LN.exec(s),d=l&&void 0!==l.index?l.index:s.length,h=s.charCodeAt(d),!l){n=s.slice(u);break}if(10===h&&u===d&&e)o.push(-3),e=void 0;else switch(e&&(o.push(-5),e=void 0),u<d&&(o.push(s.slice(u,d)),t+=d-u),h){case 0:o.push(65533),t++;break;case 9:for(c=4*Math.ceil(t/4),o.push(-2);t++<c;)o.push(-1);break;case 10:o.push(-4),t=1;break;default:e=!0,t=1}u=d+1}return i&&(e&&o.push(-5),n&&o.push(n),o.push(null)),o}}()(e,t,!0))))}function HN(e){return{line:e.line,column:e.column,offset:e.offset}}function zN(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?zN(e,r):GN(e,r)}}function GN(e,t){let n;for(n in t)if(UN.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function $N(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Cw({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Cw({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Cw({start:t.start,end:t.end})+") is still open")}function WN(e){const t=this;t.parser=function(n){return FN(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function qN(e,t){const n=t.referenceType;let r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),a=s[0];a&&"text"===a.type?a.value="["+a.value:s.unshift({type:"text",value:"["});const i=s[s.length-1];return i&&"text"===i.type?i.value+=r:s.push({type:"text",value:r}),s}function VN(e){const t=e.spread;return null==t?e.children.length>1:t}function YN(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const a=[];for(;r;)a.push(KN(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return a.push(KN(t.slice(s),s>0,!1)),a.join("")}function KN(e,t,n){let r=0,s=e.length;if(t){let t=e.codePointAt(r);for(;9===t||32===t;)r++,t=e.codePointAt(r)}if(n){let t=e.codePointAt(s-1);for(;9===t||32===t;)s--,t=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}const QN={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",r={};t.lang&&(r.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=_k(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let i,o=e.footnoteCounts.get(r);void 0===o?(o=0,e.footnoteOrder.push(r),i=e.footnoteOrder.length):i=a+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(i)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return qN(e,t);const s={src:_k(r.url||""),alt:t.alt};null!==r.title&&void 0!==r.title&&(s.title=r.title);const a={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,a),e.applyData(t,a)},image:function(e,t){const n={src:_k(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return qN(e,t);const s={href:_k(r.url||"")};null!==r.title&&void 0!==r.title&&(s.title=r.title);const a={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)},link:function(e,t){const n={href:_k(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},listItem:function(e,t,n){const r=e.all(t),s=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=VN(n[r])}return t}(n):VN(t),a={},i=[];if("boolean"==typeof t.checked){const e=r[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},r.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const e=r[o];(s||0!==o||"element"!==e.type||"p"!==e.tagName)&&i.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||s?i.push(e):i.push(...e.children)}const l=r[r.length-1];l&&(s||"element"!==l.type||"p"!==l.tagName)&&i.push({type:"text",value:"\n"});const c={type:"element",tagName:"li",properties:a,children:i};return e.patch(t,c),e.applyData(t,c)},list:function(e,t){const n={},r=e.all(t);let s=-1;for("number"==typeof t.start&&1!==t.start&&(n.start=t.start);++s<r.length;){const e=r[s];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],n),s.push(n)}if(n.length>0){const r={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=Sw(t.children[1]),i=Nw(t.children[t.children.length-1]);a&&i&&(r.position={start:a,end:i}),s.push(r)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,a),e.applyData(t,a)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const r=n?n.children:void 0,s=0===(r?r.indexOf(t):1)?"th":"td",a=n&&"table"===n.type?n.align:void 0,i=a?a.length:t.children.length;let o=-1;const l=[];for(;++o<i;){const n=t.children[o],r={},i=a?a[o]:void 0;i&&(r.align=i);let c={type:"element",tagName:s,properties:r,children:[]};n&&(c.children=e.all(n),e.patch(n,c),c=e.applyData(n,c)),l.push(c)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)},text:function(e,t){const n={type:"text",value:YN(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:JN,yaml:JN,definition:JN,footnoteDefinition:JN};function JN(){}const XN="object"==typeof self?self:globalThis,ZN=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),r=s=>{if(e.has(s))return e.get(s);const[a,i]=t[s];switch(a){case 0:case-1:return n(i,s);case 1:{const e=n([],s);for(const t of i)e.push(r(t));return e}case 2:{const e=n({},s);for(const[t,n]of i)e[r(t)]=r(n);return e}case 3:return n(new Date(i),s);case 4:{const{source:e,flags:t}=i;return n(new RegExp(e,t),s)}case 5:{const e=n(new Map,s);for(const[t,n]of i)e.set(r(t),r(n));return e}case 6:{const e=n(new Set,s);for(const t of i)e.add(r(t));return e}case 7:{const{name:e,message:t}=i;return n(new XN[e](t),s)}case 8:return n(BigInt(i),s);case"BigInt":return n(Object(BigInt(i)),s);case"ArrayBuffer":return n(new Uint8Array(i).buffer,i);case"DataView":{const{buffer:e}=new Uint8Array(i);return n(new DataView(e),i)}}return n(new XN[a](i),s)};return r})(new Map,e)(0),eS="",{toString:tS}={},{keys:nS}=Object,rS=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=tS.call(e).slice(8,-1);switch(n){case"Array":return[1,eS];case"Object":return[2,eS];case"Date":return[3,eS];case"RegExp":return[4,eS];case"Map":return[5,eS];case"Set":return[6,eS];case"DataView":return[1,n]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},sS=([e,t])=>0===e&&("function"===t||"symbol"===t),aS=(e,{json:t,lossy:n}={})=>{const r=[];return((e,t,n,r)=>{const s=(e,t)=>{const s=r.push(e)-1;return n.set(t,s),s},a=r=>{if(n.has(r))return n.get(r);let[i,o]=rS(r);switch(i){case 0:{let t=r;switch(o){case"bigint":i=8,t=r.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+o);t=null;break;case"undefined":return s([-1],r)}return s([i,t],r)}case 1:{if(o){let e=r;return"DataView"===o?e=new Uint8Array(r.buffer):"ArrayBuffer"===o&&(e=new Uint8Array(r)),s([o,[...e]],r)}const e=[],t=s([i,e],r);for(const n of r)e.push(a(n));return t}case 2:{if(o)switch(o){case"BigInt":return s([o,r.toString()],r);case"Boolean":case"Number":case"String":return s([o,r.valueOf()],r)}if(t&&"toJSON"in r)return a(r.toJSON());const n=[],l=s([i,n],r);for(const t of nS(r))!e&&sS(rS(r[t]))||n.push([a(t),a(r[t])]);return l}case 3:return s([i,r.toISOString()],r);case 4:{const{source:e,flags:t}=r;return s([i,{source:e,flags:t}],r)}case 5:{const t=[],n=s([i,t],r);for(const[s,i]of r)(e||!sS(rS(s))&&!sS(rS(i)))&&t.push([a(s),a(i)]);return n}case 6:{const t=[],n=s([i,t],r);for(const s of r)!e&&sS(rS(s))||t.push(a(s));return n}}const{message:l}=r;return s([i,{name:o,message:l}],r)};return a})(!(t||n),!!t,new Map,r)(e),r},iS="function"==typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?ZN(aS(e,t)):structuredClone(e):(e,t)=>ZN(aS(e,t));function oS(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function lS(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const cS=function(e){if(null==e)return dS;if("function"==typeof e)return uS(e);if("object"==typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=cS(e[n]);return uS(r);function r(...e){let n=-1;for(;++n<t.length;)if(t[n].apply(this,e))return!0;return!1}}(e):function(e){const t=e;return uS(n);function n(n){const r=n;let s;for(s in e)if(r[s]!==t[s])return!1;return!0}}(e);if("string"==typeof e)return function(e){return uS(t);function t(t){return t&&t.type===e}}(e);throw new Error("Expected function, string, or object as test")};function uS(e){return function(t,n,r){return Boolean(function(e){return null!==e&&"object"==typeof e&&"type"in e}(t)&&e.call(this,t,"number"==typeof n?n:void 0,r||void 0))}}function dS(){return!0}const hS=[],pS=!0,fS=!1;function mS(e,t,n,r){let s;"function"==typeof t&&"function"!=typeof n?(r=n,n=t):s=t;const a=cS(s),i=r?-1:1;!function e(s,o,l){const c=s&&"object"==typeof s?s:{};if("string"==typeof c.type){const e="string"==typeof c.tagName?c.tagName:"string"==typeof c.name?c.name:void 0;Object.defineProperty(u,"name",{value:"node ("+s.type+(e?"<"+e+">":"")+")"})}return u;function u(){let c,u,d,h=hS;if((!t||a(s,o,l[l.length-1]||void 0))&&(h=function(e){if(Array.isArray(e))return e;if("number"==typeof e)return[pS,e];return null==e?hS:[e]}(n(s,l)),h[0]===fS))return h;if("children"in s&&s.children){const t=s;if(t.children&&"skip"!==h[0])for(u=(r?t.children.length:-1)+i,d=l.concat(t);u>-1&&u<t.children.length;){const n=t.children[u];if(c=e(n,u,d)(),c[0]===fS)return c;u="number"==typeof c[1]?c[1]:u+i}}return h}}(e,void 0,[])()}function gS(e,t,n,r){let s,a,i;"function"==typeof t&&"function"!=typeof n?(a=void 0,i=t,s=n):(a=t,i=n,s=r),mS(e,a,function(e,t){const n=t[t.length-1],r=n?n.children.indexOf(e):void 0;return i(e,r,n)},s)}const bS={}.hasOwnProperty,yS={};function xS(e,t){e.position&&(t.position=function(e){const t=Sw(e),n=Nw(e);if(t&&n)return{start:t,end:n}}(e))}function vS(e,t){let n=t;if(e&&e.data){const t=e.data.hName,r=e.data.hChildren,s=e.data.hProperties;if("string"==typeof t)if("element"===n.type)n.tagName=t;else{n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}}"element"===n.type&&s&&Object.assign(n.properties,iS(s)),"children"in n&&n.children&&null!=r&&(n.children=r)}return n}function ES(e,t){const n=t.data||{},r=!("value"in t)||bS.call(n,"hProperties")||bS.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,r),e.applyData(t,r)}function _S(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:"\n"});++r<e.length;)r&&n.push({type:"text",value:"\n"}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function TS(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function wS(e,t){const n=function(e,t){const n=t||yS,r=new Map,s=new Map,a=new Map,i={...QN,...n.handlers},o={all:function(e){const t=[];if("children"in e){const n=e.children;let r=-1;for(;++r<n.length;){const s=o.one(n[r],e);if(s){if(r&&"break"===n[r-1].type&&(Array.isArray(s)||"text"!==s.type||(s.value=TS(s.value)),!Array.isArray(s)&&"element"===s.type)){const e=s.children[0];e&&"text"===e.type&&(e.value=TS(e.value))}Array.isArray(s)?t.push(...s):t.push(s)}}}return t},applyData:vS,definitionById:r,footnoteById:s,footnoteCounts:a,footnoteOrder:[],handlers:i,one:function(e,t){const n=e.type,r=o.handlers[n];if(bS.call(o.handlers,n)&&r)return r(o,e,t);if(o.options.passThrough&&o.options.passThrough.includes(n)){if("children"in e){const{children:t,...n}=e,r=iS(n);return r.children=o.all(e),r}return iS(e)}return(o.options.unknownHandler||ES)(o,e,t)},options:n,patch:xS,wrap:_S};return gS(e,function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?r:s,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}}),o}(e,t),r=n.one(e,void 0),s=function(e){const t="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||oS,r=e.options.footnoteBackLabel||lS,s=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",i=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const s=e.footnoteById.get(e.footnoteOrder[l]);if(!s)continue;const a=e.all(s),i=String(s.identifier).toUpperCase(),c=_k(i.toLowerCase());let u=0;const d=[],h=e.footnoteCounts.get(i);for(;void 0!==h&&++u<=h;){d.length>0&&d.push({type:"text",value:" "});let e="string"==typeof n?n:n(l,u);"string"==typeof e&&(e={type:"text",value:e}),d.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+c+(u>1?"-"+u:""),dataFootnoteBackref:"",ariaLabel:"string"==typeof r?r:r(l,u),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const p=a[a.length-1];if(p&&"element"===p.type&&"p"===p.tagName){const e=p.children[p.children.length-1];e&&"text"===e.type?e.value+=" ":p.children.push({type:"text",value:" "}),p.children.push(...d)}else a.push(...d);const f={type:"element",tagName:"li",properties:{id:t+"fn-"+c},children:e.wrap(a,!0)};e.patch(s,f),o.push(f)}if(0!==o.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...iS(i),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:"\n"}]}}(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&a.children.push({type:"text",value:"\n"},s),a}function kS(e,t){return e&&"run"in e?async function(n,r){const s=wS(n,{file:r,...t});await e.run(s,r)}:function(n,r){return wS(n,{file:r,...e||t})}}function NS(e){if(e)throw e}var SS=Object.prototype.hasOwnProperty,AS=Object.prototype.toString,CS=Object.defineProperty,IS=Object.getOwnPropertyDescriptor,jS=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===AS.call(e)},OS=function(e){if(!e||"[object Object]"!==AS.call(e))return!1;var t,n=SS.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&SS.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;for(t in e);return void 0===t||SS.call(e,t)},RS=function(e,t){CS&&"__proto__"===t.name?CS(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},PS=function(e,t){if("__proto__"===t){if(!SS.call(e,t))return;if(IS)return IS(e,t).value}return e[t]},DS=function e(){var t,n,r,s,a,i,o=arguments[0],l=1,c=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[1]||{},l=2),(null==o||"object"!=typeof o&&"function"!=typeof o)&&(o={});l<c;++l)if(null!=(t=arguments[l]))for(n in t)r=PS(o,n),o!==(s=PS(t,n))&&(u&&s&&(OS(s)||(a=jS(s)))?(a?(a=!1,i=r&&jS(r)?r:[]):i=r&&OS(r)?r:{},RS(o,{name:n,newValue:e(u,i,s)})):void 0!==s&&RS(o,{name:n,newValue:s}));return o};const LS=Ne(DS);function MS(e){if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)}function BS(){const e=[],t={run:function(...t){let n=-1;const r=t.pop();if("function"!=typeof r)throw new TypeError("Expected function as last argument, not "+r);!function s(a,...i){const o=e[++n];let l=-1;if(a)r(a);else{for(;++l<t.length;)null!==i[l]&&void 0!==i[l]||(i[l]=t[l]);t=i,o?function(e,t){let n;return r;function r(...t){const r=e.length>t.length;let o;r&&t.push(s);try{o=e.apply(this,t)}catch(a){if(r&&n)throw a;return s(a)}r||(o&&o.then&&"function"==typeof o.then?o.then(i,s):o instanceof Error?s(o):i(o))}function s(e,...r){n||(n=!0,t(e,...r))}function i(e){s(null,e)}}(o,s)(...i):r(null,...i)}}(null,...t)},use:function(n){if("function"!=typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}const US={basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');FS(e);let n,r=0,s=-1,a=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;a--;)if(47===e.codePointAt(a)){if(n){r=a+1;break}}else s<0&&(n=!0,s=a+1);return s<0?"":e.slice(r,s)}if(t===e)return"";let i=-1,o=t.length-1;for(;a--;)if(47===e.codePointAt(a)){if(n){r=a+1;break}}else i<0&&(n=!0,i=a+1),o>-1&&(e.codePointAt(a)===t.codePointAt(o--)?o<0&&(s=a):(o=-1,s=i));r===s?s=i:s<0&&(s=e.length);return e.slice(r,s)},dirname:function(e){if(FS(e),0===e.length)return".";let t,n=-1,r=e.length;for(;--r;)if(47===e.codePointAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},extname:function(e){FS(e);let t,n=e.length,r=-1,s=0,a=-1,i=0;for(;n--;){const o=e.codePointAt(n);if(47!==o)r<0&&(t=!0,r=n+1),46===o?a<0?a=n:1!==i&&(i=1):a>-1&&(i=-1);else if(t){s=n+1;break}}if(a<0||r<0||0===i||1===i&&a===r-1&&a===s+1)return"";return e.slice(a,r)},join:function(...e){let t,n=-1;for(;++n<e.length;)FS(e[n]),e[n]&&(t=void 0===t?e[n]:t+"/"+e[n]);return void 0===t?".":function(e){FS(e);const t=47===e.codePointAt(0);let n=function(e,t){let n,r,s="",a=0,i=-1,o=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.codePointAt(l);else{if(47===n)break;n=47}if(47===n){if(i===l-1||1===o);else if(i!==l-1&&2===o){if(s.length<2||2!==a||46!==s.codePointAt(s.length-1)||46!==s.codePointAt(s.length-2))if(s.length>2){if(r=s.lastIndexOf("/"),r!==s.length-1){r<0?(s="",a=0):(s=s.slice(0,r),a=s.length-1-s.lastIndexOf("/")),i=l,o=0;continue}}else if(s.length>0){s="",a=0,i=l,o=0;continue}t&&(s=s.length>0?s+"/..":"..",a=2)}else s.length>0?s+="/"+e.slice(i+1,l):s=e.slice(i+1,l),a=l-i-1;i=l,o=0}else 46===n&&o>-1?o++:o=-1}return s}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/");return t?"/"+n:n}(t)},sep:"/"};function FS(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const HS={cwd:function(){return"/"}};function zS(e){return Boolean(null!==e&&"object"==typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}function GS(e){if("string"==typeof e)e=new URL(e);else if(!zS(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){const e=t.codePointAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const $S=["history","path","basename","stem","extname","dirname"];class WS{constructor(e){let t;t=e?zS(e)?{path:e}:"string"==typeof e||function(e){return Boolean(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":HS.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,r=-1;for(;++r<$S.length;){const e=$S[r];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)$S.includes(n)||(this[n]=t[n])}get basename(){return"string"==typeof this.path?US.basename(this.path):void 0}set basename(e){VS(e,"basename"),qS(e,"basename"),this.path=US.join(this.dirname||"",e)}get dirname(){return"string"==typeof this.path?US.dirname(this.path):void 0}set dirname(e){YS(this.basename,"dirname"),this.path=US.join(e||"",this.basename)}get extname(){return"string"==typeof this.path?US.extname(this.path):void 0}set extname(e){if(qS(e,"extname"),YS(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=US.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){zS(e)&&(e=GS(e)),VS(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"==typeof this.path?US.basename(this.path,this.extname):void 0}set stem(e){VS(e,"stem"),qS(e,"stem"),this.path=US.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=void 0,r}message(e,t,n){const r=new Rw(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){if(void 0===this.value)return"";if("string"==typeof this.value)return this.value;return new TextDecoder(e||void 0).decode(this.value)}}function qS(e,t){if(e&&e.includes(US.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+US.sep+"`")}function VS(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function YS(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const KS=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},QS={}.hasOwnProperty;class JS extends KS{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=BS()}copy(){const e=new JS;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(LS(!0,{},this.namespace)),e}data(e,t){return"string"==typeof e?2===arguments.length?(tA("data",this.frozen),this.namespace[e]=t,this):QS.call(this.namespace,e)&&this.namespace[e]||void 0:e?(tA("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const r=t.call(e,...n);"function"==typeof r&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=sA(e),n=this.parser||this.Parser;return ZS("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),ZS("process",this.parser||this.Parser),eA("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(r,s){const a=sA(e),i=n.parse(a);function o(e,n){e||!n?s(e):r?r(n):t(void 0,n)}n.run(i,a,function(e,t,r){if(e||!t||!r)return o(e);const s=t,a=n.stringify(s,r);var i;"string"==typeof(i=a)||function(e){return Boolean(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(i)?r.value=a:r.result=a,o(e,r)})}}processSync(e){let t,n=!1;return this.freeze(),ZS("processSync",this.parser||this.Parser),eA("processSync",this.compiler||this.Compiler),this.process(e,function(e,r){n=!0,NS(e),t=r}),rA("processSync","process",n),t}run(e,t,n){nA(e),this.freeze();const r=this.transformers;return n||"function"!=typeof t||(n=t,t=void 0),n?s(void 0,n):new Promise(s);function s(s,a){const i=sA(t);r.run(e,i,function(t,r,i){const o=r||e;t?a(t):s?s(o):n(void 0,o,i)})}}runSync(e,t){let n,r=!1;return this.run(e,t,function(e,t){NS(e),n=t,r=!0}),rA("runSync","run",r),n}stringify(e,t){this.freeze();const n=sA(t),r=this.compiler||this.Compiler;return eA("stringify",r),nA(e),r(e,n)}use(e,...t){const n=this.attachers,r=this.namespace;if(tA("use",this.frozen),null==e);else if("function"==typeof e)o(e,t);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?i(e):a(e)}return this;function s(e){if("function"==typeof e)o(e,[]);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;o(t,n)}else a(e)}}function a(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");i(e.plugins),e.settings&&(r.settings=LS(!0,r.settings,e.settings))}function i(e){let t=-1;if(null==e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){s(e[t])}}}function o(e,t){let r=-1,s=-1;for(;++r<n.length;)if(n[r][0]===e){s=r;break}if(-1===s)n.push([e,...t]);else if(t.length>0){let[r,...a]=t;const i=n[s][1];MS(i)&&MS(r)&&(r=LS(!0,i,r)),n[s]=[e,r,...a]}}}}const XS=(new JS).freeze();function ZS(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function eA(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function tA(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function nA(e){if(!MS(e)||"string"!=typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function rA(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function sA(e){return function(e){return Boolean(e&&"object"==typeof e&&"message"in e&&"messages"in e)}(e)?e:new WS(e)}const aA=[],iA={allowDangerousHtml:!0},oA=/^(https?|ircs?|mailto|xmpp)$/i,lA=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function cA(e){const t=function(e){const t=e.rehypePlugins||aA,n=e.remarkPlugins||aA,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...iA}:iA,s=XS().use(WN).use(n).use(kS,r).use(t);return s}(e),n=function(e){const t=e.children||"",n=new WS;"string"==typeof t&&(n.value=t);return n}(e);return function(e,t){const n=t.allowedElements,r=t.allowElement,s=t.components,a=t.disallowedElements,i=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||uA;for(const u of lA)Object.hasOwn(t,u.from)&&lT((u.from,u.to&&u.to,u.id));return gS(e,c),Fw(e,{Fragment:_t.Fragment,components:s,ignoreInvalidStyle:!0,jsx:_t.jsx,jsxs:_t.jsxs,passKeys:!0,passNode:!0});function c(e,t,s){if("raw"===e.type&&s&&"number"==typeof t)return i?s.children.splice(t,1):s.children[t]={type:"text",value:e.value},t;if("element"===e.type){let t;for(t in Qw)if(Object.hasOwn(Qw,t)&&Object.hasOwn(e.properties,t)){const n=e.properties[t],r=Qw[t];(null===r||r.includes(e.tagName))&&(e.properties[t]=l(String(n||""),t,e))}}if("element"===e.type){let i=n?!n.includes(e.tagName):!!a&&a.includes(e.tagName);if(!i&&r&&"number"==typeof t&&(i=!r(e,t,s)),i&&s&&"number"==typeof t)return o&&e.children?s.children.splice(t,1,...e.children):s.children.splice(t,1),t}}}(t.runSync(t.parse(n),n),e)}function uA(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return-1===t||-1!==s&&t>s||-1!==n&&t>n||-1!==r&&t>r||oA.test(e.slice(0,t))?e:""}const dA=/[#.]/g;function hA(e,t,n){const r=n?function(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}(n):void 0;return function(n,s,...a){let i;if(null==n){i={type:"root",children:[]};const e=s;a.unshift(e)}else{i=function(e,t){const n=e||"",r={};let s,a,i=0;for(;i<n.length;){dA.lastIndex=i;const e=dA.exec(n),t=n.slice(i,e?e.index:n.length);t&&(s?"#"===s?r.id=t:Array.isArray(r.className)?r.className.push(t):r.className=[t]:a=t,i+=t.length),e&&(s=e[0],i++)}return{type:"element",tagName:a||t||"div",properties:r,children:[]}}(n,t);const o=i.tagName.toLowerCase(),l=r?r.get(o):void 0;if(i.tagName=l||o,function(e){if(null===e||"object"!=typeof e||Array.isArray(e))return!0;if("string"!=typeof e.type)return!1;const t=e,n=Object.keys(e);for(const r of n){const e=t[r];if(e&&"object"==typeof e){if(!Array.isArray(e))return!0;const t=e;for(const e of t)if("number"!=typeof e&&"string"!=typeof e)return!0}}if("children"in e&&Array.isArray(e.children))return!0;return!1}(s))a.unshift(s);else for(const[t,n]of Object.entries(s))pA(e,i.properties,t,n)}for(const e of a)fA(i.children,e);return"element"===i.type&&"template"===i.tagName&&(i.content={type:"root",children:i.children},i.children=[]),i}}function pA(e,t,n,r){const s=VT(e,n);let a;if(null!=r){if("number"==typeof r){if(Number.isNaN(r))return;a=r}else a="boolean"==typeof r?r:"string"==typeof r?s.spaceSeparated?XT(r):s.commaSeparated?cT(r):s.commaOrSpaceSeparated?XT(cT(r).join(" ")):mA(s,s.property,r):Array.isArray(r)?[...r]:"style"===s.property?function(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}(r):String(r);if(Array.isArray(a)){const e=[];for(const t of a)e.push(mA(s,s.property,t));a=e}"className"===s.property&&Array.isArray(t.className)&&(a=t.className.concat(a)),t[s.property]=a}}function fA(e,t){if(null==t);else if("number"==typeof t||"string"==typeof t)e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)fA(e,n);else{if("object"!=typeof t||!("type"in t))throw new Error("Expected node, nodes, or string, got `"+t+"`");"root"===t.type?fA(e,t.children):e.push(t)}}function mA(e,t,n){if("string"==typeof n){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(""===n||xT(n)===xT(t)))return!0}return n}const gA=hA(QT,"div"),bA=hA(JT,"g",["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"]);function yA(e,t){const n=e.indexOf("\r",t),r=e.indexOf("\n",t);return-1===r?n:-1===n||n+1===r?r:n<r?n:r}const xA={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},vA={}.hasOwnProperty,EA=Object.prototype;function _A(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},wA(e,r,n),n}case"#document":case"#document-fragment":{const r=t,s="mode"in r&&("quirks"===r.mode||"limited-quirks"===r.mode);if(n={type:"root",children:TA(e,t.childNodes),data:{quirksMode:s}},e.file&&e.location){const t=String(e.file),r=function(e){const t=String(e),n=[];return{toOffset:function(e){if(e&&"number"==typeof e.line&&"number"==typeof e.column&&!Number.isNaN(e.line)&&!Number.isNaN(e.column)){for(;n.length<e.line;){const e=n[n.length-1],r=yA(t,e),s=-1===r?t.length+1:r+1;if(e===s)break;n.push(s)}const r=(e.line>1?n[e.line-2]:0)+e.column-1;if(r<n[e.line-1])return r}},toPoint:function(e){if("number"==typeof e&&e>-1&&e<=t.length){let r=0;for(;;){let s=n[r];if(void 0===s){const e=yA(t,n[r-1]);s=-1===e?t.length+1:e+1,n[r]=s}if(s>e)return{line:r+1,column:e-(r>0?n[r-1]:0)+1,offset:e};r++}}}}}(t),s=r.toPoint(0),a=r.toPoint(t.length);n.position={start:s,end:a}}return n}case"#documentType":return n={type:"doctype"},wA(e,t,n),n;case"#text":{const r=t;return n={type:"text",value:r.value},wA(e,r,n),n}default:return n=function(e,t){const n=e.schema;e.schema=t.namespaceURI===xA.svg?JT:QT;let r=-1;const s={};for(;++r<t.attrs.length;){const e=t.attrs[r],n=(e.prefix?e.prefix+":":"")+e.name;vA.call(EA,n)||(s[n]=e.value)}const a="svg"===e.schema.space?bA:gA,i=a(t.tagName,s,TA(e,t.childNodes));if(wA(e,t,i),"template"===i.tagName){const n=t,r=n.sourceCodeLocation,s=r&&r.startTag&&kA(r.startTag),a=r&&r.endTag&&kA(r.endTag),o=_A(e,n.content);s&&a&&e.file&&(o.position={start:s.end,end:a.start}),i.content=o}return e.schema=n,i}(e,t),n}}function TA(e,t){let n=-1;const r=[];for(;++n<t.length;){const s=_A(e,t[n]);r.push(s)}return r}function wA(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=function(e,t,n){const r=kA(n);if("element"===t.type){const s=t.children[t.children.length-1];if(r&&!n.endTag&&s&&s.position&&s.position.end&&(r.end=Object.assign({},s.position.end)),e.verbose){const r={};let s;if(n.attrs)for(s in n.attrs)vA.call(n.attrs,s)&&(r[VT(e.schema,s).property]=kA(n.attrs[s]));n.startTag;const a=kA(n.startTag),i=n.endTag?kA(n.endTag):void 0,o={opening:a};i&&(o.closing=i),o.properties=r,t.data={position:o}}}return r}(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function kA(e){const t=NA({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=NA({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function NA(e){return e.line&&e.column?e:void 0}class SA{constructor(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}}function AA(e,t){const n={},r={};let s=-1;for(;++s<e.length;)Object.assign(n,e[s].property),Object.assign(r,e[s].normal);return new SA(n,r,t)}function CA(e){return e.toLowerCase()}SA.prototype.property={},SA.prototype.normal={},SA.prototype.space=null;class IA{constructor(e,t){this.property=e,this.attribute=t}}IA.prototype.space=null,IA.prototype.boolean=!1,IA.prototype.booleanish=!1,IA.prototype.overloadedBoolean=!1,IA.prototype.number=!1,IA.prototype.commaSeparated=!1,IA.prototype.spaceSeparated=!1,IA.prototype.commaOrSpaceSeparated=!1,IA.prototype.mustUseProperty=!1,IA.prototype.defined=!1;let jA=0;const OA=UA(),RA=UA(),PA=UA(),DA=UA(),LA=UA(),MA=UA(),BA=UA();function UA(){return 2**++jA}const FA=Object.freeze(Object.defineProperty({__proto__:null,boolean:OA,booleanish:RA,commaOrSpaceSeparated:BA,commaSeparated:MA,number:DA,overloadedBoolean:PA,spaceSeparated:LA},Symbol.toStringTag,{value:"Module"})),HA=Object.keys(FA);class zA extends IA{constructor(e,t,n,r){let s=-1;if(super(e,t),GA(this,"space",r),"number"==typeof n)for(;++s<HA.length;){const e=HA[s];GA(this,HA[s],(n&FA[e])===FA[e])}}}function GA(e,t,n){n&&(e[t]=n)}zA.prototype.defined=!0;const $A={}.hasOwnProperty;function WA(e){const t={},n={};let r;for(r in e.properties)if($A.call(e.properties,r)){const s=e.properties[r],a=new zA(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[CA(r)]=r,n[CA(a.attribute)]=r}return new SA(t,n,e.space)}const qA=WA({space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),VA=WA({space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function YA(e,t){return t in e?e[t]:t}function KA(e,t){return YA(e,t.toLowerCase())}const QA=WA({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:KA,properties:{xmlns:null,xmlnsXLink:null}}),JA=WA({transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:RA,ariaAutoComplete:null,ariaBusy:RA,ariaChecked:RA,ariaColCount:DA,ariaColIndex:DA,ariaColSpan:DA,ariaControls:LA,ariaCurrent:null,ariaDescribedBy:LA,ariaDetails:null,ariaDisabled:RA,ariaDropEffect:LA,ariaErrorMessage:null,ariaExpanded:RA,ariaFlowTo:LA,ariaGrabbed:RA,ariaHasPopup:null,ariaHidden:RA,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:LA,ariaLevel:DA,ariaLive:null,ariaModal:RA,ariaMultiLine:RA,ariaMultiSelectable:RA,ariaOrientation:null,ariaOwns:LA,ariaPlaceholder:null,ariaPosInSet:DA,ariaPressed:RA,ariaReadOnly:RA,ariaRelevant:null,ariaRequired:RA,ariaRoleDescription:LA,ariaRowCount:DA,ariaRowIndex:DA,ariaRowSpan:DA,ariaSelected:RA,ariaSetSize:DA,ariaSort:null,ariaValueMax:DA,ariaValueMin:DA,ariaValueNow:DA,ariaValueText:null,role:null}}),XA=WA({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:KA,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:MA,acceptCharset:LA,accessKey:LA,action:null,allow:null,allowFullScreen:OA,allowPaymentRequest:OA,allowUserMedia:OA,alt:null,as:null,async:OA,autoCapitalize:null,autoComplete:LA,autoFocus:OA,autoPlay:OA,blocking:LA,capture:null,charSet:null,checked:OA,cite:null,className:LA,cols:DA,colSpan:null,content:null,contentEditable:RA,controls:OA,controlsList:LA,coords:DA|MA,crossOrigin:null,data:null,dateTime:null,decoding:null,default:OA,defer:OA,dir:null,dirName:null,disabled:OA,download:PA,draggable:RA,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:OA,formTarget:null,headers:LA,height:DA,hidden:OA,high:DA,href:null,hrefLang:null,htmlFor:LA,httpEquiv:LA,id:null,imageSizes:null,imageSrcSet:null,inert:OA,inputMode:null,integrity:null,is:null,isMap:OA,itemId:null,itemProp:LA,itemRef:LA,itemScope:OA,itemType:LA,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:OA,low:DA,manifest:null,max:null,maxLength:DA,media:null,method:null,min:null,minLength:DA,multiple:OA,muted:OA,name:null,nonce:null,noModule:OA,noValidate:OA,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:OA,optimum:DA,pattern:null,ping:LA,placeholder:null,playsInline:OA,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:OA,referrerPolicy:null,rel:LA,required:OA,reversed:OA,rows:DA,rowSpan:DA,sandbox:LA,scope:null,scoped:OA,seamless:OA,selected:OA,shadowRootClonable:OA,shadowRootDelegatesFocus:OA,shadowRootMode:null,shape:null,size:DA,sizes:null,slot:null,span:DA,spellCheck:RA,src:null,srcDoc:null,srcLang:null,srcSet:null,start:DA,step:null,style:null,tabIndex:DA,target:null,title:null,translate:null,type:null,typeMustMatch:OA,useMap:null,value:RA,width:DA,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:LA,axis:null,background:null,bgColor:null,border:DA,borderColor:null,bottomMargin:DA,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:OA,declare:OA,event:null,face:null,frame:null,frameBorder:null,hSpace:DA,leftMargin:DA,link:null,longDesc:null,lowSrc:null,marginHeight:DA,marginWidth:DA,noResize:OA,noHref:OA,noShade:OA,noWrap:OA,object:null,profile:null,prompt:null,rev:null,rightMargin:DA,rules:null,scheme:null,scrolling:RA,standby:null,summary:null,text:null,topMargin:DA,valueType:null,version:null,vAlign:null,vLink:null,vSpace:DA,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:OA,disableRemotePlayback:OA,prefix:null,property:null,results:DA,security:null,unselectable:null}}),ZA=WA({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:YA,properties:{about:BA,accentHeight:DA,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:DA,amplitude:DA,arabicForm:null,ascent:DA,attributeName:null,attributeType:null,azimuth:DA,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:DA,by:null,calcMode:null,capHeight:DA,className:LA,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:DA,diffuseConstant:DA,direction:null,display:null,dur:null,divisor:DA,dominantBaseline:null,download:OA,dx:null,dy:null,edgeMode:null,editable:null,elevation:DA,enableBackground:null,end:null,event:null,exponent:DA,externalResourcesRequired:null,fill:null,fillOpacity:DA,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:MA,g2:MA,glyphName:MA,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:DA,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:DA,horizOriginX:DA,horizOriginY:DA,id:null,ideographic:DA,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:DA,k:DA,k1:DA,k2:DA,k3:DA,k4:DA,kernelMatrix:BA,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:DA,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:DA,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:DA,overlineThickness:DA,paintOrder:null,panose1:null,path:null,pathLength:DA,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:LA,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:DA,pointsAtY:DA,pointsAtZ:DA,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:BA,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:BA,rev:BA,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:BA,requiredFeatures:BA,requiredFonts:BA,requiredFormats:BA,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:DA,specularExponent:DA,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:DA,strikethroughThickness:DA,string:null,stroke:null,strokeDashArray:BA,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:DA,strokeOpacity:DA,strokeWidth:null,style:null,surfaceScale:DA,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:BA,tabIndex:DA,tableValues:null,target:null,targetX:DA,targetY:DA,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:BA,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:DA,underlineThickness:DA,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:DA,values:null,vAlphabetic:DA,vMathematical:DA,vectorEffect:null,vHanging:DA,vIdeographic:DA,version:null,vertAdvY:DA,vertOriginX:DA,vertOriginY:DA,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:DA,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),eC=/^data[-\w.:]+$/i,tC=/-[a-z]/g,nC=/[A-Z]/g;function rC(e){return"-"+e.toLowerCase()}function sC(e){return e.charAt(1).toUpperCase()}const aC=AA([VA,qA,QA,JA,XA],"html"),iC=AA([VA,qA,QA,JA,ZA],"svg"),oC={}.hasOwnProperty;function lC(e,t){const n=t||{};function r(t,...n){let s=r.invalid;const a=r.handlers;if(t&&oC.call(t,e)){const n=String(t[e]);s=oC.call(a,n)?a[n]:r.unknown}if(s)return s.call(this,t,...n)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const cC={},uC={}.hasOwnProperty,dC=lC("type",{handlers:{root:function(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=pC(e.children,n,t),fC(e,n),n},element:function(e,t){const n=t;let r=n;"element"===e.type&&"svg"===e.tagName.toLowerCase()&&"html"===n.space&&(r=iC);const s=[];let a;if(e.properties)for(a in e.properties)if("children"!==a&&uC.call(e.properties,a)){const t=hC(r,a,e.properties[a]);t&&s.push(t)}const i=r.space,o={nodeName:e.tagName,tagName:e.tagName,attrs:s,namespaceURI:xA[i],childNodes:[],parentNode:null};o.childNodes=pC(e.children,o,r),fC(e,o),"template"===e.tagName&&e.content&&(o.content=function(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=pC(e.children,n,t),fC(e,n),n}(e.content,r));return o},text:function(e){const t={nodeName:"#text",value:e.value,parentNode:null};return fC(e,t),t},comment:function(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return fC(e,t),t},doctype:function(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return fC(e,t),t}}});function hC(e,t,n){const r=function(e,t){const n=CA(t);let r=t,s=IA;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&eC.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(tC,sC);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!tC.test(e)){let n=e.replace(nC,rC);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}s=zA}return new s(r,t)}(e,t);if(!1===n||null==n||"number"==typeof n&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?uT(n):ZT(n));const s={name:r.attribute,value:!0===n?"":String(n)};if(r.space&&"html"!==r.space&&"svg"!==r.space){const e=s.name.indexOf(":");e<0?s.prefix="":(s.name=s.name.slice(e+1),s.prefix=r.attribute.slice(0,e)),s.namespace=xA[r.space]}return s}function pC(e,t,n){let r=-1;const s=[];if(e)for(;++r<e.length;){const a=dC(e[r],n);a.parentNode=t,s.push(a)}return s}function fC(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const mC=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],gC=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),bC="";var yC,xC;(xC=yC||(yC={}))[xC.EOF=-1]="EOF",xC[xC.NULL=0]="NULL",xC[xC.TABULATION=9]="TABULATION",xC[xC.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",xC[xC.LINE_FEED=10]="LINE_FEED",xC[xC.FORM_FEED=12]="FORM_FEED",xC[xC.SPACE=32]="SPACE",xC[xC.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",xC[xC.QUOTATION_MARK=34]="QUOTATION_MARK",xC[xC.AMPERSAND=38]="AMPERSAND",xC[xC.APOSTROPHE=39]="APOSTROPHE",xC[xC.HYPHEN_MINUS=45]="HYPHEN_MINUS",xC[xC.SOLIDUS=47]="SOLIDUS",xC[xC.DIGIT_0=48]="DIGIT_0",xC[xC.DIGIT_9=57]="DIGIT_9",xC[xC.SEMICOLON=59]="SEMICOLON",xC[xC.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",xC[xC.EQUALS_SIGN=61]="EQUALS_SIGN",xC[xC.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",xC[xC.QUESTION_MARK=63]="QUESTION_MARK",xC[xC.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",xC[xC.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",xC[xC.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",xC[xC.GRAVE_ACCENT=96]="GRAVE_ACCENT",xC[xC.LATIN_SMALL_A=97]="LATIN_SMALL_A",xC[xC.LATIN_SMALL_Z=122]="LATIN_SMALL_Z";const vC="--",EC="[CDATA[",_C="doctype",TC="script",wC="public",kC="system";function NC(e){return e>=55296&&e<=57343}function SC(e){return 32!==e&&10!==e&&13!==e&&9!==e&&12!==e&&e>=1&&e<=31||e>=127&&e<=159}function AC(e){return e>=64976&&e<=65007||gC.has(e)}var CC,IC;(IC=CC||(CC={})).controlCharacterInInputStream="control-character-in-input-stream",IC.noncharacterInInputStream="noncharacter-in-input-stream",IC.surrogateInInputStream="surrogate-in-input-stream",IC.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",IC.endTagWithAttributes="end-tag-with-attributes",IC.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",IC.unexpectedSolidusInTag="unexpected-solidus-in-tag",IC.unexpectedNullCharacter="unexpected-null-character",IC.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",IC.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",IC.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",IC.missingEndTagName="missing-end-tag-name",IC.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",IC.unknownNamedCharacterReference="unknown-named-character-reference",IC.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",IC.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",IC.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",IC.eofBeforeTagName="eof-before-tag-name",IC.eofInTag="eof-in-tag",IC.missingAttributeValue="missing-attribute-value",IC.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",IC.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",IC.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",IC.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",IC.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",IC.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",IC.missingDoctypePublicIdentifier="missing-doctype-public-identifier",IC.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",IC.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",IC.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",IC.cdataInHtmlContent="cdata-in-html-content",IC.incorrectlyOpenedComment="incorrectly-opened-comment",IC.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",IC.eofInDoctype="eof-in-doctype",IC.nestedComment="nested-comment",IC.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",IC.eofInComment="eof-in-comment",IC.incorrectlyClosedComment="incorrectly-closed-comment",IC.eofInCdata="eof-in-cdata",IC.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",IC.nullCharacterReference="null-character-reference",IC.surrogateCharacterReference="surrogate-character-reference",IC.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",IC.controlCharacterReference="control-character-reference",IC.noncharacterCharacterReference="noncharacter-character-reference",IC.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",IC.missingDoctypeName="missing-doctype-name",IC.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",IC.duplicateAttribute="duplicate-attribute",IC.nonConformingDoctype="non-conforming-doctype",IC.missingDoctype="missing-doctype",IC.misplacedDoctype="misplaced-doctype",IC.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",IC.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",IC.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",IC.openElementsLeftAfterEof="open-elements-left-after-eof",IC.abandonedHeadElementChild="abandoned-head-element-child",IC.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",IC.nestedNoscriptInHead="nested-noscript-in-head",IC.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text";class jC{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+Number(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,t){const{line:n,col:r,offset:s}=this,a=r+t,i=s+t;return{code:e,startLine:n,endLine:n,startCol:a,endCol:a,startOffset:i,endOffset:i}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const t=this.html.charCodeAt(this.pos+1);if(function(e){return e>=56320&&e<=57343}(t))return this.pos++,this._addGap(),1024*(e-55296)+9216+t}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,yC.EOF;return this._err(CC.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,t){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=t}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,t){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(t)return this.html.startsWith(e,this.pos);for(let n=0;n<e.length;n++){if((32|this.html.charCodeAt(this.pos+n))!==e.charCodeAt(n))return!1}return!0}peek(e){const t=this.pos+e;if(t>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,yC.EOF;const n=this.html.charCodeAt(t);return n===yC.CARRIAGE_RETURN?yC.LINE_FEED:n}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,yC.EOF;let e=this.html.charCodeAt(this.pos);if(e===yC.CARRIAGE_RETURN)return this.isEol=!0,this.skipNextNewLine=!0,yC.LINE_FEED;if(e===yC.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine))return this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance();this.skipNextNewLine=!1,NC(e)&&(e=this._processSurrogate(e));return null===this.handler.onParseError||e>31&&e<127||e===yC.LINE_FEED||e===yC.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e}_checkForProblematicCharacters(e){SC(e)?this._err(CC.controlCharacterInInputStream):AC(e)&&this._err(CC.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var OC,RC;function PC(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}(RC=OC||(OC={}))[RC.CHARACTER=0]="CHARACTER",RC[RC.NULL_CHARACTER=1]="NULL_CHARACTER",RC[RC.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",RC[RC.START_TAG=3]="START_TAG",RC[RC.END_TAG=4]="END_TAG",RC[RC.COMMENT=5]="COMMENT",RC[RC.DOCTYPE=6]="DOCTYPE",RC[RC.EOF=7]="EOF",RC[RC.HIBERNATION=8]="HIBERNATION";const DC=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),LC=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var MC,BC;(BC=MC||(MC={}))[BC.NUM=35]="NUM",BC[BC.SEMI=59]="SEMI",BC[BC.EQUALS=61]="EQUALS",BC[BC.ZERO=48]="ZERO",BC[BC.NINE=57]="NINE",BC[BC.LOWER_A=97]="LOWER_A",BC[BC.LOWER_F=102]="LOWER_F",BC[BC.LOWER_X=120]="LOWER_X",BC[BC.LOWER_Z=122]="LOWER_Z",BC[BC.UPPER_A=65]="UPPER_A",BC[BC.UPPER_F=70]="UPPER_F",BC[BC.UPPER_Z=90]="UPPER_Z";var UC,FC,HC,zC,GC,$C,WC,qC,VC,YC,KC,QC,JC,XC,ZC,eI;function tI(e){return e>=MC.ZERO&&e<=MC.NINE}function nI(e){return e>=MC.UPPER_A&&e<=MC.UPPER_F||e>=MC.LOWER_A&&e<=MC.LOWER_F}function rI(e){return e===MC.EQUALS||function(e){return e>=MC.UPPER_A&&e<=MC.UPPER_Z||e>=MC.LOWER_A&&e<=MC.LOWER_Z||tI(e)}(e)}(FC=UC||(UC={}))[FC.VALUE_LENGTH=49152]="VALUE_LENGTH",FC[FC.BRANCH_LENGTH=16256]="BRANCH_LENGTH",FC[FC.JUMP_TABLE=127]="JUMP_TABLE",(zC=HC||(HC={}))[zC.EntityStart=0]="EntityStart",zC[zC.NumericStart=1]="NumericStart",zC[zC.NumericDecimal=2]="NumericDecimal",zC[zC.NumericHex=3]="NumericHex",zC[zC.NamedEntity=4]="NamedEntity",($C=GC||(GC={}))[$C.Legacy=0]="Legacy",$C[$C.Strict=1]="Strict",$C[$C.Attribute=2]="Attribute";class sI{constructor(e,t,n){this.decodeTree=e,this.emitCodePoint=t,this.errors=n,this.state=HC.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=GC.Strict}startEntity(e){this.decodeMode=e,this.state=HC.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case HC.EntityStart:return e.charCodeAt(t)===MC.NUM?(this.state=HC.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=HC.NamedEntity,this.stateNamedEntity(e,t));case HC.NumericStart:return this.stateNumericStart(e,t);case HC.NumericDecimal:return this.stateNumericDecimal(e,t);case HC.NumericHex:return this.stateNumericHex(e,t);case HC.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===MC.LOWER_X?(this.state=HC.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=HC.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,n,r){if(t!==n){const s=n-t;this.result=this.result*Math.pow(r,s)+Number.parseInt(e.substr(t,s),r),this.consumed+=s}}stateNumericHex(e,t){const n=t;for(;t<e.length;){const r=e.charCodeAt(t);if(!tI(r)&&!nI(r))return this.addToNumericResult(e,n,t,16),this.emitNumericEntity(r,3);t+=1}return this.addToNumericResult(e,n,t,16),-1}stateNumericDecimal(e,t){const n=t;for(;t<e.length;){const r=e.charCodeAt(t);if(!tI(r))return this.addToNumericResult(e,n,t,10),this.emitNumericEntity(r,2);t+=1}return this.addToNumericResult(e,n,t,10),-1}emitNumericEntity(e,t){var n;if(this.consumed<=t)return null===(n=this.errors)||void 0===n||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===MC.SEMI)this.consumed+=1;else if(this.decodeMode===GC.Strict)return 0;return this.emitCodePoint(function(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=LC.get(e))&&void 0!==t?t:e}(this.result),this.consumed),this.errors&&(e!==MC.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:n}=this;let r=n[this.treeIndex],s=(r&UC.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){const a=e.charCodeAt(t);if(this.treeIndex=aI(n,r,this.treeIndex+Math.max(1,s),a),this.treeIndex<0)return 0===this.result||this.decodeMode===GC.Attribute&&(0===s||rI(a))?0:this.emitNotTerminatedNamedEntity();if(r=n[this.treeIndex],s=(r&UC.VALUE_LENGTH)>>14,0!==s){if(a===MC.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==GC.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:n}=this,r=(n[t]&UC.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,r,this.consumed),null===(e=this.errors)||void 0===e||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,n){const{decodeTree:r}=this;return this.emitCodePoint(1===t?r[e]&~UC.VALUE_LENGTH:r[e+1],n),3===t&&this.emitCodePoint(r[e+2],n),n}end(){var e;switch(this.state){case HC.NamedEntity:return 0===this.result||this.decodeMode===GC.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case HC.NumericDecimal:return this.emitNumericEntity(0,2);case HC.NumericHex:return this.emitNumericEntity(0,3);case HC.NumericStart:return null===(e=this.errors)||void 0===e||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case HC.EntityStart:return 0}}}function aI(e,t,n,r){const s=(t&UC.BRANCH_LENGTH)>>7,a=t&UC.JUMP_TABLE;if(0===s)return 0!==a&&r===a?n:-1;if(a){const t=r-a;return t<0||t>=s?-1:e[n+t]-1}let i=n,o=i+s-1;for(;i<=o;){const t=i+o>>>1,n=e[t];if(n<r)i=t+1;else{if(!(n>r))return e[t+s];o=t-1}}return-1}(qC=WC||(WC={})).HTML="http://www.w3.org/1999/xhtml",qC.MATHML="http://www.w3.org/1998/Math/MathML",qC.SVG="http://www.w3.org/2000/svg",qC.XLINK="http://www.w3.org/1999/xlink",qC.XML="http://www.w3.org/XML/1998/namespace",qC.XMLNS="http://www.w3.org/2000/xmlns/",(YC=VC||(VC={})).TYPE="type",YC.ACTION="action",YC.ENCODING="encoding",YC.PROMPT="prompt",YC.NAME="name",YC.COLOR="color",YC.FACE="face",YC.SIZE="size",(QC=KC||(KC={})).NO_QUIRKS="no-quirks",QC.QUIRKS="quirks",QC.LIMITED_QUIRKS="limited-quirks",(XC=JC||(JC={})).A="a",XC.ADDRESS="address",XC.ANNOTATION_XML="annotation-xml",XC.APPLET="applet",XC.AREA="area",XC.ARTICLE="article",XC.ASIDE="aside",XC.B="b",XC.BASE="base",XC.BASEFONT="basefont",XC.BGSOUND="bgsound",XC.BIG="big",XC.BLOCKQUOTE="blockquote",XC.BODY="body",XC.BR="br",XC.BUTTON="button",XC.CAPTION="caption",XC.CENTER="center",XC.CODE="code",XC.COL="col",XC.COLGROUP="colgroup",XC.DD="dd",XC.DESC="desc",XC.DETAILS="details",XC.DIALOG="dialog",XC.DIR="dir",XC.DIV="div",XC.DL="dl",XC.DT="dt",XC.EM="em",XC.EMBED="embed",XC.FIELDSET="fieldset",XC.FIGCAPTION="figcaption",XC.FIGURE="figure",XC.FONT="font",XC.FOOTER="footer",XC.FOREIGN_OBJECT="foreignObject",XC.FORM="form",XC.FRAME="frame",XC.FRAMESET="frameset",XC.H1="h1",XC.H2="h2",XC.H3="h3",XC.H4="h4",XC.H5="h5",XC.H6="h6",XC.HEAD="head",XC.HEADER="header",XC.HGROUP="hgroup",XC.HR="hr",XC.HTML="html",XC.I="i",XC.IMG="img",XC.IMAGE="image",XC.INPUT="input",XC.IFRAME="iframe",XC.KEYGEN="keygen",XC.LABEL="label",XC.LI="li",XC.LINK="link",XC.LISTING="listing",XC.MAIN="main",XC.MALIGNMARK="malignmark",XC.MARQUEE="marquee",XC.MATH="math",XC.MENU="menu",XC.META="meta",XC.MGLYPH="mglyph",XC.MI="mi",XC.MO="mo",XC.MN="mn",XC.MS="ms",XC.MTEXT="mtext",XC.NAV="nav",XC.NOBR="nobr",XC.NOFRAMES="noframes",XC.NOEMBED="noembed",XC.NOSCRIPT="noscript",XC.OBJECT="object",XC.OL="ol",XC.OPTGROUP="optgroup",XC.OPTION="option",XC.P="p",XC.PARAM="param",XC.PLAINTEXT="plaintext",XC.PRE="pre",XC.RB="rb",XC.RP="rp",XC.RT="rt",XC.RTC="rtc",XC.RUBY="ruby",XC.S="s",XC.SCRIPT="script",XC.SEARCH="search",XC.SECTION="section",XC.SELECT="select",XC.SOURCE="source",XC.SMALL="small",XC.SPAN="span",XC.STRIKE="strike",XC.STRONG="strong",XC.STYLE="style",XC.SUB="sub",XC.SUMMARY="summary",XC.SUP="sup",XC.TABLE="table",XC.TBODY="tbody",XC.TEMPLATE="template",XC.TEXTAREA="textarea",XC.TFOOT="tfoot",XC.TD="td",XC.TH="th",XC.THEAD="thead",XC.TITLE="title",XC.TR="tr",XC.TRACK="track",XC.TT="tt",XC.U="u",XC.UL="ul",XC.SVG="svg",XC.VAR="var",XC.WBR="wbr",XC.XMP="xmp",(eI=ZC||(ZC={}))[eI.UNKNOWN=0]="UNKNOWN",eI[eI.A=1]="A",eI[eI.ADDRESS=2]="ADDRESS",eI[eI.ANNOTATION_XML=3]="ANNOTATION_XML",eI[eI.APPLET=4]="APPLET",eI[eI.AREA=5]="AREA",eI[eI.ARTICLE=6]="ARTICLE",eI[eI.ASIDE=7]="ASIDE",eI[eI.B=8]="B",eI[eI.BASE=9]="BASE",eI[eI.BASEFONT=10]="BASEFONT",eI[eI.BGSOUND=11]="BGSOUND",eI[eI.BIG=12]="BIG",eI[eI.BLOCKQUOTE=13]="BLOCKQUOTE",eI[eI.BODY=14]="BODY",eI[eI.BR=15]="BR",eI[eI.BUTTON=16]="BUTTON",eI[eI.CAPTION=17]="CAPTION",eI[eI.CENTER=18]="CENTER",eI[eI.CODE=19]="CODE",eI[eI.COL=20]="COL",eI[eI.COLGROUP=21]="COLGROUP",eI[eI.DD=22]="DD",eI[eI.DESC=23]="DESC",eI[eI.DETAILS=24]="DETAILS",eI[eI.DIALOG=25]="DIALOG",eI[eI.DIR=26]="DIR",eI[eI.DIV=27]="DIV",eI[eI.DL=28]="DL",eI[eI.DT=29]="DT",eI[eI.EM=30]="EM",eI[eI.EMBED=31]="EMBED",eI[eI.FIELDSET=32]="FIELDSET",eI[eI.FIGCAPTION=33]="FIGCAPTION",eI[eI.FIGURE=34]="FIGURE",eI[eI.FONT=35]="FONT",eI[eI.FOOTER=36]="FOOTER",eI[eI.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",eI[eI.FORM=38]="FORM",eI[eI.FRAME=39]="FRAME",eI[eI.FRAMESET=40]="FRAMESET",eI[eI.H1=41]="H1",eI[eI.H2=42]="H2",eI[eI.H3=43]="H3",eI[eI.H4=44]="H4",eI[eI.H5=45]="H5",eI[eI.H6=46]="H6",eI[eI.HEAD=47]="HEAD",eI[eI.HEADER=48]="HEADER",eI[eI.HGROUP=49]="HGROUP",eI[eI.HR=50]="HR",eI[eI.HTML=51]="HTML",eI[eI.I=52]="I",eI[eI.IMG=53]="IMG",eI[eI.IMAGE=54]="IMAGE",eI[eI.INPUT=55]="INPUT",eI[eI.IFRAME=56]="IFRAME",eI[eI.KEYGEN=57]="KEYGEN",eI[eI.LABEL=58]="LABEL",eI[eI.LI=59]="LI",eI[eI.LINK=60]="LINK",eI[eI.LISTING=61]="LISTING",eI[eI.MAIN=62]="MAIN",eI[eI.MALIGNMARK=63]="MALIGNMARK",eI[eI.MARQUEE=64]="MARQUEE",eI[eI.MATH=65]="MATH",eI[eI.MENU=66]="MENU",eI[eI.META=67]="META",eI[eI.MGLYPH=68]="MGLYPH",eI[eI.MI=69]="MI",eI[eI.MO=70]="MO",eI[eI.MN=71]="MN",eI[eI.MS=72]="MS",eI[eI.MTEXT=73]="MTEXT",eI[eI.NAV=74]="NAV",eI[eI.NOBR=75]="NOBR",eI[eI.NOFRAMES=76]="NOFRAMES",eI[eI.NOEMBED=77]="NOEMBED",eI[eI.NOSCRIPT=78]="NOSCRIPT",eI[eI.OBJECT=79]="OBJECT",eI[eI.OL=80]="OL",eI[eI.OPTGROUP=81]="OPTGROUP",eI[eI.OPTION=82]="OPTION",eI[eI.P=83]="P",eI[eI.PARAM=84]="PARAM",eI[eI.PLAINTEXT=85]="PLAINTEXT",eI[eI.PRE=86]="PRE",eI[eI.RB=87]="RB",eI[eI.RP=88]="RP",eI[eI.RT=89]="RT",eI[eI.RTC=90]="RTC",eI[eI.RUBY=91]="RUBY",eI[eI.S=92]="S",eI[eI.SCRIPT=93]="SCRIPT",eI[eI.SEARCH=94]="SEARCH",eI[eI.SECTION=95]="SECTION",eI[eI.SELECT=96]="SELECT",eI[eI.SOURCE=97]="SOURCE",eI[eI.SMALL=98]="SMALL",eI[eI.SPAN=99]="SPAN",eI[eI.STRIKE=100]="STRIKE",eI[eI.STRONG=101]="STRONG",eI[eI.STYLE=102]="STYLE",eI[eI.SUB=103]="SUB",eI[eI.SUMMARY=104]="SUMMARY",eI[eI.SUP=105]="SUP",eI[eI.TABLE=106]="TABLE",eI[eI.TBODY=107]="TBODY",eI[eI.TEMPLATE=108]="TEMPLATE",eI[eI.TEXTAREA=109]="TEXTAREA",eI[eI.TFOOT=110]="TFOOT",eI[eI.TD=111]="TD",eI[eI.TH=112]="TH",eI[eI.THEAD=113]="THEAD",eI[eI.TITLE=114]="TITLE",eI[eI.TR=115]="TR",eI[eI.TRACK=116]="TRACK",eI[eI.TT=117]="TT",eI[eI.U=118]="U",eI[eI.UL=119]="UL",eI[eI.SVG=120]="SVG",eI[eI.VAR=121]="VAR",eI[eI.WBR=122]="WBR",eI[eI.XMP=123]="XMP";const iI=new Map([[JC.A,ZC.A],[JC.ADDRESS,ZC.ADDRESS],[JC.ANNOTATION_XML,ZC.ANNOTATION_XML],[JC.APPLET,ZC.APPLET],[JC.AREA,ZC.AREA],[JC.ARTICLE,ZC.ARTICLE],[JC.ASIDE,ZC.ASIDE],[JC.B,ZC.B],[JC.BASE,ZC.BASE],[JC.BASEFONT,ZC.BASEFONT],[JC.BGSOUND,ZC.BGSOUND],[JC.BIG,ZC.BIG],[JC.BLOCKQUOTE,ZC.BLOCKQUOTE],[JC.BODY,ZC.BODY],[JC.BR,ZC.BR],[JC.BUTTON,ZC.BUTTON],[JC.CAPTION,ZC.CAPTION],[JC.CENTER,ZC.CENTER],[JC.CODE,ZC.CODE],[JC.COL,ZC.COL],[JC.COLGROUP,ZC.COLGROUP],[JC.DD,ZC.DD],[JC.DESC,ZC.DESC],[JC.DETAILS,ZC.DETAILS],[JC.DIALOG,ZC.DIALOG],[JC.DIR,ZC.DIR],[JC.DIV,ZC.DIV],[JC.DL,ZC.DL],[JC.DT,ZC.DT],[JC.EM,ZC.EM],[JC.EMBED,ZC.EMBED],[JC.FIELDSET,ZC.FIELDSET],[JC.FIGCAPTION,ZC.FIGCAPTION],[JC.FIGURE,ZC.FIGURE],[JC.FONT,ZC.FONT],[JC.FOOTER,ZC.FOOTER],[JC.FOREIGN_OBJECT,ZC.FOREIGN_OBJECT],[JC.FORM,ZC.FORM],[JC.FRAME,ZC.FRAME],[JC.FRAMESET,ZC.FRAMESET],[JC.H1,ZC.H1],[JC.H2,ZC.H2],[JC.H3,ZC.H3],[JC.H4,ZC.H4],[JC.H5,ZC.H5],[JC.H6,ZC.H6],[JC.HEAD,ZC.HEAD],[JC.HEADER,ZC.HEADER],[JC.HGROUP,ZC.HGROUP],[JC.HR,ZC.HR],[JC.HTML,ZC.HTML],[JC.I,ZC.I],[JC.IMG,ZC.IMG],[JC.IMAGE,ZC.IMAGE],[JC.INPUT,ZC.INPUT],[JC.IFRAME,ZC.IFRAME],[JC.KEYGEN,ZC.KEYGEN],[JC.LABEL,ZC.LABEL],[JC.LI,ZC.LI],[JC.LINK,ZC.LINK],[JC.LISTING,ZC.LISTING],[JC.MAIN,ZC.MAIN],[JC.MALIGNMARK,ZC.MALIGNMARK],[JC.MARQUEE,ZC.MARQUEE],[JC.MATH,ZC.MATH],[JC.MENU,ZC.MENU],[JC.META,ZC.META],[JC.MGLYPH,ZC.MGLYPH],[JC.MI,ZC.MI],[JC.MO,ZC.MO],[JC.MN,ZC.MN],[JC.MS,ZC.MS],[JC.MTEXT,ZC.MTEXT],[JC.NAV,ZC.NAV],[JC.NOBR,ZC.NOBR],[JC.NOFRAMES,ZC.NOFRAMES],[JC.NOEMBED,ZC.NOEMBED],[JC.NOSCRIPT,ZC.NOSCRIPT],[JC.OBJECT,ZC.OBJECT],[JC.OL,ZC.OL],[JC.OPTGROUP,ZC.OPTGROUP],[JC.OPTION,ZC.OPTION],[JC.P,ZC.P],[JC.PARAM,ZC.PARAM],[JC.PLAINTEXT,ZC.PLAINTEXT],[JC.PRE,ZC.PRE],[JC.RB,ZC.RB],[JC.RP,ZC.RP],[JC.RT,ZC.RT],[JC.RTC,ZC.RTC],[JC.RUBY,ZC.RUBY],[JC.S,ZC.S],[JC.SCRIPT,ZC.SCRIPT],[JC.SEARCH,ZC.SEARCH],[JC.SECTION,ZC.SECTION],[JC.SELECT,ZC.SELECT],[JC.SOURCE,ZC.SOURCE],[JC.SMALL,ZC.SMALL],[JC.SPAN,ZC.SPAN],[JC.STRIKE,ZC.STRIKE],[JC.STRONG,ZC.STRONG],[JC.STYLE,ZC.STYLE],[JC.SUB,ZC.SUB],[JC.SUMMARY,ZC.SUMMARY],[JC.SUP,ZC.SUP],[JC.TABLE,ZC.TABLE],[JC.TBODY,ZC.TBODY],[JC.TEMPLATE,ZC.TEMPLATE],[JC.TEXTAREA,ZC.TEXTAREA],[JC.TFOOT,ZC.TFOOT],[JC.TD,ZC.TD],[JC.TH,ZC.TH],[JC.THEAD,ZC.THEAD],[JC.TITLE,ZC.TITLE],[JC.TR,ZC.TR],[JC.TRACK,ZC.TRACK],[JC.TT,ZC.TT],[JC.U,ZC.U],[JC.UL,ZC.UL],[JC.SVG,ZC.SVG],[JC.VAR,ZC.VAR],[JC.WBR,ZC.WBR],[JC.XMP,ZC.XMP]]);function oI(e){var t;return null!==(t=iI.get(e))&&void 0!==t?t:ZC.UNKNOWN}const lI=ZC,cI={[WC.HTML]:new Set([lI.ADDRESS,lI.APPLET,lI.AREA,lI.ARTICLE,lI.ASIDE,lI.BASE,lI.BASEFONT,lI.BGSOUND,lI.BLOCKQUOTE,lI.BODY,lI.BR,lI.BUTTON,lI.CAPTION,lI.CENTER,lI.COL,lI.COLGROUP,lI.DD,lI.DETAILS,lI.DIR,lI.DIV,lI.DL,lI.DT,lI.EMBED,lI.FIELDSET,lI.FIGCAPTION,lI.FIGURE,lI.FOOTER,lI.FORM,lI.FRAME,lI.FRAMESET,lI.H1,lI.H2,lI.H3,lI.H4,lI.H5,lI.H6,lI.HEAD,lI.HEADER,lI.HGROUP,lI.HR,lI.HTML,lI.IFRAME,lI.IMG,lI.INPUT,lI.LI,lI.LINK,lI.LISTING,lI.MAIN,lI.MARQUEE,lI.MENU,lI.META,lI.NAV,lI.NOEMBED,lI.NOFRAMES,lI.NOSCRIPT,lI.OBJECT,lI.OL,lI.P,lI.PARAM,lI.PLAINTEXT,lI.PRE,lI.SCRIPT,lI.SECTION,lI.SELECT,lI.SOURCE,lI.STYLE,lI.SUMMARY,lI.TABLE,lI.TBODY,lI.TD,lI.TEMPLATE,lI.TEXTAREA,lI.TFOOT,lI.TH,lI.THEAD,lI.TITLE,lI.TR,lI.TRACK,lI.UL,lI.WBR,lI.XMP]),[WC.MATHML]:new Set([lI.MI,lI.MO,lI.MN,lI.MS,lI.MTEXT,lI.ANNOTATION_XML]),[WC.SVG]:new Set([lI.TITLE,lI.FOREIGN_OBJECT,lI.DESC]),[WC.XLINK]:new Set,[WC.XML]:new Set,[WC.XMLNS]:new Set},uI=new Set([lI.H1,lI.H2,lI.H3,lI.H4,lI.H5,lI.H6]);var dI,hI;JC.STYLE,JC.SCRIPT,JC.XMP,JC.IFRAME,JC.NOEMBED,JC.NOFRAMES,JC.PLAINTEXT,(hI=dI||(dI={}))[hI.DATA=0]="DATA",hI[hI.RCDATA=1]="RCDATA",hI[hI.RAWTEXT=2]="RAWTEXT",hI[hI.SCRIPT_DATA=3]="SCRIPT_DATA",hI[hI.PLAINTEXT=4]="PLAINTEXT",hI[hI.TAG_OPEN=5]="TAG_OPEN",hI[hI.END_TAG_OPEN=6]="END_TAG_OPEN",hI[hI.TAG_NAME=7]="TAG_NAME",hI[hI.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",hI[hI.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",hI[hI.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",hI[hI.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",hI[hI.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",hI[hI.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",hI[hI.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",hI[hI.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",hI[hI.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",hI[hI.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",hI[hI.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",hI[hI.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",hI[hI.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",hI[hI.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",hI[hI.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",hI[hI.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",hI[hI.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",hI[hI.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",hI[hI.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",hI[hI.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",hI[hI.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",hI[hI.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",hI[hI.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",hI[hI.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",hI[hI.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",hI[hI.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",hI[hI.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",hI[hI.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",hI[hI.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",hI[hI.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",hI[hI.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",hI[hI.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",hI[hI.BOGUS_COMMENT=40]="BOGUS_COMMENT",hI[hI.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",hI[hI.COMMENT_START=42]="COMMENT_START",hI[hI.COMMENT_START_DASH=43]="COMMENT_START_DASH",hI[hI.COMMENT=44]="COMMENT",hI[hI.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",hI[hI.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",hI[hI.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",hI[hI.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",hI[hI.COMMENT_END_DASH=49]="COMMENT_END_DASH",hI[hI.COMMENT_END=50]="COMMENT_END",hI[hI.COMMENT_END_BANG=51]="COMMENT_END_BANG",hI[hI.DOCTYPE=52]="DOCTYPE",hI[hI.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",hI[hI.DOCTYPE_NAME=54]="DOCTYPE_NAME",hI[hI.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",hI[hI.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",hI[hI.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",hI[hI.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",hI[hI.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",hI[hI.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",hI[hI.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",hI[hI.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",hI[hI.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",hI[hI.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",hI[hI.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",hI[hI.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",hI[hI.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",hI[hI.CDATA_SECTION=68]="CDATA_SECTION",hI[hI.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",hI[hI.CDATA_SECTION_END=70]="CDATA_SECTION_END",hI[hI.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",hI[hI.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND";const pI={DATA:dI.DATA,RCDATA:dI.RCDATA,RAWTEXT:dI.RAWTEXT,SCRIPT_DATA:dI.SCRIPT_DATA,PLAINTEXT:dI.PLAINTEXT,CDATA_SECTION:dI.CDATA_SECTION};function fI(e){return e>=yC.LATIN_CAPITAL_A&&e<=yC.LATIN_CAPITAL_Z}function mI(e){return function(e){return e>=yC.LATIN_SMALL_A&&e<=yC.LATIN_SMALL_Z}(e)||fI(e)}function gI(e){return mI(e)||function(e){return e>=yC.DIGIT_0&&e<=yC.DIGIT_9}(e)}function bI(e){return e+32}function yI(e){return e===yC.SPACE||e===yC.LINE_FEED||e===yC.TABULATION||e===yC.FORM_FEED}function xI(e){return yI(e)||e===yC.SOLIDUS||e===yC.GREATER_THAN_SIGN}class vI{constructor(e,t){this.options=e,this.handler=t,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=dI.DATA,this.returnState=dI.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new jC(t),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new sI(DC,(e,t)=>{this.preprocessor.pos=this.entityStartPos+t-1,this._flushCodePointConsumedAsCharacterReference(e)},t.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(CC.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:e=>{this._err(CC.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+e)},validateNumericCharacterReference:e=>{const t=function(e){return e===yC.NULL?CC.nullCharacterReference:e>1114111?CC.characterReferenceOutsideUnicodeRange:NC(e)?CC.surrogateCharacterReference:AC(e)?CC.noncharacterCharacterReference:SC(e)||e===yC.CARRIAGE_RETURN?CC.controlCharacterReference:null}(e);t&&this._err(t,1)}}:void 0)}_err(e,t=0){var n,r;null===(r=(n=this.handler).onParseError)||void 0===r||r.call(n,this.preprocessor.getError(e,t))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,this.inLoop||(this._runParsingLoop(),this.paused||null==e||e())}write(e,t,n){this.active=!0,this.preprocessor.write(e,t),this._runParsingLoop(),this.paused||null==n||n()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return!!this.preprocessor.endOfChunkHit&&(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0)}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let t=0;t<e;t++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,t){return!!this.preprocessor.startsWith(e,t)&&(this._advanceBy(e.length-1),!0)}_createStartTagToken(){this.currentToken={type:OC.START_TAG,tagName:"",tagID:ZC.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:OC.END_TAG,tagName:"",tagID:ZC.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:OC.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:OC.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,t){this.currentCharacterToken={type:e,chars:t,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,t;const n=this.currentToken;if(null===PC(n,this.currentAttr.name)){if(n.attrs.push(this.currentAttr),n.location&&this.currentLocation){(null!==(e=(t=n.location).attrs)&&void 0!==e?e:t.attrs=Object.create(null))[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(CC.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=oI(e.tagName),e.type===OC.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(CC.endTagWithAttributes),e.selfClosing&&this._err(CC.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case OC.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case OC.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case OC.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken)}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:OC.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,t){if(this.currentCharacterToken){if(this.currentCharacterToken.type===e)return void(this.currentCharacterToken.chars+=t);this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk()}this._createCharacterToken(e,t)}_emitCodePoint(e){const t=yI(e)?OC.WHITESPACE_CHARACTER:e===yC.NULL?OC.NULL_CHARACTER:OC.CHARACTER;this._appendCharToCurrentCharacterToken(t,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(OC.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=dI.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?GC.Attribute:GC.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===dI.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===dI.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===dI.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case dI.DATA:this._stateData(e);break;case dI.RCDATA:this._stateRcdata(e);break;case dI.RAWTEXT:this._stateRawtext(e);break;case dI.SCRIPT_DATA:this._stateScriptData(e);break;case dI.PLAINTEXT:this._statePlaintext(e);break;case dI.TAG_OPEN:this._stateTagOpen(e);break;case dI.END_TAG_OPEN:this._stateEndTagOpen(e);break;case dI.TAG_NAME:this._stateTagName(e);break;case dI.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(e);break;case dI.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(e);break;case dI.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(e);break;case dI.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(e);break;case dI.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(e);break;case dI.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(e);break;case dI.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(e);break;case dI.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(e);break;case dI.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(e);break;case dI.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(e);break;case dI.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(e);break;case dI.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(e);break;case dI.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(e);break;case dI.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(e);break;case dI.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(e);break;case dI.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(e);break;case dI.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(e);break;case dI.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(e);break;case dI.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(e);break;case dI.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(e);break;case dI.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(e);break;case dI.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(e);break;case dI.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(e);break;case dI.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(e);break;case dI.ATTRIBUTE_NAME:this._stateAttributeName(e);break;case dI.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(e);break;case dI.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(e);break;case dI.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(e);break;case dI.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(e);break;case dI.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(e);break;case dI.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(e);break;case dI.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(e);break;case dI.BOGUS_COMMENT:this._stateBogusComment(e);break;case dI.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(e);break;case dI.COMMENT_START:this._stateCommentStart(e);break;case dI.COMMENT_START_DASH:this._stateCommentStartDash(e);break;case dI.COMMENT:this._stateComment(e);break;case dI.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(e);break;case dI.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(e);break;case dI.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(e);break;case dI.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(e);break;case dI.COMMENT_END_DASH:this._stateCommentEndDash(e);break;case dI.COMMENT_END:this._stateCommentEnd(e);break;case dI.COMMENT_END_BANG:this._stateCommentEndBang(e);break;case dI.DOCTYPE:this._stateDoctype(e);break;case dI.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(e);break;case dI.DOCTYPE_NAME:this._stateDoctypeName(e);break;case dI.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(e);break;case dI.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(e);break;case dI.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(e);break;case dI.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(e);break;case dI.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(e);break;case dI.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(e);break;case dI.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break;case dI.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(e);break;case dI.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(e);break;case dI.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(e);break;case dI.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(e);break;case dI.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(e);break;case dI.BOGUS_DOCTYPE:this._stateBogusDoctype(e);break;case dI.CDATA_SECTION:this._stateCdataSection(e);break;case dI.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(e);break;case dI.CDATA_SECTION_END:this._stateCdataSectionEnd(e);break;case dI.CHARACTER_REFERENCE:this._stateCharacterReference();break;case dI.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(e);break;default:throw new Error("Unknown state")}}_stateData(e){switch(e){case yC.LESS_THAN_SIGN:this.state=dI.TAG_OPEN;break;case yC.AMPERSAND:this._startCharacterReference();break;case yC.NULL:this._err(CC.unexpectedNullCharacter),this._emitCodePoint(e);break;case yC.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case yC.AMPERSAND:this._startCharacterReference();break;case yC.LESS_THAN_SIGN:this.state=dI.RCDATA_LESS_THAN_SIGN;break;case yC.NULL:this._err(CC.unexpectedNullCharacter),this._emitChars(bC);break;case yC.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case yC.LESS_THAN_SIGN:this.state=dI.RAWTEXT_LESS_THAN_SIGN;break;case yC.NULL:this._err(CC.unexpectedNullCharacter),this._emitChars(bC);break;case yC.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case yC.LESS_THAN_SIGN:this.state=dI.SCRIPT_DATA_LESS_THAN_SIGN;break;case yC.NULL:this._err(CC.unexpectedNullCharacter),this._emitChars(bC);break;case yC.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case yC.NULL:this._err(CC.unexpectedNullCharacter),this._emitChars(bC);break;case yC.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateTagOpen(e){if(mI(e))this._createStartTagToken(),this.state=dI.TAG_NAME,this._stateTagName(e);else switch(e){case yC.EXCLAMATION_MARK:this.state=dI.MARKUP_DECLARATION_OPEN;break;case yC.SOLIDUS:this.state=dI.END_TAG_OPEN;break;case yC.QUESTION_MARK:this._err(CC.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=dI.BOGUS_COMMENT,this._stateBogusComment(e);break;case yC.EOF:this._err(CC.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err(CC.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=dI.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(mI(e))this._createEndTagToken(),this.state=dI.TAG_NAME,this._stateTagName(e);else switch(e){case yC.GREATER_THAN_SIGN:this._err(CC.missingEndTagName),this.state=dI.DATA;break;case yC.EOF:this._err(CC.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err(CC.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=dI.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const t=this.currentToken;switch(e){case yC.SPACE:case yC.LINE_FEED:case yC.TABULATION:case yC.FORM_FEED:this.state=dI.BEFORE_ATTRIBUTE_NAME;break;case yC.SOLIDUS:this.state=dI.SELF_CLOSING_START_TAG;break;case yC.GREATER_THAN_SIGN:this.state=dI.DATA,this.emitCurrentTagToken();break;case yC.NULL:this._err(CC.unexpectedNullCharacter),t.tagName+=bC;break;case yC.EOF:this._err(CC.eofInTag),this._emitEOFToken();break;default:t.tagName+=String.fromCodePoint(fI(e)?bI(e):e)}}_stateRcdataLessThanSign(e){e===yC.SOLIDUS?this.state=dI.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=dI.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){mI(e)?(this.state=dI.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=dI.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();this.currentToken.tagName=this.lastStartTagName;switch(this.preprocessor.peek(this.lastStartTagName.length)){case yC.SPACE:case yC.LINE_FEED:case yC.TABULATION:case yC.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=dI.BEFORE_ATTRIBUTE_NAME,!1;case yC.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=dI.SELF_CLOSING_START_TAG,!1;case yC.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=dI.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=dI.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===yC.SOLIDUS?this.state=dI.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=dI.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){mI(e)?(this.state=dI.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=dI.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=dI.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case yC.SOLIDUS:this.state=dI.SCRIPT_DATA_END_TAG_OPEN;break;case yC.EXCLAMATION_MARK:this.state=dI.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=dI.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){mI(e)?(this.state=dI.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=dI.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=dI.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===yC.HYPHEN_MINUS?(this.state=dI.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=dI.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===yC.HYPHEN_MINUS?(this.state=dI.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=dI.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case yC.HYPHEN_MINUS:this.state=dI.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case yC.LESS_THAN_SIGN:this.state=dI.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case yC.NULL:this._err(CC.unexpectedNullCharacter),this._emitChars(bC);break;case yC.EOF:this._err(CC.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case yC.HYPHEN_MINUS:this.state=dI.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case yC.LESS_THAN_SIGN:this.state=dI.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case yC.NULL:this._err(CC.unexpectedNullCharacter),this.state=dI.SCRIPT_DATA_ESCAPED,this._emitChars(bC);break;case yC.EOF:this._err(CC.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=dI.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case yC.HYPHEN_MINUS:this._emitChars("-");break;case yC.LESS_THAN_SIGN:this.state=dI.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case yC.GREATER_THAN_SIGN:this.state=dI.SCRIPT_DATA,this._emitChars(">");break;case yC.NULL:this._err(CC.unexpectedNullCharacter),this.state=dI.SCRIPT_DATA_ESCAPED,this._emitChars(bC);break;case yC.EOF:this._err(CC.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=dI.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===yC.SOLIDUS?this.state=dI.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:mI(e)?(this._emitChars("<"),this.state=dI.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=dI.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){mI(e)?(this.state=dI.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=dI.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=dI.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(TC,!1)&&xI(this.preprocessor.peek(TC.length))){this._emitCodePoint(e);for(let e=0;e<TC.length;e++)this._emitCodePoint(this._consume());this.state=dI.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=dI.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case yC.HYPHEN_MINUS:this.state=dI.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case yC.LESS_THAN_SIGN:this.state=dI.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case yC.NULL:this._err(CC.unexpectedNullCharacter),this._emitChars(bC);break;case yC.EOF:this._err(CC.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case yC.HYPHEN_MINUS:this.state=dI.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case yC.LESS_THAN_SIGN:this.state=dI.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case yC.NULL:this._err(CC.unexpectedNullCharacter),this.state=dI.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(bC);break;case yC.EOF:this._err(CC.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=dI.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case yC.HYPHEN_MINUS:this._emitChars("-");break;case yC.LESS_THAN_SIGN:this.state=dI.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case yC.GREATER_THAN_SIGN:this.state=dI.SCRIPT_DATA,this._emitChars(">");break;case yC.NULL:this._err(CC.unexpectedNullCharacter),this.state=dI.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(bC);break;case yC.EOF:this._err(CC.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=dI.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===yC.SOLIDUS?(this.state=dI.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=dI.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(TC,!1)&&xI(this.preprocessor.peek(TC.length))){this._emitCodePoint(e);for(let e=0;e<TC.length;e++)this._emitCodePoint(this._consume());this.state=dI.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=dI.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case yC.SPACE:case yC.LINE_FEED:case yC.TABULATION:case yC.FORM_FEED:break;case yC.SOLIDUS:case yC.GREATER_THAN_SIGN:case yC.EOF:this.state=dI.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case yC.EQUALS_SIGN:this._err(CC.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=dI.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=dI.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case yC.SPACE:case yC.LINE_FEED:case yC.TABULATION:case yC.FORM_FEED:case yC.SOLIDUS:case yC.GREATER_THAN_SIGN:case yC.EOF:this._leaveAttrName(),this.state=dI.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case yC.EQUALS_SIGN:this._leaveAttrName(),this.state=dI.BEFORE_ATTRIBUTE_VALUE;break;case yC.QUOTATION_MARK:case yC.APOSTROPHE:case yC.LESS_THAN_SIGN:this._err(CC.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break;case yC.NULL:this._err(CC.unexpectedNullCharacter),this.currentAttr.name+=bC;break;default:this.currentAttr.name+=String.fromCodePoint(fI(e)?bI(e):e)}}_stateAfterAttributeName(e){switch(e){case yC.SPACE:case yC.LINE_FEED:case yC.TABULATION:case yC.FORM_FEED:break;case yC.SOLIDUS:this.state=dI.SELF_CLOSING_START_TAG;break;case yC.EQUALS_SIGN:this.state=dI.BEFORE_ATTRIBUTE_VALUE;break;case yC.GREATER_THAN_SIGN:this.state=dI.DATA,this.emitCurrentTagToken();break;case yC.EOF:this._err(CC.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=dI.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case yC.SPACE:case yC.LINE_FEED:case yC.TABULATION:case yC.FORM_FEED:break;case yC.QUOTATION_MARK:this.state=dI.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case yC.APOSTROPHE:this.state=dI.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case yC.GREATER_THAN_SIGN:this._err(CC.missingAttributeValue),this.state=dI.DATA,this.emitCurrentTagToken();break;default:this.state=dI.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case yC.QUOTATION_MARK:this.state=dI.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case yC.AMPERSAND:this._startCharacterReference();break;case yC.NULL:this._err(CC.unexpectedNullCharacter),this.currentAttr.value+=bC;break;case yC.EOF:this._err(CC.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case yC.APOSTROPHE:this.state=dI.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case yC.AMPERSAND:this._startCharacterReference();break;case yC.NULL:this._err(CC.unexpectedNullCharacter),this.currentAttr.value+=bC;break;case yC.EOF:this._err(CC.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case yC.SPACE:case yC.LINE_FEED:case yC.TABULATION:case yC.FORM_FEED:this._leaveAttrValue(),this.state=dI.BEFORE_ATTRIBUTE_NAME;break;case yC.AMPERSAND:this._startCharacterReference();break;case yC.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=dI.DATA,this.emitCurrentTagToken();break;case yC.NULL:this._err(CC.unexpectedNullCharacter),this.currentAttr.value+=bC;break;case yC.QUOTATION_MARK:case yC.APOSTROPHE:case yC.LESS_THAN_SIGN:case yC.EQUALS_SIGN:case yC.GRAVE_ACCENT:this._err(CC.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break;case yC.EOF:this._err(CC.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case yC.SPACE:case yC.LINE_FEED:case yC.TABULATION:case yC.FORM_FEED:this._leaveAttrValue(),this.state=dI.BEFORE_ATTRIBUTE_NAME;break;case yC.SOLIDUS:this._leaveAttrValue(),this.state=dI.SELF_CLOSING_START_TAG;break;case yC.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=dI.DATA,this.emitCurrentTagToken();break;case yC.EOF:this._err(CC.eofInTag),this._emitEOFToken();break;default:this._err(CC.missingWhitespaceBetweenAttributes),this.state=dI.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case yC.GREATER_THAN_SIGN:this.currentToken.selfClosing=!0,this.state=dI.DATA,this.emitCurrentTagToken();break;case yC.EOF:this._err(CC.eofInTag),this._emitEOFToken();break;default:this._err(CC.unexpectedSolidusInTag),this.state=dI.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const t=this.currentToken;switch(e){case yC.GREATER_THAN_SIGN:this.state=dI.DATA,this.emitCurrentComment(t);break;case yC.EOF:this.emitCurrentComment(t),this._emitEOFToken();break;case yC.NULL:this._err(CC.unexpectedNullCharacter),t.data+=bC;break;default:t.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(vC,!0)?(this._createCommentToken(vC.length+1),this.state=dI.COMMENT_START):this._consumeSequenceIfMatch(_C,!1)?(this.currentLocation=this.getCurrentLocation(_C.length+1),this.state=dI.DOCTYPE):this._consumeSequenceIfMatch(EC,!0)?this.inForeignNode?this.state=dI.CDATA_SECTION:(this._err(CC.cdataInHtmlContent),this._createCommentToken(EC.length+1),this.currentToken.data="[CDATA[",this.state=dI.BOGUS_COMMENT):this._ensureHibernation()||(this._err(CC.incorrectlyOpenedComment),this._createCommentToken(2),this.state=dI.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case yC.HYPHEN_MINUS:this.state=dI.COMMENT_START_DASH;break;case yC.GREATER_THAN_SIGN:{this._err(CC.abruptClosingOfEmptyComment),this.state=dI.DATA;const e=this.currentToken;this.emitCurrentComment(e);break}default:this.state=dI.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const t=this.currentToken;switch(e){case yC.HYPHEN_MINUS:this.state=dI.COMMENT_END;break;case yC.GREATER_THAN_SIGN:this._err(CC.abruptClosingOfEmptyComment),this.state=dI.DATA,this.emitCurrentComment(t);break;case yC.EOF:this._err(CC.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=dI.COMMENT,this._stateComment(e)}}_stateComment(e){const t=this.currentToken;switch(e){case yC.HYPHEN_MINUS:this.state=dI.COMMENT_END_DASH;break;case yC.LESS_THAN_SIGN:t.data+="<",this.state=dI.COMMENT_LESS_THAN_SIGN;break;case yC.NULL:this._err(CC.unexpectedNullCharacter),t.data+=bC;break;case yC.EOF:this._err(CC.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const t=this.currentToken;switch(e){case yC.EXCLAMATION_MARK:t.data+="!",this.state=dI.COMMENT_LESS_THAN_SIGN_BANG;break;case yC.LESS_THAN_SIGN:t.data+="<";break;default:this.state=dI.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===yC.HYPHEN_MINUS?this.state=dI.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=dI.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===yC.HYPHEN_MINUS?this.state=dI.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=dI.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==yC.GREATER_THAN_SIGN&&e!==yC.EOF&&this._err(CC.nestedComment),this.state=dI.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const t=this.currentToken;switch(e){case yC.HYPHEN_MINUS:this.state=dI.COMMENT_END;break;case yC.EOF:this._err(CC.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=dI.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const t=this.currentToken;switch(e){case yC.GREATER_THAN_SIGN:this.state=dI.DATA,this.emitCurrentComment(t);break;case yC.EXCLAMATION_MARK:this.state=dI.COMMENT_END_BANG;break;case yC.HYPHEN_MINUS:t.data+="-";break;case yC.EOF:this._err(CC.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--",this.state=dI.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const t=this.currentToken;switch(e){case yC.HYPHEN_MINUS:t.data+="--!",this.state=dI.COMMENT_END_DASH;break;case yC.GREATER_THAN_SIGN:this._err(CC.incorrectlyClosedComment),this.state=dI.DATA,this.emitCurrentComment(t);break;case yC.EOF:this._err(CC.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--!",this.state=dI.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case yC.SPACE:case yC.LINE_FEED:case yC.TABULATION:case yC.FORM_FEED:this.state=dI.BEFORE_DOCTYPE_NAME;break;case yC.GREATER_THAN_SIGN:this.state=dI.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break;case yC.EOF:{this._err(CC.eofInDoctype),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._err(CC.missingWhitespaceBeforeDoctypeName),this.state=dI.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(fI(e))this._createDoctypeToken(String.fromCharCode(bI(e))),this.state=dI.DOCTYPE_NAME;else switch(e){case yC.SPACE:case yC.LINE_FEED:case yC.TABULATION:case yC.FORM_FEED:break;case yC.NULL:this._err(CC.unexpectedNullCharacter),this._createDoctypeToken(bC),this.state=dI.DOCTYPE_NAME;break;case yC.GREATER_THAN_SIGN:{this._err(CC.missingDoctypeName),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=dI.DATA;break}case yC.EOF:{this._err(CC.eofInDoctype),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=dI.DOCTYPE_NAME}}_stateDoctypeName(e){const t=this.currentToken;switch(e){case yC.SPACE:case yC.LINE_FEED:case yC.TABULATION:case yC.FORM_FEED:this.state=dI.AFTER_DOCTYPE_NAME;break;case yC.GREATER_THAN_SIGN:this.state=dI.DATA,this.emitCurrentDoctype(t);break;case yC.NULL:this._err(CC.unexpectedNullCharacter),t.name+=bC;break;case yC.EOF:this._err(CC.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.name+=String.fromCodePoint(fI(e)?bI(e):e)}}_stateAfterDoctypeName(e){const t=this.currentToken;switch(e){case yC.SPACE:case yC.LINE_FEED:case yC.TABULATION:case yC.FORM_FEED:break;case yC.GREATER_THAN_SIGN:this.state=dI.DATA,this.emitCurrentDoctype(t);break;case yC.EOF:this._err(CC.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._consumeSequenceIfMatch(wC,!1)?this.state=dI.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(kC,!1)?this.state=dI.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(CC.invalidCharacterSequenceAfterDoctypeName),t.forceQuirks=!0,this.state=dI.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const t=this.currentToken;switch(e){case yC.SPACE:case yC.LINE_FEED:case yC.TABULATION:case yC.FORM_FEED:this.state=dI.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case yC.QUOTATION_MARK:this._err(CC.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=dI.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case yC.APOSTROPHE:this._err(CC.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=dI.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case yC.GREATER_THAN_SIGN:this._err(CC.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=dI.DATA,this.emitCurrentDoctype(t);break;case yC.EOF:this._err(CC.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(CC.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=dI.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case yC.SPACE:case yC.LINE_FEED:case yC.TABULATION:case yC.FORM_FEED:break;case yC.QUOTATION_MARK:t.publicId="",this.state=dI.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case yC.APOSTROPHE:t.publicId="",this.state=dI.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case yC.GREATER_THAN_SIGN:this._err(CC.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=dI.DATA,this.emitCurrentDoctype(t);break;case yC.EOF:this._err(CC.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(CC.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=dI.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case yC.QUOTATION_MARK:this.state=dI.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case yC.NULL:this._err(CC.unexpectedNullCharacter),t.publicId+=bC;break;case yC.GREATER_THAN_SIGN:this._err(CC.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=dI.DATA;break;case yC.EOF:this._err(CC.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case yC.APOSTROPHE:this.state=dI.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case yC.NULL:this._err(CC.unexpectedNullCharacter),t.publicId+=bC;break;case yC.GREATER_THAN_SIGN:this._err(CC.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=dI.DATA;break;case yC.EOF:this._err(CC.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case yC.SPACE:case yC.LINE_FEED:case yC.TABULATION:case yC.FORM_FEED:this.state=dI.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case yC.GREATER_THAN_SIGN:this.state=dI.DATA,this.emitCurrentDoctype(t);break;case yC.QUOTATION_MARK:this._err(CC.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=dI.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case yC.APOSTROPHE:this._err(CC.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=dI.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case yC.EOF:this._err(CC.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(CC.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=dI.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const t=this.currentToken;switch(e){case yC.SPACE:case yC.LINE_FEED:case yC.TABULATION:case yC.FORM_FEED:break;case yC.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=dI.DATA;break;case yC.QUOTATION_MARK:t.systemId="",this.state=dI.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case yC.APOSTROPHE:t.systemId="",this.state=dI.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case yC.EOF:this._err(CC.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(CC.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=dI.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const t=this.currentToken;switch(e){case yC.SPACE:case yC.LINE_FEED:case yC.TABULATION:case yC.FORM_FEED:this.state=dI.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case yC.QUOTATION_MARK:this._err(CC.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=dI.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case yC.APOSTROPHE:this._err(CC.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=dI.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case yC.GREATER_THAN_SIGN:this._err(CC.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=dI.DATA,this.emitCurrentDoctype(t);break;case yC.EOF:this._err(CC.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(CC.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=dI.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case yC.SPACE:case yC.LINE_FEED:case yC.TABULATION:case yC.FORM_FEED:break;case yC.QUOTATION_MARK:t.systemId="",this.state=dI.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case yC.APOSTROPHE:t.systemId="",this.state=dI.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case yC.GREATER_THAN_SIGN:this._err(CC.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=dI.DATA,this.emitCurrentDoctype(t);break;case yC.EOF:this._err(CC.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(CC.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=dI.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case yC.QUOTATION_MARK:this.state=dI.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case yC.NULL:this._err(CC.unexpectedNullCharacter),t.systemId+=bC;break;case yC.GREATER_THAN_SIGN:this._err(CC.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=dI.DATA;break;case yC.EOF:this._err(CC.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case yC.APOSTROPHE:this.state=dI.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case yC.NULL:this._err(CC.unexpectedNullCharacter),t.systemId+=bC;break;case yC.GREATER_THAN_SIGN:this._err(CC.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=dI.DATA;break;case yC.EOF:this._err(CC.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case yC.SPACE:case yC.LINE_FEED:case yC.TABULATION:case yC.FORM_FEED:break;case yC.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=dI.DATA;break;case yC.EOF:this._err(CC.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(CC.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=dI.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const t=this.currentToken;switch(e){case yC.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=dI.DATA;break;case yC.NULL:this._err(CC.unexpectedNullCharacter);break;case yC.EOF:this.emitCurrentDoctype(t),this._emitEOFToken()}}_stateCdataSection(e){switch(e){case yC.RIGHT_SQUARE_BRACKET:this.state=dI.CDATA_SECTION_BRACKET;break;case yC.EOF:this._err(CC.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===yC.RIGHT_SQUARE_BRACKET?this.state=dI.CDATA_SECTION_END:(this._emitChars("]"),this.state=dI.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case yC.GREATER_THAN_SIGN:this.state=dI.DATA;break;case yC.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=dI.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0){if(!this.preprocessor.lastChunkWritten)return this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,void(this.preprocessor.endOfChunkHit=!0);e=this.entityDecoder.end()}0===e?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(yC.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&gI(this.preprocessor.peek(1))?dI.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){gI(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===yC.SEMICOLON&&this._err(CC.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}const EI=new Set([ZC.DD,ZC.DT,ZC.LI,ZC.OPTGROUP,ZC.OPTION,ZC.P,ZC.RB,ZC.RP,ZC.RT,ZC.RTC]),_I=new Set([...EI,ZC.CAPTION,ZC.COLGROUP,ZC.TBODY,ZC.TD,ZC.TFOOT,ZC.TH,ZC.THEAD,ZC.TR]),TI=new Set([ZC.APPLET,ZC.CAPTION,ZC.HTML,ZC.MARQUEE,ZC.OBJECT,ZC.TABLE,ZC.TD,ZC.TEMPLATE,ZC.TH]),wI=new Set([...TI,ZC.OL,ZC.UL]),kI=new Set([...TI,ZC.BUTTON]),NI=new Set([ZC.ANNOTATION_XML,ZC.MI,ZC.MN,ZC.MO,ZC.MS,ZC.MTEXT]),SI=new Set([ZC.DESC,ZC.FOREIGN_OBJECT,ZC.TITLE]),AI=new Set([ZC.TR,ZC.TEMPLATE,ZC.HTML]),CI=new Set([ZC.TBODY,ZC.TFOOT,ZC.THEAD,ZC.TEMPLATE,ZC.HTML]),II=new Set([ZC.TABLE,ZC.TEMPLATE,ZC.HTML]),jI=new Set([ZC.TD,ZC.TH]);class OI{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,t,n){this.treeAdapter=t,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=ZC.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===ZC.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===WC.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,t){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=t,this.currentTagId=t,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,t,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,t){const n=this._indexOf(e);this.items[n]=t,n===this.stackTop&&(this.current=t)}insertAfter(e,t,n){const r=this._indexOf(e)+1;this.items.splice(r,0,t),this.tagIDs.splice(r,0,n),this.stackTop++,r===this.stackTop&&this._updateCurrentElement(),this.current&&void 0!==this.currentTagId&&this.handler.onItemPush(this.current,this.currentTagId,r===this.stackTop)}popUntilTagNamePopped(e){let t=this.stackTop+1;do{t=this.tagIDs.lastIndexOf(e,t-1)}while(t>0&&this.treeAdapter.getNamespaceURI(this.items[t])!==WC.HTML);this.shortenToLength(Math.max(t,0))}shortenToLength(e){for(;this.stackTop>=e;){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,this.stackTop<e)}}popUntilElementPopped(e){const t=this._indexOf(e);this.shortenToLength(Math.max(t,0))}popUntilPopped(e,t){const n=this._indexOfTagNames(e,t);this.shortenToLength(Math.max(n,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(uI,WC.HTML)}popUntilTableCellPopped(){this.popUntilPopped(jI,WC.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,t){for(let n=this.stackTop;n>=0;n--)if(e.has(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===t)return n;return-1}clearBackTo(e,t){const n=this._indexOfTagNames(e,t);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(II,WC.HTML)}clearBackToTableBodyContext(){this.clearBackTo(CI,WC.HTML)}clearBackToTableRowContext(){this.clearBackTo(AI,WC.HTML)}remove(e){const t=this._indexOf(e);t>=0&&(t===this.stackTop?this.pop():(this.items.splice(t,1),this.tagIDs.splice(t,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===ZC.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const t=this._indexOf(e)-1;return t>=0?this.items[t]:null}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.tagIDs[0]===ZC.HTML}hasInDynamicScope(e,t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];switch(this.treeAdapter.getNamespaceURI(this.items[n])){case WC.HTML:if(r===e)return!0;if(t.has(r))return!1;break;case WC.SVG:if(SI.has(r))return!1;break;case WC.MATHML:if(NI.has(r))return!1}}return!0}hasInScope(e){return this.hasInDynamicScope(e,TI)}hasInListItemScope(e){return this.hasInDynamicScope(e,wI)}hasInButtonScope(e){return this.hasInDynamicScope(e,kI)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const t=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case WC.HTML:if(uI.has(t))return!0;if(TI.has(t))return!1;break;case WC.SVG:if(SI.has(t))return!1;break;case WC.MATHML:if(NI.has(t))return!1}}return!0}hasInTableScope(e){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===WC.HTML)switch(this.tagIDs[t]){case e:return!0;case ZC.TABLE:case ZC.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===WC.HTML)switch(this.tagIDs[e]){case ZC.TBODY:case ZC.THEAD:case ZC.TFOOT:return!0;case ZC.TABLE:case ZC.HTML:return!1}return!0}hasInSelectScope(e){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===WC.HTML)switch(this.tagIDs[t]){case e:return!0;case ZC.OPTION:case ZC.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;void 0!==this.currentTagId&&EI.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;void 0!==this.currentTagId&&_I.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;void 0!==this.currentTagId&&this.currentTagId!==e&&_I.has(this.currentTagId);)this.pop()}}var RI,PI;(PI=RI||(RI={}))[PI.Marker=0]="Marker",PI[PI.Element=1]="Element";const DI={type:RI.Marker};class LI{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,t){const n=[],r=t.length,s=this.treeAdapter.getTagName(e),a=this.treeAdapter.getNamespaceURI(e);for(let i=0;i<this.entries.length;i++){const e=this.entries[i];if(e.type===RI.Marker)break;const{element:t}=e;if(this.treeAdapter.getTagName(t)===s&&this.treeAdapter.getNamespaceURI(t)===a){const e=this.treeAdapter.getAttrList(t);e.length===r&&n.push({idx:i,attrs:e})}}return n}_ensureNoahArkCondition(e){if(this.entries.length<3)return;const t=this.treeAdapter.getAttrList(e),n=this._getNoahArkConditionCandidates(e,t);if(n.length<3)return;const r=new Map(t.map(e=>[e.name,e.value]));let s=0;for(let a=0;a<n.length;a++){const e=n[a];e.attrs.every(e=>r.get(e.name)===e.value)&&(s+=1,s>=3&&this.entries.splice(e.idx,1))}}insertMarker(){this.entries.unshift(DI)}pushElement(e,t){this._ensureNoahArkCondition(e),this.entries.unshift({type:RI.Element,element:e,token:t})}insertElementAfterBookmark(e,t){const n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:RI.Element,element:e,token:t})}removeEntry(e){const t=this.entries.indexOf(e);-1!==t&&this.entries.splice(t,1)}clearToLastMarker(){const e=this.entries.indexOf(DI);-1===e?this.entries.length=0:this.entries.splice(0,e+1)}getElementEntryInScopeWithTagName(e){const t=this.entries.find(t=>t.type===RI.Marker||this.treeAdapter.getTagName(t.element)===e);return t&&t.type===RI.Element?t:null}getElementEntry(e){return this.entries.find(t=>t.type===RI.Element&&t.element===e)}}const MI={createDocument:()=>({nodeName:"#document",mode:KC.NO_QUIRKS,childNodes:[]}),createDocumentFragment:()=>({nodeName:"#document-fragment",childNodes:[]}),createElement:(e,t,n)=>({nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}),createCommentNode:e=>({nodeName:"#comment",data:e,parentNode:null}),createTextNode:e=>({nodeName:"#text",value:e,parentNode:null}),appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent:e=>e.content,setDocumentType(e,t,n,r){const s=e.childNodes.find(e=>"#documentType"===e.nodeName);if(s)s.name=t,s.publicId=n,s.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};MI.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode:e=>e.mode,detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(MI.isTextNode(n))return void(n.value+=t)}MI.appendChild(e,MI.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&MI.isTextNode(r)?r.value+=t:MI.insertBefore(e,MI.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(e=>e.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild:e=>e.childNodes[0],getChildNodes:e=>e.childNodes,getParentNode:e=>e.parentNode,getAttrList:e=>e.attrs,getTagName:e=>e.tagName,getNamespaceURI:e=>e.namespaceURI,getTextNodeContent:e=>e.value,getCommentNodeContent:e=>e.data,getDocumentTypeNodeName:e=>e.name,getDocumentTypeNodePublicId:e=>e.publicId,getDocumentTypeNodeSystemId:e=>e.systemId,isTextNode:e=>"#text"===e.nodeName,isCommentNode:e=>"#comment"===e.nodeName,isDocumentTypeNode:e=>"#documentType"===e.nodeName,isElementNode:e=>Object.prototype.hasOwnProperty.call(e,"tagName"),setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation:e=>e.sourceCodeLocation,updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},BI="html",UI=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],FI=[...UI,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],HI=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),zI=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],GI=[...zI,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function $I(e,t){return t.some(t=>e.startsWith(t))}const WI="text/html",qI="application/xhtml+xml",VI=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),YI=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:WC.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:WC.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:WC.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:WC.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:WC.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:WC.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:WC.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:WC.XML}],["xml:space",{prefix:"xml",name:"space",namespace:WC.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:WC.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:WC.XMLNS}]]),KI=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),QI=new Set([ZC.B,ZC.BIG,ZC.BLOCKQUOTE,ZC.BODY,ZC.BR,ZC.CENTER,ZC.CODE,ZC.DD,ZC.DIV,ZC.DL,ZC.DT,ZC.EM,ZC.EMBED,ZC.H1,ZC.H2,ZC.H3,ZC.H4,ZC.H5,ZC.H6,ZC.HEAD,ZC.HR,ZC.I,ZC.IMG,ZC.LI,ZC.LISTING,ZC.MENU,ZC.META,ZC.NOBR,ZC.OL,ZC.P,ZC.PRE,ZC.RUBY,ZC.S,ZC.SMALL,ZC.SPAN,ZC.STRONG,ZC.STRIKE,ZC.SUB,ZC.SUP,ZC.TABLE,ZC.TT,ZC.U,ZC.UL,ZC.VAR]);function JI(e){for(let t=0;t<e.attrs.length;t++)if("definitionurl"===e.attrs[t].name){e.attrs[t].name="definitionURL";break}}function XI(e){for(let t=0;t<e.attrs.length;t++){const n=VI.get(e.attrs[t].name);null!=n&&(e.attrs[t].name=n)}}function ZI(e){for(let t=0;t<e.attrs.length;t++){const n=YI.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function ej(e,t,n,r){return(!r||r===WC.HTML)&&function(e,t,n){if(t===WC.MATHML&&e===ZC.ANNOTATION_XML)for(let r=0;r<n.length;r++)if(n[r].name===VC.ENCODING){const e=n[r].value.toLowerCase();return e===WI||e===qI}return t===WC.SVG&&(e===ZC.FOREIGN_OBJECT||e===ZC.DESC||e===ZC.TITLE)}(e,t,n)||(!r||r===WC.MATHML)&&function(e,t){return t===WC.MATHML&&(e===ZC.MI||e===ZC.MO||e===ZC.MN||e===ZC.MS||e===ZC.MTEXT)}(e,t)}var tj,nj;(nj=tj||(tj={}))[nj.INITIAL=0]="INITIAL",nj[nj.BEFORE_HTML=1]="BEFORE_HTML",nj[nj.BEFORE_HEAD=2]="BEFORE_HEAD",nj[nj.IN_HEAD=3]="IN_HEAD",nj[nj.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",nj[nj.AFTER_HEAD=5]="AFTER_HEAD",nj[nj.IN_BODY=6]="IN_BODY",nj[nj.TEXT=7]="TEXT",nj[nj.IN_TABLE=8]="IN_TABLE",nj[nj.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",nj[nj.IN_CAPTION=10]="IN_CAPTION",nj[nj.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",nj[nj.IN_TABLE_BODY=12]="IN_TABLE_BODY",nj[nj.IN_ROW=13]="IN_ROW",nj[nj.IN_CELL=14]="IN_CELL",nj[nj.IN_SELECT=15]="IN_SELECT",nj[nj.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",nj[nj.IN_TEMPLATE=17]="IN_TEMPLATE",nj[nj.AFTER_BODY=18]="AFTER_BODY",nj[nj.IN_FRAMESET=19]="IN_FRAMESET",nj[nj.AFTER_FRAMESET=20]="AFTER_FRAMESET",nj[nj.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",nj[nj.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET";const rj={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},sj=new Set([ZC.TABLE,ZC.TBODY,ZC.TFOOT,ZC.THEAD,ZC.TR]),aj={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:MI,onParseError:null};class ij{constructor(e,t,n=null,r=null){this.fragmentContext=n,this.scriptHandler=r,this.currentToken=null,this.stopped=!1,this.insertionMode=tj.INITIAL,this.originalInsertionMode=tj.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...aj,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=null!=t?t:this.treeAdapter.createDocument(),this.tokenizer=new vI(this.options,this),this.activeFormattingElements=new LI(this.treeAdapter),this.fragmentContextID=n?oI(this.treeAdapter.getTagName(n)):ZC.UNKNOWN,this._setContextModes(null!=n?n:this.document,this.fragmentContextID),this.openElements=new OI(this.document,this.treeAdapter,this)}static parse(e,t){const n=new this(t);return n.tokenizer.write(e,!0),n.document}static getFragmentParser(e,t){const n={...aj,...t};null!=e||(e=n.treeAdapter.createElement(JC.TEMPLATE,WC.HTML,[]));const r=n.treeAdapter.createElement("documentmock",WC.HTML,[]),s=new this(n,r,e);return s.fragmentContextID===ZC.TEMPLATE&&s.tmplInsertionModeStack.unshift(tj.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),t=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,t),t}_err(e,t,n){var r;if(!this.onParseError)return;const s=null!==(r=e.location)&&void 0!==r?r:rj,a={code:t,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:n?s.startLine:s.endLine,endCol:n?s.startCol:s.endCol,endOffset:n?s.startOffset:s.endOffset};this.onParseError(a)}onItemPush(e,t,n){var r,s;null===(s=(r=this.treeAdapter).onItemPush)||void 0===s||s.call(r,e),n&&this.openElements.stackTop>0&&this._setContextModes(e,t)}onItemPop(e,t){var n,r;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),null===(r=(n=this.treeAdapter).onItemPop)||void 0===r||r.call(n,e,this.openElements.current),t){let e,t;0===this.openElements.stackTop&&this.fragmentContext?(e=this.fragmentContext,t=this.fragmentContextID):({current:e,currentTagId:t}=this.openElements),this._setContextModes(e,t)}}_setContextModes(e,t){const n=e===this.document||e&&this.treeAdapter.getNamespaceURI(e)===WC.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&void 0!==e&&void 0!==t&&!this._isIntegrationPoint(t,e)}_switchToTextParsing(e,t){this._insertElement(e,WC.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=tj.TEXT}switchToPlaintextParsing(){this.insertionMode=tj.TEXT,this.originalInsertionMode=tj.IN_BODY,this.tokenizer.state=pI.PLAINTEXT}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===JC.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===WC.HTML)switch(this.fragmentContextID){case ZC.TITLE:case ZC.TEXTAREA:this.tokenizer.state=pI.RCDATA;break;case ZC.STYLE:case ZC.XMP:case ZC.IFRAME:case ZC.NOEMBED:case ZC.NOFRAMES:case ZC.NOSCRIPT:this.tokenizer.state=pI.RAWTEXT;break;case ZC.SCRIPT:this.tokenizer.state=pI.SCRIPT_DATA;break;case ZC.PLAINTEXT:this.tokenizer.state=pI.PLAINTEXT}}_setDocumentType(e){const t=e.name||"",n=e.publicId||"",r=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,t,n,r),e.location){const t=this.treeAdapter.getChildNodes(this.document).find(e=>this.treeAdapter.isDocumentTypeNode(e));t&&this.treeAdapter.setNodeSourceCodeLocation(t,e.location)}}_attachElementToTree(e,t){if(this.options.sourceCodeLocationInfo){const n=t&&{...t,startTag:t};this.treeAdapter.setNodeSourceCodeLocation(e,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const t=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(null!=t?t:this.document,e)}}_appendElement(e,t){const n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location)}_insertElement(e,t){const n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID)}_insertFakeElement(e,t){const n=this.treeAdapter.createElement(e,WC.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,t)}_insertTemplate(e){const t=this.treeAdapter.createElement(e.tagName,WC.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,n),this._attachElementToTree(t,e.location),this.openElements.push(t,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(JC.HTML,WC.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,ZC.HTML)}_appendCommentNode(e,t){const n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,e.location)}_insertCharacters(e){let t,n;if(this._shouldFosterParentOnInsertion()?(({parent:t,beforeElement:n}=this._findFosterParentingLocation()),n?this.treeAdapter.insertTextBefore(t,e.chars,n):this.treeAdapter.insertText(t,e.chars)):(t=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(t,e.chars)),!e.location)return;const r=this.treeAdapter.getChildNodes(t),s=n?r.lastIndexOf(n):r.length,a=r[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:t,endCol:n,endOffset:r}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:t,endCol:n,endOffset:r})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,e.location)}_adoptNodes(e,t){for(let n=this.treeAdapter.getFirstChild(e);n;n=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(t,n)}_setEndLocation(e,t){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&t.location){const n=t.location,r=this.treeAdapter.getTagName(e),s=t.type===OC.END_TAG&&r===t.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,s)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let t,n;return 0===this.openElements.stackTop&&this.fragmentContext?(t=this.fragmentContext,n=this.fragmentContextID):({current:t,currentTagId:n}=this.openElements),(e.tagID!==ZC.SVG||this.treeAdapter.getTagName(t)!==JC.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(t)!==WC.MATHML)&&(this.tokenizer.inForeignNode||(e.tagID===ZC.MGLYPH||e.tagID===ZC.MALIGNMARK)&&void 0!==n&&!this._isIntegrationPoint(n,t,WC.HTML))}_processToken(e){switch(e.type){case OC.CHARACTER:this.onCharacter(e);break;case OC.NULL_CHARACTER:this.onNullCharacter(e);break;case OC.COMMENT:this.onComment(e);break;case OC.DOCTYPE:this.onDoctype(e);break;case OC.START_TAG:this._processStartTag(e);break;case OC.END_TAG:this.onEndTag(e);break;case OC.EOF:this.onEof(e);break;case OC.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(e)}}_isIntegrationPoint(e,t,n){return ej(e,this.treeAdapter.getNamespaceURI(t),this.treeAdapter.getAttrList(t),n)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const t=this.activeFormattingElements.entries.findIndex(e=>e.type===RI.Marker||this.openElements.contains(e.element));for(let n=-1===t?e-1:t-1;n>=0;n--){const e=this.activeFormattingElements.entries[n];this._insertElement(e.token,this.treeAdapter.getNamespaceURI(e.element)),e.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=tj.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(ZC.P),this.openElements.popUntilTagNamePopped(ZC.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(0===e&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case ZC.TR:return void(this.insertionMode=tj.IN_ROW);case ZC.TBODY:case ZC.THEAD:case ZC.TFOOT:return void(this.insertionMode=tj.IN_TABLE_BODY);case ZC.CAPTION:return void(this.insertionMode=tj.IN_CAPTION);case ZC.COLGROUP:return void(this.insertionMode=tj.IN_COLUMN_GROUP);case ZC.TABLE:return void(this.insertionMode=tj.IN_TABLE);case ZC.BODY:return void(this.insertionMode=tj.IN_BODY);case ZC.FRAMESET:return void(this.insertionMode=tj.IN_FRAMESET);case ZC.SELECT:return void this._resetInsertionModeForSelect(e);case ZC.TEMPLATE:return void(this.insertionMode=this.tmplInsertionModeStack[0]);case ZC.HTML:return void(this.insertionMode=this.headElement?tj.AFTER_HEAD:tj.BEFORE_HEAD);case ZC.TD:case ZC.TH:if(e>0)return void(this.insertionMode=tj.IN_CELL);break;case ZC.HEAD:if(e>0)return void(this.insertionMode=tj.IN_HEAD)}this.insertionMode=tj.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let t=e-1;t>0;t--){const e=this.openElements.tagIDs[t];if(e===ZC.TEMPLATE)break;if(e===ZC.TABLE)return void(this.insertionMode=tj.IN_SELECT_IN_TABLE)}this.insertionMode=tj.IN_SELECT}_isElementCausesFosterParenting(e){return sj.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&void 0!==this.openElements.currentTagId&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const t=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case ZC.TEMPLATE:if(this.treeAdapter.getNamespaceURI(t)===WC.HTML)return{parent:this.treeAdapter.getTemplateContent(t),beforeElement:null};break;case ZC.TABLE:{const n=this.treeAdapter.getParentNode(t);return n?{parent:n,beforeElement:t}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)}_isSpecialElement(e,t){const n=this.treeAdapter.getNamespaceURI(e);return cI[n].has(t)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(e,t){e._insertCharacters(t),e.framesetOk=!1}(this,e);else switch(this.insertionMode){case tj.INITIAL:gj(this,e);break;case tj.BEFORE_HTML:bj(this,e);break;case tj.BEFORE_HEAD:yj(this,e);break;case tj.IN_HEAD:Ej(this,e);break;case tj.IN_HEAD_NO_SCRIPT:_j(this,e);break;case tj.AFTER_HEAD:Tj(this,e);break;case tj.IN_BODY:case tj.IN_CAPTION:case tj.IN_CELL:case tj.IN_TEMPLATE:Nj(this,e);break;case tj.TEXT:case tj.IN_SELECT:case tj.IN_SELECT_IN_TABLE:this._insertCharacters(e);break;case tj.IN_TABLE:case tj.IN_TABLE_BODY:case tj.IN_ROW:Dj(this,e);break;case tj.IN_TABLE_TEXT:Fj(this,e);break;case tj.IN_COLUMN_GROUP:$j(this,e);break;case tj.AFTER_BODY:Zj(this,e);break;case tj.AFTER_AFTER_BODY:eO(this,e)}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(e,t){t.chars=bC,e._insertCharacters(t)}(this,e);else switch(this.insertionMode){case tj.INITIAL:gj(this,e);break;case tj.BEFORE_HTML:bj(this,e);break;case tj.BEFORE_HEAD:yj(this,e);break;case tj.IN_HEAD:Ej(this,e);break;case tj.IN_HEAD_NO_SCRIPT:_j(this,e);break;case tj.AFTER_HEAD:Tj(this,e);break;case tj.TEXT:this._insertCharacters(e);break;case tj.IN_TABLE:case tj.IN_TABLE_BODY:case tj.IN_ROW:Dj(this,e);break;case tj.IN_COLUMN_GROUP:$j(this,e);break;case tj.AFTER_BODY:Zj(this,e);break;case tj.AFTER_AFTER_BODY:eO(this,e)}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML)fj(this,e);else switch(this.insertionMode){case tj.INITIAL:case tj.BEFORE_HTML:case tj.BEFORE_HEAD:case tj.IN_HEAD:case tj.IN_HEAD_NO_SCRIPT:case tj.AFTER_HEAD:case tj.IN_BODY:case tj.IN_TABLE:case tj.IN_CAPTION:case tj.IN_COLUMN_GROUP:case tj.IN_TABLE_BODY:case tj.IN_ROW:case tj.IN_CELL:case tj.IN_SELECT:case tj.IN_SELECT_IN_TABLE:case tj.IN_TEMPLATE:case tj.IN_FRAMESET:case tj.AFTER_FRAMESET:fj(this,e);break;case tj.IN_TABLE_TEXT:Hj(this,e);break;case tj.AFTER_BODY:!function(e,t){e._appendCommentNode(t,e.openElements.items[0])}(this,e);break;case tj.AFTER_AFTER_BODY:case tj.AFTER_AFTER_FRAMESET:!function(e,t){e._appendCommentNode(t,e.document)}(this,e)}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case tj.INITIAL:!function(e,t){e._setDocumentType(t);const n=t.forceQuirks?KC.QUIRKS:function(e){if(e.name!==BI)return KC.QUIRKS;const{systemId:t}=e;if(t&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===t.toLowerCase())return KC.QUIRKS;let{publicId:n}=e;if(null!==n){if(n=n.toLowerCase(),HI.has(n))return KC.QUIRKS;let e=null===t?FI:UI;if($I(n,e))return KC.QUIRKS;if(e=null===t?zI:GI,$I(n,e))return KC.LIMITED_QUIRKS}return KC.NO_QUIRKS}(t);(function(e){return e.name===BI&&null===e.publicId&&(null===e.systemId||"about:legacy-compat"===e.systemId)})(t)||e._err(t,CC.nonConformingDoctype);e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=tj.BEFORE_HTML}(this,e);break;case tj.BEFORE_HEAD:case tj.IN_HEAD:case tj.IN_HEAD_NO_SCRIPT:case tj.AFTER_HEAD:this._err(e,CC.misplacedDoctype);break;case tj.IN_TABLE_TEXT:Hj(this,e)}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,CC.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?function(e,t){if(function(e){const t=e.tagID;return t===ZC.FONT&&e.attrs.some(({name:e})=>e===VC.COLOR||e===VC.SIZE||e===VC.FACE)||QI.has(t)}(t))tO(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===WC.MATHML?JI(t):r===WC.SVG&&(!function(e){const t=KI.get(e.tagName);null!=t&&(e.tagName=t,e.tagID=oI(e.tagName))}(t),XI(t)),ZI(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case tj.INITIAL:gj(this,e);break;case tj.BEFORE_HTML:!function(e,t){t.tagID===ZC.HTML?(e._insertElement(t,WC.HTML),e.insertionMode=tj.BEFORE_HEAD):bj(e,t)}(this,e);break;case tj.BEFORE_HEAD:!function(e,t){switch(t.tagID){case ZC.HTML:jj(e,t);break;case ZC.HEAD:e._insertElement(t,WC.HTML),e.headElement=e.openElements.current,e.insertionMode=tj.IN_HEAD;break;default:yj(e,t)}}(this,e);break;case tj.IN_HEAD:xj(this,e);break;case tj.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case ZC.HTML:jj(e,t);break;case ZC.BASEFONT:case ZC.BGSOUND:case ZC.HEAD:case ZC.LINK:case ZC.META:case ZC.NOFRAMES:case ZC.STYLE:xj(e,t);break;case ZC.NOSCRIPT:e._err(t,CC.nestedNoscriptInHead);break;default:_j(e,t)}}(this,e);break;case tj.AFTER_HEAD:!function(e,t){switch(t.tagID){case ZC.HTML:jj(e,t);break;case ZC.BODY:e._insertElement(t,WC.HTML),e.framesetOk=!1,e.insertionMode=tj.IN_BODY;break;case ZC.FRAMESET:e._insertElement(t,WC.HTML),e.insertionMode=tj.IN_FRAMESET;break;case ZC.BASE:case ZC.BASEFONT:case ZC.BGSOUND:case ZC.LINK:case ZC.META:case ZC.NOFRAMES:case ZC.SCRIPT:case ZC.STYLE:case ZC.TEMPLATE:case ZC.TITLE:e._err(t,CC.abandonedHeadElementChild),e.openElements.push(e.headElement,ZC.HEAD),xj(e,t),e.openElements.remove(e.headElement);break;case ZC.HEAD:e._err(t,CC.misplacedStartTagForHeadElement);break;default:Tj(e,t)}}(this,e);break;case tj.IN_BODY:jj(this,e);break;case tj.IN_TABLE:Lj(this,e);break;case tj.IN_TABLE_TEXT:Hj(this,e);break;case tj.IN_CAPTION:!function(e,t){const n=t.tagID;zj.has(n)?e.openElements.hasInTableScope(ZC.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(ZC.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=tj.IN_TABLE,Lj(e,t)):jj(e,t)}(this,e);break;case tj.IN_COLUMN_GROUP:Gj(this,e);break;case tj.IN_TABLE_BODY:Wj(this,e);break;case tj.IN_ROW:Vj(this,e);break;case tj.IN_CELL:!function(e,t){const n=t.tagID;zj.has(n)?(e.openElements.hasInTableScope(ZC.TD)||e.openElements.hasInTableScope(ZC.TH))&&(e._closeTableCell(),Vj(e,t)):jj(e,t)}(this,e);break;case tj.IN_SELECT:Kj(this,e);break;case tj.IN_SELECT_IN_TABLE:!function(e,t){const n=t.tagID;n===ZC.CAPTION||n===ZC.TABLE||n===ZC.TBODY||n===ZC.TFOOT||n===ZC.THEAD||n===ZC.TR||n===ZC.TD||n===ZC.TH?(e.openElements.popUntilTagNamePopped(ZC.SELECT),e._resetInsertionMode(),e._processStartTag(t)):Kj(e,t)}(this,e);break;case tj.IN_TEMPLATE:!function(e,t){switch(t.tagID){case ZC.BASE:case ZC.BASEFONT:case ZC.BGSOUND:case ZC.LINK:case ZC.META:case ZC.NOFRAMES:case ZC.SCRIPT:case ZC.STYLE:case ZC.TEMPLATE:case ZC.TITLE:xj(e,t);break;case ZC.CAPTION:case ZC.COLGROUP:case ZC.TBODY:case ZC.TFOOT:case ZC.THEAD:e.tmplInsertionModeStack[0]=tj.IN_TABLE,e.insertionMode=tj.IN_TABLE,Lj(e,t);break;case ZC.COL:e.tmplInsertionModeStack[0]=tj.IN_COLUMN_GROUP,e.insertionMode=tj.IN_COLUMN_GROUP,Gj(e,t);break;case ZC.TR:e.tmplInsertionModeStack[0]=tj.IN_TABLE_BODY,e.insertionMode=tj.IN_TABLE_BODY,Wj(e,t);break;case ZC.TD:case ZC.TH:e.tmplInsertionModeStack[0]=tj.IN_ROW,e.insertionMode=tj.IN_ROW,Vj(e,t);break;default:e.tmplInsertionModeStack[0]=tj.IN_BODY,e.insertionMode=tj.IN_BODY,jj(e,t)}}(this,e);break;case tj.AFTER_BODY:!function(e,t){t.tagID===ZC.HTML?jj(e,t):Zj(e,t)}(this,e);break;case tj.IN_FRAMESET:!function(e,t){switch(t.tagID){case ZC.HTML:jj(e,t);break;case ZC.FRAMESET:e._insertElement(t,WC.HTML);break;case ZC.FRAME:e._appendElement(t,WC.HTML),t.ackSelfClosing=!0;break;case ZC.NOFRAMES:xj(e,t)}}(this,e);break;case tj.AFTER_FRAMESET:!function(e,t){switch(t.tagID){case ZC.HTML:jj(e,t);break;case ZC.NOFRAMES:xj(e,t)}}(this,e);break;case tj.AFTER_AFTER_BODY:!function(e,t){t.tagID===ZC.HTML?jj(e,t):eO(e,t)}(this,e);break;case tj.AFTER_AFTER_FRAMESET:!function(e,t){switch(t.tagID){case ZC.HTML:jj(e,t);break;case ZC.NOFRAMES:xj(e,t)}}(this,e)}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?function(e,t){if(t.tagID===ZC.P||t.tagID===ZC.BR)return tO(e),void e._endTagOutsideForeignContent(t);for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===WC.HTML){e._endTagOutsideForeignContent(t);break}const s=e.treeAdapter.getTagName(r);if(s.toLowerCase()===t.tagName){t.tagName=s,e.openElements.shortenToLength(n);break}}}(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case tj.INITIAL:gj(this,e);break;case tj.BEFORE_HTML:!function(e,t){const n=t.tagID;n!==ZC.HTML&&n!==ZC.HEAD&&n!==ZC.BODY&&n!==ZC.BR||bj(e,t)}(this,e);break;case tj.BEFORE_HEAD:!function(e,t){const n=t.tagID;n===ZC.HEAD||n===ZC.BODY||n===ZC.HTML||n===ZC.BR?yj(e,t):e._err(t,CC.endTagWithoutMatchingOpenElement)}(this,e);break;case tj.IN_HEAD:!function(e,t){switch(t.tagID){case ZC.HEAD:e.openElements.pop(),e.insertionMode=tj.AFTER_HEAD;break;case ZC.BODY:case ZC.BR:case ZC.HTML:Ej(e,t);break;case ZC.TEMPLATE:vj(e,t);break;default:e._err(t,CC.endTagWithoutMatchingOpenElement)}}(this,e);break;case tj.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case ZC.NOSCRIPT:e.openElements.pop(),e.insertionMode=tj.IN_HEAD;break;case ZC.BR:_j(e,t);break;default:e._err(t,CC.endTagWithoutMatchingOpenElement)}}(this,e);break;case tj.AFTER_HEAD:!function(e,t){switch(t.tagID){case ZC.BODY:case ZC.HTML:case ZC.BR:Tj(e,t);break;case ZC.TEMPLATE:vj(e,t);break;default:e._err(t,CC.endTagWithoutMatchingOpenElement)}}(this,e);break;case tj.IN_BODY:Rj(this,e);break;case tj.TEXT:!function(e,t){var n;t.tagID===ZC.SCRIPT&&(null===(n=e.scriptHandler)||void 0===n||n.call(e,e.openElements.current));e.openElements.pop(),e.insertionMode=e.originalInsertionMode}(this,e);break;case tj.IN_TABLE:Mj(this,e);break;case tj.IN_TABLE_TEXT:Hj(this,e);break;case tj.IN_CAPTION:!function(e,t){const n=t.tagID;switch(n){case ZC.CAPTION:case ZC.TABLE:e.openElements.hasInTableScope(ZC.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(ZC.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=tj.IN_TABLE,n===ZC.TABLE&&Mj(e,t));break;case ZC.BODY:case ZC.COL:case ZC.COLGROUP:case ZC.HTML:case ZC.TBODY:case ZC.TD:case ZC.TFOOT:case ZC.TH:case ZC.THEAD:case ZC.TR:break;default:Rj(e,t)}}(this,e);break;case tj.IN_COLUMN_GROUP:!function(e,t){switch(t.tagID){case ZC.COLGROUP:e.openElements.currentTagId===ZC.COLGROUP&&(e.openElements.pop(),e.insertionMode=tj.IN_TABLE);break;case ZC.TEMPLATE:vj(e,t);break;case ZC.COL:break;default:$j(e,t)}}(this,e);break;case tj.IN_TABLE_BODY:qj(this,e);break;case tj.IN_ROW:Yj(this,e);break;case tj.IN_CELL:!function(e,t){const n=t.tagID;switch(n){case ZC.TD:case ZC.TH:e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=tj.IN_ROW);break;case ZC.TABLE:case ZC.TBODY:case ZC.TFOOT:case ZC.THEAD:case ZC.TR:e.openElements.hasInTableScope(n)&&(e._closeTableCell(),Yj(e,t));break;case ZC.BODY:case ZC.CAPTION:case ZC.COL:case ZC.COLGROUP:case ZC.HTML:break;default:Rj(e,t)}}(this,e);break;case tj.IN_SELECT:Qj(this,e);break;case tj.IN_SELECT_IN_TABLE:!function(e,t){const n=t.tagID;n===ZC.CAPTION||n===ZC.TABLE||n===ZC.TBODY||n===ZC.TFOOT||n===ZC.THEAD||n===ZC.TR||n===ZC.TD||n===ZC.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(ZC.SELECT),e._resetInsertionMode(),e.onEndTag(t)):Qj(e,t)}(this,e);break;case tj.IN_TEMPLATE:!function(e,t){t.tagID===ZC.TEMPLATE&&vj(e,t)}(this,e);break;case tj.AFTER_BODY:Xj(this,e);break;case tj.IN_FRAMESET:!function(e,t){t.tagID!==ZC.FRAMESET||e.openElements.isRootHtmlElementCurrent()||(e.openElements.pop(),e.fragmentContext||e.openElements.currentTagId===ZC.FRAMESET||(e.insertionMode=tj.AFTER_FRAMESET))}(this,e);break;case tj.AFTER_FRAMESET:!function(e,t){t.tagID===ZC.HTML&&(e.insertionMode=tj.AFTER_AFTER_FRAMESET)}(this,e);break;case tj.AFTER_AFTER_BODY:eO(this,e)}}onEof(e){switch(this.insertionMode){case tj.INITIAL:gj(this,e);break;case tj.BEFORE_HTML:bj(this,e);break;case tj.BEFORE_HEAD:yj(this,e);break;case tj.IN_HEAD:Ej(this,e);break;case tj.IN_HEAD_NO_SCRIPT:_j(this,e);break;case tj.AFTER_HEAD:Tj(this,e);break;case tj.IN_BODY:case tj.IN_TABLE:case tj.IN_CAPTION:case tj.IN_COLUMN_GROUP:case tj.IN_TABLE_BODY:case tj.IN_ROW:case tj.IN_CELL:case tj.IN_SELECT:case tj.IN_SELECT_IN_TABLE:Pj(this,e);break;case tj.TEXT:!function(e,t){e._err(t,CC.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}(this,e);break;case tj.IN_TABLE_TEXT:Hj(this,e);break;case tj.IN_TEMPLATE:Jj(this,e);break;case tj.AFTER_BODY:case tj.IN_FRAMESET:case tj.AFTER_FRAMESET:case tj.AFTER_AFTER_BODY:case tj.AFTER_AFTER_FRAMESET:mj(this,e)}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===yC.LINE_FEED)){if(1===e.chars.length)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode)this._insertCharacters(e);else switch(this.insertionMode){case tj.IN_HEAD:case tj.IN_HEAD_NO_SCRIPT:case tj.AFTER_HEAD:case tj.TEXT:case tj.IN_COLUMN_GROUP:case tj.IN_SELECT:case tj.IN_SELECT_IN_TABLE:case tj.IN_FRAMESET:case tj.AFTER_FRAMESET:this._insertCharacters(e);break;case tj.IN_BODY:case tj.IN_CAPTION:case tj.IN_CELL:case tj.IN_TEMPLATE:case tj.AFTER_BODY:case tj.AFTER_AFTER_BODY:case tj.AFTER_AFTER_FRAMESET:kj(this,e);break;case tj.IN_TABLE:case tj.IN_TABLE_BODY:case tj.IN_ROW:Dj(this,e);break;case tj.IN_TABLE_TEXT:Uj(this,e)}}}function oj(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):Oj(e,t),n}function lj(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const s=e.openElements.items[r];if(s===t.element)break;e._isSpecialElement(s,e.openElements.tagIDs[r])&&(n=s)}return n||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),n}function cj(e,t,n){let r=t,s=e.openElements.getCommonAncestor(t);for(let a=0,i=s;i!==n;a++,i=s){s=e.openElements.getCommonAncestor(i);const n=e.activeFormattingElements.getElementEntry(i),o=n&&a>=3;!n||o?(o&&e.activeFormattingElements.removeEntry(n),e.openElements.remove(i)):(i=uj(e,n),r===t&&(e.activeFormattingElements.bookmark=n),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(i,r),r=i)}return r}function uj(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function dj(e,t,n){const r=oI(e.treeAdapter.getTagName(t));if(e._isElementCausesFosterParenting(r))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);r===ZC.TEMPLATE&&s===WC.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function hj(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:s}=n,a=e.treeAdapter.createElement(s.tagName,r,s.attrs);e._adoptNodes(t,a),e.treeAdapter.appendChild(t,a),e.activeFormattingElements.insertElementAfterBookmark(a,s),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,a,s.tagID)}function pj(e,t){for(let n=0;n<8;n++){const n=oj(e,t);if(!n)break;const r=lj(e,n);if(!r)break;e.activeFormattingElements.bookmark=n;const s=cj(e,r,n.element),a=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(s),a&&dj(e,a,s),hj(e,r,n)}}function fj(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function mj(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const n=e.openElements.items[0],r=e.treeAdapter.getNodeSourceCodeLocation(n);if(r&&!r.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){const n=e.openElements.items[1],r=e.treeAdapter.getNodeSourceCodeLocation(n);r&&!r.endTag&&e._setEndLocation(n,t)}}}}function gj(e,t){e._err(t,CC.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,KC.QUIRKS),e.insertionMode=tj.BEFORE_HTML,e._processToken(t)}function bj(e,t){e._insertFakeRootElement(),e.insertionMode=tj.BEFORE_HEAD,e._processToken(t)}function yj(e,t){e._insertFakeElement(JC.HEAD,ZC.HEAD),e.headElement=e.openElements.current,e.insertionMode=tj.IN_HEAD,e._processToken(t)}function xj(e,t){switch(t.tagID){case ZC.HTML:jj(e,t);break;case ZC.BASE:case ZC.BASEFONT:case ZC.BGSOUND:case ZC.LINK:case ZC.META:e._appendElement(t,WC.HTML),t.ackSelfClosing=!0;break;case ZC.TITLE:e._switchToTextParsing(t,pI.RCDATA);break;case ZC.NOSCRIPT:e.options.scriptingEnabled?e._switchToTextParsing(t,pI.RAWTEXT):(e._insertElement(t,WC.HTML),e.insertionMode=tj.IN_HEAD_NO_SCRIPT);break;case ZC.NOFRAMES:case ZC.STYLE:e._switchToTextParsing(t,pI.RAWTEXT);break;case ZC.SCRIPT:e._switchToTextParsing(t,pI.SCRIPT_DATA);break;case ZC.TEMPLATE:e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=tj.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(tj.IN_TEMPLATE);break;case ZC.HEAD:e._err(t,CC.misplacedStartTagForHeadElement);break;default:Ej(e,t)}}function vj(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==ZC.TEMPLATE&&e._err(t,CC.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(ZC.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,CC.endTagWithoutMatchingOpenElement)}function Ej(e,t){e.openElements.pop(),e.insertionMode=tj.AFTER_HEAD,e._processToken(t)}function _j(e,t){const n=t.type===OC.EOF?CC.openElementsLeftAfterEof:CC.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=tj.IN_HEAD,e._processToken(t)}function Tj(e,t){e._insertFakeElement(JC.BODY,ZC.BODY),e.insertionMode=tj.IN_BODY,wj(e,t)}function wj(e,t){switch(t.type){case OC.CHARACTER:Nj(e,t);break;case OC.WHITESPACE_CHARACTER:kj(e,t);break;case OC.COMMENT:fj(e,t);break;case OC.START_TAG:jj(e,t);break;case OC.END_TAG:Rj(e,t);break;case OC.EOF:Pj(e,t)}}function kj(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function Nj(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function Sj(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,WC.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Aj(e){const t=PC(e,VC.TYPE);return null!=t&&"hidden"===t.toLowerCase()}function Cj(e,t){e._switchToTextParsing(t,pI.RAWTEXT)}function Ij(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,WC.HTML)}function jj(e,t){switch(t.tagID){case ZC.I:case ZC.S:case ZC.B:case ZC.U:case ZC.EM:case ZC.TT:case ZC.BIG:case ZC.CODE:case ZC.FONT:case ZC.SMALL:case ZC.STRIKE:case ZC.STRONG:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,WC.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case ZC.A:!function(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(JC.A);n&&(pj(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,WC.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case ZC.H1:case ZC.H2:case ZC.H3:case ZC.H4:case ZC.H5:case ZC.H6:!function(e,t){e.openElements.hasInButtonScope(ZC.P)&&e._closePElement(),void 0!==e.openElements.currentTagId&&uI.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,WC.HTML)}(e,t);break;case ZC.P:case ZC.DL:case ZC.OL:case ZC.UL:case ZC.DIV:case ZC.DIR:case ZC.NAV:case ZC.MAIN:case ZC.MENU:case ZC.ASIDE:case ZC.CENTER:case ZC.FIGURE:case ZC.FOOTER:case ZC.HEADER:case ZC.HGROUP:case ZC.DIALOG:case ZC.DETAILS:case ZC.ADDRESS:case ZC.ARTICLE:case ZC.SEARCH:case ZC.SECTION:case ZC.SUMMARY:case ZC.FIELDSET:case ZC.BLOCKQUOTE:case ZC.FIGCAPTION:!function(e,t){e.openElements.hasInButtonScope(ZC.P)&&e._closePElement(),e._insertElement(t,WC.HTML)}(e,t);break;case ZC.LI:case ZC.DD:case ZC.DT:!function(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const t=e.openElements.tagIDs[r];if(n===ZC.LI&&t===ZC.LI||(n===ZC.DD||n===ZC.DT)&&(t===ZC.DD||t===ZC.DT)){e.openElements.generateImpliedEndTagsWithExclusion(t),e.openElements.popUntilTagNamePopped(t);break}if(t!==ZC.ADDRESS&&t!==ZC.DIV&&t!==ZC.P&&e._isSpecialElement(e.openElements.items[r],t))break}e.openElements.hasInButtonScope(ZC.P)&&e._closePElement(),e._insertElement(t,WC.HTML)}(e,t);break;case ZC.BR:case ZC.IMG:case ZC.WBR:case ZC.AREA:case ZC.EMBED:case ZC.KEYGEN:Sj(e,t);break;case ZC.HR:!function(e,t){e.openElements.hasInButtonScope(ZC.P)&&e._closePElement(),e._appendElement(t,WC.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}(e,t);break;case ZC.RB:case ZC.RTC:!function(e,t){e.openElements.hasInScope(ZC.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,WC.HTML)}(e,t);break;case ZC.RT:case ZC.RP:!function(e,t){e.openElements.hasInScope(ZC.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(ZC.RTC),e._insertElement(t,WC.HTML)}(e,t);break;case ZC.PRE:case ZC.LISTING:!function(e,t){e.openElements.hasInButtonScope(ZC.P)&&e._closePElement(),e._insertElement(t,WC.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}(e,t);break;case ZC.XMP:!function(e,t){e.openElements.hasInButtonScope(ZC.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,pI.RAWTEXT)}(e,t);break;case ZC.SVG:!function(e,t){e._reconstructActiveFormattingElements(),XI(t),ZI(t),t.selfClosing?e._appendElement(t,WC.SVG):e._insertElement(t,WC.SVG),t.ackSelfClosing=!0}(e,t);break;case ZC.HTML:!function(e,t){0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}(e,t);break;case ZC.BASE:case ZC.LINK:case ZC.META:case ZC.STYLE:case ZC.TITLE:case ZC.SCRIPT:case ZC.BGSOUND:case ZC.BASEFONT:case ZC.TEMPLATE:xj(e,t);break;case ZC.BODY:!function(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}(e,t);break;case ZC.FORM:!function(e,t){const n=e.openElements.tmplCount>0;e.formElement&&!n||(e.openElements.hasInButtonScope(ZC.P)&&e._closePElement(),e._insertElement(t,WC.HTML),n||(e.formElement=e.openElements.current))}(e,t);break;case ZC.NOBR:!function(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(ZC.NOBR)&&(pj(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,WC.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case ZC.MATH:!function(e,t){e._reconstructActiveFormattingElements(),JI(t),ZI(t),t.selfClosing?e._appendElement(t,WC.MATHML):e._insertElement(t,WC.MATHML),t.ackSelfClosing=!0}(e,t);break;case ZC.TABLE:!function(e,t){e.treeAdapter.getDocumentMode(e.document)!==KC.QUIRKS&&e.openElements.hasInButtonScope(ZC.P)&&e._closePElement(),e._insertElement(t,WC.HTML),e.framesetOk=!1,e.insertionMode=tj.IN_TABLE}(e,t);break;case ZC.INPUT:!function(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,WC.HTML),Aj(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}(e,t);break;case ZC.PARAM:case ZC.TRACK:case ZC.SOURCE:!function(e,t){e._appendElement(t,WC.HTML),t.ackSelfClosing=!0}(e,t);break;case ZC.IMAGE:!function(e,t){t.tagName=JC.IMG,t.tagID=ZC.IMG,Sj(e,t)}(e,t);break;case ZC.BUTTON:!function(e,t){e.openElements.hasInScope(ZC.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(ZC.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,WC.HTML),e.framesetOk=!1}(e,t);break;case ZC.APPLET:case ZC.OBJECT:case ZC.MARQUEE:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,WC.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}(e,t);break;case ZC.IFRAME:!function(e,t){e.framesetOk=!1,e._switchToTextParsing(t,pI.RAWTEXT)}(e,t);break;case ZC.SELECT:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,WC.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===tj.IN_TABLE||e.insertionMode===tj.IN_CAPTION||e.insertionMode===tj.IN_TABLE_BODY||e.insertionMode===tj.IN_ROW||e.insertionMode===tj.IN_CELL?tj.IN_SELECT_IN_TABLE:tj.IN_SELECT}(e,t);break;case ZC.OPTION:case ZC.OPTGROUP:!function(e,t){e.openElements.currentTagId===ZC.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,WC.HTML)}(e,t);break;case ZC.NOEMBED:case ZC.NOFRAMES:Cj(e,t);break;case ZC.FRAMESET:!function(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,WC.HTML),e.insertionMode=tj.IN_FRAMESET)}(e,t);break;case ZC.TEXTAREA:!function(e,t){e._insertElement(t,WC.HTML),e.skipNextNewLine=!0,e.tokenizer.state=pI.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=tj.TEXT}(e,t);break;case ZC.NOSCRIPT:e.options.scriptingEnabled?Cj(e,t):Ij(e,t);break;case ZC.PLAINTEXT:!function(e,t){e.openElements.hasInButtonScope(ZC.P)&&e._closePElement(),e._insertElement(t,WC.HTML),e.tokenizer.state=pI.PLAINTEXT}(e,t);break;case ZC.COL:case ZC.TH:case ZC.TD:case ZC.TR:case ZC.HEAD:case ZC.FRAME:case ZC.TBODY:case ZC.TFOOT:case ZC.THEAD:case ZC.CAPTION:case ZC.COLGROUP:break;default:Ij(e,t)}}function Oj(e,t){const n=t.tagName,r=t.tagID;for(let s=e.openElements.stackTop;s>0;s--){const t=e.openElements.items[s],a=e.openElements.tagIDs[s];if(r===a&&(r!==ZC.UNKNOWN||e.treeAdapter.getTagName(t)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=s&&e.openElements.shortenToLength(s);break}if(e._isSpecialElement(t,a))break}}function Rj(e,t){switch(t.tagID){case ZC.A:case ZC.B:case ZC.I:case ZC.S:case ZC.U:case ZC.EM:case ZC.TT:case ZC.BIG:case ZC.CODE:case ZC.FONT:case ZC.NOBR:case ZC.SMALL:case ZC.STRIKE:case ZC.STRONG:pj(e,t);break;case ZC.P:!function(e){e.openElements.hasInButtonScope(ZC.P)||e._insertFakeElement(JC.P,ZC.P),e._closePElement()}(e);break;case ZC.DL:case ZC.UL:case ZC.OL:case ZC.DIR:case ZC.DIV:case ZC.NAV:case ZC.PRE:case ZC.MAIN:case ZC.MENU:case ZC.ASIDE:case ZC.BUTTON:case ZC.CENTER:case ZC.FIGURE:case ZC.FOOTER:case ZC.HEADER:case ZC.HGROUP:case ZC.DIALOG:case ZC.ADDRESS:case ZC.ARTICLE:case ZC.DETAILS:case ZC.SEARCH:case ZC.SECTION:case ZC.SUMMARY:case ZC.LISTING:case ZC.FIELDSET:case ZC.BLOCKQUOTE:case ZC.FIGCAPTION:!function(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}(e,t);break;case ZC.LI:!function(e){e.openElements.hasInListItemScope(ZC.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(ZC.LI),e.openElements.popUntilTagNamePopped(ZC.LI))}(e);break;case ZC.DD:case ZC.DT:!function(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}(e,t);break;case ZC.H1:case ZC.H2:case ZC.H3:case ZC.H4:case ZC.H5:case ZC.H6:!function(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}(e);break;case ZC.BR:!function(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(JC.BR,ZC.BR),e.openElements.pop(),e.framesetOk=!1}(e);break;case ZC.BODY:!function(e,t){if(e.openElements.hasInScope(ZC.BODY)&&(e.insertionMode=tj.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}(e,t);break;case ZC.HTML:!function(e,t){e.openElements.hasInScope(ZC.BODY)&&(e.insertionMode=tj.AFTER_BODY,Xj(e,t))}(e,t);break;case ZC.FORM:!function(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(ZC.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(ZC.FORM):n&&e.openElements.remove(n))}(e);break;case ZC.APPLET:case ZC.OBJECT:case ZC.MARQUEE:!function(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}(e,t);break;case ZC.TEMPLATE:vj(e,t);break;default:Oj(e,t)}}function Pj(e,t){e.tmplInsertionModeStack.length>0?Jj(e,t):mj(e,t)}function Dj(e,t){if(void 0!==e.openElements.currentTagId&&sj.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=tj.IN_TABLE_TEXT,t.type){case OC.CHARACTER:Fj(e,t);break;case OC.WHITESPACE_CHARACTER:Uj(e,t)}else Bj(e,t)}function Lj(e,t){switch(t.tagID){case ZC.TD:case ZC.TH:case ZC.TR:!function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(JC.TBODY,ZC.TBODY),e.insertionMode=tj.IN_TABLE_BODY,Wj(e,t)}(e,t);break;case ZC.STYLE:case ZC.SCRIPT:case ZC.TEMPLATE:xj(e,t);break;case ZC.COL:!function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(JC.COLGROUP,ZC.COLGROUP),e.insertionMode=tj.IN_COLUMN_GROUP,Gj(e,t)}(e,t);break;case ZC.FORM:!function(e,t){e.formElement||0!==e.openElements.tmplCount||(e._insertElement(t,WC.HTML),e.formElement=e.openElements.current,e.openElements.pop())}(e,t);break;case ZC.TABLE:!function(e,t){e.openElements.hasInTableScope(ZC.TABLE)&&(e.openElements.popUntilTagNamePopped(ZC.TABLE),e._resetInsertionMode(),e._processStartTag(t))}(e,t);break;case ZC.TBODY:case ZC.TFOOT:case ZC.THEAD:!function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,WC.HTML),e.insertionMode=tj.IN_TABLE_BODY}(e,t);break;case ZC.INPUT:!function(e,t){Aj(t)?e._appendElement(t,WC.HTML):Bj(e,t),t.ackSelfClosing=!0}(e,t);break;case ZC.CAPTION:!function(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,WC.HTML),e.insertionMode=tj.IN_CAPTION}(e,t);break;case ZC.COLGROUP:!function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,WC.HTML),e.insertionMode=tj.IN_COLUMN_GROUP}(e,t);break;default:Bj(e,t)}}function Mj(e,t){switch(t.tagID){case ZC.TABLE:e.openElements.hasInTableScope(ZC.TABLE)&&(e.openElements.popUntilTagNamePopped(ZC.TABLE),e._resetInsertionMode());break;case ZC.TEMPLATE:vj(e,t);break;case ZC.BODY:case ZC.CAPTION:case ZC.COL:case ZC.COLGROUP:case ZC.HTML:case ZC.TBODY:case ZC.TD:case ZC.TFOOT:case ZC.TH:case ZC.THEAD:case ZC.TR:break;default:Bj(e,t)}}function Bj(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,wj(e,t),e.fosterParentingEnabled=n}function Uj(e,t){e.pendingCharacterTokens.push(t)}function Fj(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Hj(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)Bj(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const zj=new Set([ZC.CAPTION,ZC.COL,ZC.COLGROUP,ZC.TBODY,ZC.TD,ZC.TFOOT,ZC.TH,ZC.THEAD,ZC.TR]);function Gj(e,t){switch(t.tagID){case ZC.HTML:jj(e,t);break;case ZC.COL:e._appendElement(t,WC.HTML),t.ackSelfClosing=!0;break;case ZC.TEMPLATE:xj(e,t);break;default:$j(e,t)}}function $j(e,t){e.openElements.currentTagId===ZC.COLGROUP&&(e.openElements.pop(),e.insertionMode=tj.IN_TABLE,e._processToken(t))}function Wj(e,t){switch(t.tagID){case ZC.TR:e.openElements.clearBackToTableBodyContext(),e._insertElement(t,WC.HTML),e.insertionMode=tj.IN_ROW;break;case ZC.TH:case ZC.TD:e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(JC.TR,ZC.TR),e.insertionMode=tj.IN_ROW,Vj(e,t);break;case ZC.CAPTION:case ZC.COL:case ZC.COLGROUP:case ZC.TBODY:case ZC.TFOOT:case ZC.THEAD:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=tj.IN_TABLE,Lj(e,t));break;default:Lj(e,t)}}function qj(e,t){const n=t.tagID;switch(t.tagID){case ZC.TBODY:case ZC.TFOOT:case ZC.THEAD:e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=tj.IN_TABLE);break;case ZC.TABLE:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=tj.IN_TABLE,Mj(e,t));break;case ZC.BODY:case ZC.CAPTION:case ZC.COL:case ZC.COLGROUP:case ZC.HTML:case ZC.TD:case ZC.TH:case ZC.TR:break;default:Mj(e,t)}}function Vj(e,t){switch(t.tagID){case ZC.TH:case ZC.TD:e.openElements.clearBackToTableRowContext(),e._insertElement(t,WC.HTML),e.insertionMode=tj.IN_CELL,e.activeFormattingElements.insertMarker();break;case ZC.CAPTION:case ZC.COL:case ZC.COLGROUP:case ZC.TBODY:case ZC.TFOOT:case ZC.THEAD:case ZC.TR:e.openElements.hasInTableScope(ZC.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=tj.IN_TABLE_BODY,Wj(e,t));break;default:Lj(e,t)}}function Yj(e,t){switch(t.tagID){case ZC.TR:e.openElements.hasInTableScope(ZC.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=tj.IN_TABLE_BODY);break;case ZC.TABLE:e.openElements.hasInTableScope(ZC.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=tj.IN_TABLE_BODY,qj(e,t));break;case ZC.TBODY:case ZC.TFOOT:case ZC.THEAD:(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(ZC.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=tj.IN_TABLE_BODY,qj(e,t));break;case ZC.BODY:case ZC.CAPTION:case ZC.COL:case ZC.COLGROUP:case ZC.HTML:case ZC.TD:case ZC.TH:break;default:Mj(e,t)}}function Kj(e,t){switch(t.tagID){case ZC.HTML:jj(e,t);break;case ZC.OPTION:e.openElements.currentTagId===ZC.OPTION&&e.openElements.pop(),e._insertElement(t,WC.HTML);break;case ZC.OPTGROUP:e.openElements.currentTagId===ZC.OPTION&&e.openElements.pop(),e.openElements.currentTagId===ZC.OPTGROUP&&e.openElements.pop(),e._insertElement(t,WC.HTML);break;case ZC.HR:e.openElements.currentTagId===ZC.OPTION&&e.openElements.pop(),e.openElements.currentTagId===ZC.OPTGROUP&&e.openElements.pop(),e._appendElement(t,WC.HTML),t.ackSelfClosing=!0;break;case ZC.INPUT:case ZC.KEYGEN:case ZC.TEXTAREA:case ZC.SELECT:e.openElements.hasInSelectScope(ZC.SELECT)&&(e.openElements.popUntilTagNamePopped(ZC.SELECT),e._resetInsertionMode(),t.tagID!==ZC.SELECT&&e._processStartTag(t));break;case ZC.SCRIPT:case ZC.TEMPLATE:xj(e,t)}}function Qj(e,t){switch(t.tagID){case ZC.OPTGROUP:e.openElements.stackTop>0&&e.openElements.currentTagId===ZC.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===ZC.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===ZC.OPTGROUP&&e.openElements.pop();break;case ZC.OPTION:e.openElements.currentTagId===ZC.OPTION&&e.openElements.pop();break;case ZC.SELECT:e.openElements.hasInSelectScope(ZC.SELECT)&&(e.openElements.popUntilTagNamePopped(ZC.SELECT),e._resetInsertionMode());break;case ZC.TEMPLATE:vj(e,t)}}function Jj(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(ZC.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):mj(e,t)}function Xj(e,t){var n;if(t.tagID===ZC.HTML){if(e.fragmentContext||(e.insertionMode=tj.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===ZC.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(null===(n=e.treeAdapter.getNodeSourceCodeLocation(r))||void 0===n?void 0:n.endTag)&&e._setEndLocation(r,t)}}else Zj(e,t)}function Zj(e,t){e.insertionMode=tj.IN_BODY,wj(e,t)}function eO(e,t){e.insertionMode=tj.IN_BODY,wj(e,t)}function tO(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==WC.HTML&&void 0!==e.openElements.currentTagId&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}JC.AREA,JC.BASE,JC.BASEFONT,JC.BGSOUND,JC.BR,JC.COL,JC.EMBED,JC.FRAME,JC.HR,JC.IMG,JC.INPUT,JC.KEYGEN,JC.LINK,JC.META,JC.PARAM,JC.SOURCE,JC.TRACK,JC.WBR;const nO=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,rO=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),sO={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function aO(e,t){const n=function(e){const t="root"===e.type?e.children[0]:e;return Boolean(t&&("doctype"===t.type||"element"===t.type&&"html"===t.tagName.toLowerCase()))}(e),r=lC("type",{handlers:{root:oO,element:lO,text:cO,comment:hO,doctype:uO,raw:pO},unknown:fO}),s={parser:n?new ij(sO):ij.getFragmentParser(void 0,sO),handle(e){r(e,s)},stitches:!1,options:t||{}};r(e,s),mO(s,Sw());const a=function(e,t){const n=t||{};return _A({file:n.file||void 0,location:!1,schema:"svg"===n.space?JT:QT,verbose:n.verbose||!1},e)}(n?s.parser.document:s.parser.getFragment(),{file:s.options.file});return s.stitches&&gS(a,"comment",function(e,t,n){const r=e;if(r.value.stitch&&n&&void 0!==t){return n.children[t]=r.value.stitch,t}}),"root"===a.type&&1===a.children.length&&a.children[0].type===e.type?a.children[0]:a}function iO(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function oO(e,t){iO(e.children,t)}function lO(e,t){!function(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===pI.PLAINTEXT)return;mO(t,Sw(e));const r=t.parser.openElements.current;let s="namespaceURI"in r?r.namespaceURI:xA.html;s===xA.html&&"svg"===n&&(s=xA.svg);const a=function(e,t){const n=(t||cC).space;return dC(e,"svg"===n?iC:aC)}({...e,children:[]},{space:s===xA.svg?"svg":"html"}),i={type:OC.START_TAG,tagName:n,tagID:oI(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in a?a.attrs:[],location:bO(e)};t.parser.currentToken=i,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}(e,t),iO(e.children,t),function(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&mC.includes(n))return;if(t.parser.tokenizer.state===pI.PLAINTEXT)return;mO(t,Nw(e));const r={type:OC.END_TAG,tagName:n,tagID:oI(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:bO(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n!==t.parser.tokenizer.lastStartTagName||t.parser.tokenizer.state!==pI.RCDATA&&t.parser.tokenizer.state!==pI.RAWTEXT&&t.parser.tokenizer.state!==pI.SCRIPT_DATA||(t.parser.tokenizer.state=pI.DATA)}(e,t)}function cO(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:OC.CHARACTER,chars:e.value,location:bO(e)};mO(t,Sw(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function uO(e,t){const n={type:OC.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:bO(e)};mO(t,Sw(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function dO(e,t){t.stitches=!0;const n=function(e){return iS("children"in e?{...e,children:[]}:e)}(e);if("children"in e&&"children"in n){const r=aO({type:"root",children:e.children},t.options);n.children=r.children}hO({type:"comment",value:{stitch:n}},t)}function hO(e,t){const n=e.value,r={type:OC.COMMENT,data:n,location:bO(e)};mO(t,Sw(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function pO(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,gO(t,Sw(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(nO,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),72===t.parser.tokenizer.state||78===t.parser.tokenizer.state){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const e=t.parser.tokenizer._consume();t.parser.tokenizer._callState(e)}}function fO(e,t){const n=e;if(!t.options.passThrough||!t.options.passThrough.includes(n.type)){let e="";throw rO.has(n.type)&&(e=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+e)}dO(n,t)}function mO(e,t){gO(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=pI.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function gO(e,t){if(t&&void 0!==t.offset){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=1-t.column,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function bO(e){const t=Sw(e)||{line:void 0,column:void 0,offset:void 0},n=Nw(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function yO(e){return function(t,n){return aO(t,{...e,file:n})}}function xO({open:e,title:t,description:n,onClose:r,children:s,footer:a,fullScreen:i=!1}){return ht.useEffect(()=>{if(!e)return;const t=e=>{"Escape"===e.key&&r()};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[e,r]),e?Ch.createPortal(_t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 px-4",role:"dialog","aria-modal":"true",onClick:r,children:_t.jsxs("div",{className:"overflow-hidden rounded-2xl bg-white shadow-2xl "+(i?"max-h-[95vh] w-full max-w-7xl":"max-h-[90vh] w-full max-w-3xl"),onClick:e=>e.stopPropagation(),children:[_t.jsxs("div",{className:"flex items-start justify-between border-b border-slate-200 px-6 py-4",children:[_t.jsxs("div",{children:[_t.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:t}),n&&_t.jsx("p",{className:"mt-1 text-sm text-slate-500",children:n})]}),_t.jsx("button",{type:"button",onClick:r,className:"rounded-full p-1 text-slate-500 transition hover:bg-slate-100 hover:text-slate-700","aria-label":"Close dialog",children:_t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-5 w-5",children:_t.jsx("path",{fillRule:"evenodd",d:"M15.78 4.22a.75.75 0 0 0-1.06 0L10 8.94 5.28 4.22a.75.75 0 1 0-1.06 1.06L8.94 10l-4.72 4.72a.75.75 0 1 0 1.06 1.06L10 11.06l4.72 4.72a.75.75 0 1 0 1.06-1.06L11.06 10l4.72-4.72a.75.75 0 0 0 0-1.06",clipRule:"evenodd"})})})]}),_t.jsx("div",{className:"max-h-[65vh] overflow-y-auto px-6 py-6",children:s}),a&&_t.jsx("div",{className:"border-t border-slate-200 bg-slate-50 px-6 py-4",children:a})]})}),document.body):null}function vO({title:e,company:t,location:n,tags:r,salary:s,postedDate:a,isInternSG:i,description:o}){const[l,c]=ht.useState(!1),u=o?o.replace(/<[^>]*>/g,"").slice(0,300):"";return _t.jsxs("div",{className:"rounded-3xl border border-brand-200 bg-gradient-to-br from-brand-50 to-white p-8 shadow-card",children:[i&&_t.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-green-100 px-3 py-1 text-xs font-medium text-green-700 mb-4",children:[_t.jsx("svg",{className:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20",children:_t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"InternSG Partner"]}),_t.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-4",children:e}),_t.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-slate-600 mb-6",children:[_t.jsxs("div",{className:"flex items-center gap-2",children:[_t.jsx(s_,{className:"h-5 w-5"}),_t.jsx("span",{className:"font-medium",children:t})]}),_t.jsxs("div",{className:"flex items-center gap-2",children:[_t.jsx(k_,{className:"h-5 w-5"}),_t.jsx("span",{children:n})]}),s&&_t.jsxs("div",{className:"flex items-center gap-2",children:[_t.jsx(m_,{className:"h-5 w-5"}),_t.jsx("span",{children:s})]}),a&&_t.jsxs("div",{className:"flex items-center gap-2",children:[_t.jsx(p_,{className:"h-5 w-5"}),_t.jsx("span",{children:a})]})]}),_t.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:r.map((e,t)=>_t.jsx("span",{className:"rounded-full bg-brand-100 px-3 py-1 text-sm font-medium text-brand-700",children:e},t))}),o&&_t.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200",children:[_t.jsxs("button",{onClick:()=>c(!l),className:"flex items-center justify-between w-full text-left group",children:[_t.jsx("h3",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:"Job Description"}),l?_t.jsx(l_,{className:"h-5 w-5 text-slate-400 group-hover:text-slate-600 transition"}):_t.jsx(a_,{className:"h-5 w-5 text-slate-400 group-hover:text-slate-600 transition"})]}),_t.jsx("div",{className:"mt-3",children:l?_t.jsx("div",{className:"text-sm leading-relaxed text-slate-600",dangerouslySetInnerHTML:{__html:o.replace(/^#{1,3}\s+(.+)$/gm,'<h3 class="text-base font-bold text-slate-900 mt-6 mb-3">$1</h3>').replace(/^([^:\n]+):$/gm,'<p class="font-semibold text-slate-900 mt-4 mb-2">$1:</p>').split("\n\n").map(e=>e.trim().startsWith("<")?e:`<p class="mb-4">${e.replace(/\n/g,"<br />")}</p>`).join("")}}):_t.jsxs("p",{className:"text-sm leading-relaxed text-slate-600 line-clamp-4",children:[u,300===u.length?"...":""]})}),_t.jsx("div",{className:"mt-3",children:_t.jsx("button",{onClick:()=>c(!l),className:"text-sm font-medium text-brand-600 hover:text-brand-700",children:l?" Collapse":"Read more "})})]})]})}function EO({hasApplied:e,onApply:t}){return _t.jsxs("div",{className:"rounded-xl border border-brand-200 bg-white p-6 shadow-sm",children:[_t.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Ready to Apply?"}),_t.jsx("button",{onClick:t,disabled:e,className:"w-full inline-flex items-center justify-center gap-2 rounded-lg px-5 py-3 text-base font-semibold transition-all "+(e?"bg-green-100 text-green-700 cursor-not-allowed border border-green-200":"bg-brand-600 text-white hover:bg-brand-700 shadow-sm hover:shadow-md"),children:e?_t.jsxs(_t.Fragment,{children:[_t.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:_t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Application Submitted"]}):_t.jsxs(_t.Fragment,{children:[_t.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Apply on Company Website"]})}),!e&&_t.jsx("p",{className:"mt-3 text-xs text-slate-500 text-center",children:"You'll be redirected to the application page"})]})}function _O({companyName:e,isInternSG:t,hrName:n,hrLoading:r,hrProspects:s,hrFetched:a,outreachLoading:i,onFindHR:o,onSearchLinkedIn:l,onGenerateGenericOutreach:c,onGenerateOutreach:u,onCopyEmail:d,onViewAllContacts:h,selectedHRContact:p,outreachMessage:f,onCopyOutreachMessage:m}){return t?n?_t.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200",children:[_t.jsx("div",{className:"flex items-start justify-between mb-3",children:_t.jsxs("div",{children:[_t.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"HR Contact"}),_t.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Connect with the hiring contact for this position"})]})}),_t.jsxs("div",{className:"rounded-lg border border-brand-200 bg-brand-50 p-4",children:[_t.jsx("div",{className:"flex items-start justify-between",children:_t.jsxs("div",{className:"flex-1",children:[_t.jsx("h4",{className:"font-semibold text-slate-900",children:n}),_t.jsx("p",{className:"text-sm text-slate-600 mt-1",children:e}),_t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Contact information not available in our database"})]})}),_t.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[_t.jsxs("button",{onClick:l,className:"inline-flex items-center gap-1 rounded-md bg-white px-3 py-1.5 text-xs font-medium text-blue-700 hover:bg-blue-100 transition border border-blue-200",children:[_t.jsx("svg",{className:"h-3 w-3",fill:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),"Search on LinkedIn"]}),_t.jsxs("button",{onClick:c,disabled:i,className:"inline-flex items-center gap-1 rounded-md bg-white px-3 py-1.5 text-xs font-medium text-purple-700 hover:bg-purple-100 transition border border-purple-200 disabled:opacity-50",children:[_t.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),i?"Generating...":"Draft Outreach Message"]})]})]}),f&&!p&&_t.jsxs("div",{className:"mt-3 rounded-lg border border-purple-200 bg-purple-50 p-4",children:[_t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[_t.jsxs("div",{children:[_t.jsx("h5",{className:"text-xs font-semibold text-purple-800 uppercase tracking-wide",children:"Outreach Message"}),_t.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Generic message ready to customize and send"})]}),_t.jsxs("button",{onClick:m,className:"inline-flex items-center gap-1 rounded-md bg-white px-2 py-1 text-xs font-medium text-purple-700 hover:bg-purple-100 transition border border-purple-200",children:[_t.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy"]})]}),_t.jsxs("div",{className:"mt-3 space-y-2 text-sm",children:[_t.jsxs("div",{children:[_t.jsx("p",{className:"font-medium text-purple-900",children:"Subject:"}),_t.jsx("p",{className:"text-purple-800 mt-1",children:f.subject})]}),_t.jsxs("div",{children:[_t.jsx("p",{className:"font-medium text-purple-900",children:"Body:"}),_t.jsx("p",{className:"text-purple-800 mt-1 whitespace-pre-line",children:f.body})]})]})]})]}):null:_t.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200",children:[_t.jsx("div",{className:"flex items-start justify-between mb-3",children:_t.jsxs("div",{children:[_t.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"HR Contact"}),_t.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Connect directly with hiring managers to increase your chances"})]})}),r?_t.jsxs("div",{className:"flex items-center gap-2 py-4",children:[_t.jsxs("svg",{className:"animate-spin h-5 w-5 text-brand-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[_t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),_t.jsx("p",{className:"text-sm text-slate-600",children:"Searching for HR contacts..."})]}):a?s.length>0?_t.jsxs("div",{className:"space-y-3 mt-4",children:[s.slice(0,2).map((e,t)=>_t.jsxs("div",{className:"rounded-lg border border-brand-200 bg-brand-50 p-4",children:[_t.jsx("div",{className:"flex items-start justify-between",children:_t.jsxs("div",{className:"flex-1",children:[_t.jsx("h4",{className:"font-semibold text-slate-900",children:e.full_name}),_t.jsx("p",{className:"text-sm text-slate-600 mt-1",children:e.job_title}),_t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[e.city,", ",e.country]})]})}),_t.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[e.email&&_t.jsxs("button",{onClick:()=>d(e.email),className:"inline-flex items-center gap-1 rounded-md bg-white px-3 py-1.5 text-xs font-medium text-brand-700 hover:bg-brand-100 transition border border-brand-200",children:[_t.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.email]}),e.linkedin&&_t.jsxs("a",{href:e.linkedin,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 rounded-md bg-white px-3 py-1.5 text-xs font-medium text-blue-700 hover:bg-blue-100 transition border border-blue-200",children:[_t.jsx("svg",{className:"h-3 w-3",fill:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),"LinkedIn"]}),_t.jsxs("button",{onClick:()=>u(e),disabled:i,className:"inline-flex items-center gap-1 rounded-md bg-white px-3 py-1.5 text-xs font-medium text-purple-700 hover:bg-purple-100 transition border border-purple-200 disabled:opacity-50",children:[_t.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),i?"Generating...":"Draft Message"]})]})]},t)),f&&p&&_t.jsxs("div",{className:"rounded-lg border border-purple-200 bg-purple-50 p-4",children:[_t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[_t.jsxs("div",{children:[_t.jsxs("h5",{className:"text-xs font-semibold text-purple-800 uppercase tracking-wide",children:["Outreach Message for ",p.full_name]}),_t.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Personalized message ready to send"})]}),_t.jsxs("button",{onClick:m,className:"text-xs text-purple-700 hover:text-purple-900 font-medium flex items-center gap-1",children:[_t.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy"]})]}),_t.jsxs("div",{className:"space-y-2",children:[_t.jsxs("div",{children:[_t.jsx("p",{className:"text-xs font-semibold text-purple-700",children:"Subject:"}),_t.jsx("p",{className:"text-sm text-purple-900",children:f.subject})]}),_t.jsxs("div",{children:[_t.jsx("p",{className:"text-xs font-semibold text-purple-700",children:"Message:"}),_t.jsx("p",{className:"text-sm text-purple-900 whitespace-pre-wrap",children:f.body})]})]})]}),s.length>2&&_t.jsxs("button",{onClick:h,className:"text-sm text-brand-600 hover:text-brand-700 font-medium",children:["View all ",s.length," contacts "]})]}):_t.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-6",children:_t.jsxs("div",{className:"flex items-start gap-3",children:[_t.jsx("svg",{className:"h-6 w-6 text-slate-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),_t.jsxs("div",{className:"flex-1",children:[_t.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:"No HR Contacts Found"}),_t.jsxs("p",{className:"text-sm text-slate-600 mb-4",children:["We couldn't find HR contacts for ",e," in our database. Try searching on LinkedIn to find the hiring manager for this position."]}),_t.jsxs("div",{className:"flex flex-wrap gap-2",children:[_t.jsxs("button",{onClick:l,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors",children:[_t.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),"Search LinkedIn for HR"]}),_t.jsxs("button",{onClick:c,disabled:i,className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white text-sm font-medium rounded-lg transition-colors disabled:opacity-50",children:[_t.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),i?"Generating...":"Draft Generic Message"]})]}),f&&!p&&_t.jsxs("div",{className:"mt-4 rounded-lg border border-purple-200 bg-purple-50 p-4",children:[_t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[_t.jsxs("div",{children:[_t.jsx("h5",{className:"text-xs font-semibold text-purple-800 uppercase tracking-wide",children:"Generic Outreach Template"}),_t.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Fill in the placeholder values with the HR contact details you find on LinkedIn"})]}),_t.jsxs("button",{onClick:m,className:"text-xs text-purple-700 hover:text-purple-900 font-medium flex items-center gap-1",children:[_t.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy"]})]}),_t.jsxs("div",{className:"space-y-2",children:[_t.jsxs("div",{children:[_t.jsx("p",{className:"text-xs font-semibold text-purple-700",children:"Subject:"}),_t.jsx("p",{className:"text-sm text-purple-900",children:f.subject})]}),_t.jsxs("div",{children:[_t.jsx("p",{className:"text-xs font-semibold text-purple-700",children:"Message:"}),_t.jsx("p",{className:"text-sm text-purple-900 whitespace-pre-wrap",children:f.body})]})]})]})]})]})}):_t.jsx("div",{className:"rounded-lg border border-brand-200 bg-brand-50 p-6",children:_t.jsxs("div",{className:"flex items-start gap-3",children:[_t.jsx("svg",{className:"h-6 w-6 text-brand-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),_t.jsxs("div",{className:"flex-1",children:[_t.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:"Find HR Contacts"}),_t.jsxs("p",{className:"text-sm text-slate-600 mb-4",children:["Search our database for HR contacts at ",e,". We'll check our cache first, then search if needed."]}),_t.jsxs("button",{onClick:o,className:"inline-flex items-center gap-2 px-4 py-2 bg-brand-600 hover:bg-brand-700 text-white text-sm font-medium rounded-lg transition-colors",children:[_t.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Find HR Contacts"]})]})]})})]})}function TO({materials:e,onGenerateResume:t,onGenerateCoverLetter:n,onViewMaterials:r,isGeneratingResume:s,isGeneratingCoverLetter:a}){return _t.jsxs("div",{className:"rounded-3xl border border-brand-200 bg-white p-8 shadow-card",children:[_t.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-6",children:"Application Materials"}),_t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_t.jsxs("button",{type:"button",onClick:t,disabled:s,className:"inline-flex items-center justify-center rounded-xl border-2 border-indigo-200 bg-indigo-50 px-6 py-4 text-base font-semibold text-indigo-700 hover:border-indigo-300 hover:bg-indigo-100 disabled:opacity-60 disabled:cursor-not-allowed transition",children:[_t.jsx(y_,{className:"mr-2 h-5 w-5"}),s?"Generating...":"Generate Resume"]}),_t.jsxs("button",{type:"button",onClick:n,disabled:a,className:"inline-flex items-center justify-center rounded-xl border-2 border-purple-200 bg-purple-50 px-6 py-4 text-base font-semibold text-purple-700 hover:border-purple-300 hover:bg-purple-100 disabled:opacity-60 disabled:cursor-not-allowed transition",children:[_t.jsx(y_,{className:"mr-2 h-5 w-5"}),a?"Generating...":"Generate Cover Letter"]}),e.length>0&&_t.jsxs("button",{type:"button",onClick:r,className:"md:col-span-2 inline-flex items-center justify-center rounded-xl border-2 border-slate-300 bg-white px-6 py-4 text-base font-semibold text-slate-700 hover:border-slate-400 hover:bg-slate-50 transition",children:[_t.jsx(g_,{className:"mr-2 h-5 w-5"}),"View All Materials (",e.length,")"]})]})]})}function wO({score:e,decision:t,isAnalyzing:n}){if(n)return _t.jsx("div",{className:"rounded-xl border border-brand-200 bg-gradient-to-br from-brand-50 to-white p-6 shadow-sm",children:_t.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[_t.jsx("div",{className:"relative",children:_t.jsxs("svg",{className:"animate-spin h-12 w-12 text-brand-600",fill:"none",viewBox:"0 0 24 24",children:[_t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),_t.jsx("p",{className:"mt-3 text-base font-semibold text-slate-700",children:"Analyzing your fit..."}),_t.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"This may take a few seconds"})]})});return _t.jsx("div",{className:`rounded-xl border bg-gradient-to-br ${(e=>{switch(e.toLowerCase()){case"strong_match":return"from-green-500 to-emerald-600";case"possible_match":return"from-blue-500 to-indigo-600";case"weak_match":return"from-amber-500 to-orange-600";case"reject":return"from-red-500 to-rose-600";default:return"from-slate-500 to-slate-600"}})(t)} p-4 md:p-6 shadow-md text-white`,children:_t.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 text-center",children:[_t.jsx("div",{className:"flex items-center gap-3",children:_t.jsx("p",{className:"text-xs font-medium opacity-90 uppercase tracking-wide",children:"Your Fit Score"})}),_t.jsxs("h2",{className:"text-4xl md:text-5xl font-bold",children:[e,"%"]}),_t.jsx("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/20 backdrop-blur px-3 py-1.5",children:_t.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide",children:(e=>{switch(e.toLowerCase()){case"strong_match":return"Strong Match";case"possible_match":return"Possible Match";case"weak_match":return"Weak Match";case"reject":return"Not a Match";default:return e}})(t)})})]})})}const kO=["python","java","javascript","typescript","react","node","sql","aws","azure","docker","kubernetes","api","framework","library","tool","technology","programming","coding","development","testing","ci/cd","git","agile","scrum"],NO=["years","experience","senior","junior","lead","principal","staff","manager","director","worked on","worked with","built","developed","managed","led"],SO=["fintech","healthcare","e-commerce","saas","b2b","b2c","startup","enterprise","industry","domain","business","product","market","customer"],AO=["communication","leadership","teamwork","collaboration","problem-solving","critical thinking","stakeholder","presentation","mentoring","coaching"];function CO(e){const t=e.toLowerCase();return AO.some(e=>t.includes(e))?"soft_skills":NO.some(e=>t.includes(e))?"experience":SO.some(e=>t.includes(e))?"domain":(kO.some(e=>t.includes(e)),"skills")}function IO(e){return e.map(e=>({category:CO(e),text:e}))}const jO={skills:{label:"Technical Skills",icon:f_,color:"blue"},experience:{label:"Experience",icon:r_,color:"purple"},domain:{label:"Domain Knowledge",icon:n_,color:"indigo"},soft_skills:{label:"Soft Skills",icon:O_,color:"pink"}};function OO({matches:e,gaps:t,onViewFullReport:n}){const r={must_haves:IO(e.must_haves),nice_to_haves:IO(e.nice_to_haves)},s={missing:IO(t.missing_must_haves),risks:IO(t.risks)},a=e=>e.reduce((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t.text),e),{}),i=a([...r.must_haves,...r.nice_to_haves]),o=a([...s.missing,...s.risks]),l=(e,t,n)=>{if(!t||0===t.length)return null;const r=jO[e],s=r.icon,a="match"===n,i=a?"green":"amber";return _t.jsxs("div",{className:"space-y-2",children:[_t.jsxs("div",{className:"flex items-center gap-2",children:[_t.jsx(s,{className:`h-4 w-4 text-${i}-600`}),_t.jsx("h4",{className:`text-xs font-semibold text-${i}-800 uppercase tracking-wide`,children:r.label}),_t.jsxs("span",{className:`text-xs text-${i}-600 font-medium`,children:["(",t.length,")"]})]}),_t.jsx("ul",{className:"space-y-1.5 pl-6",children:t.map((e,t)=>_t.jsxs("li",{className:`text-sm text-${i}-900 flex items-start gap-2`,children:[_t.jsx("span",{className:`text-${i}-600 mt-0.5 flex-shrink-0`,children:a?"":""}),_t.jsx("span",{className:"leading-relaxed",children:e})]},t))})]},e)},c=Object.keys(i).length>0,u=Object.keys(o).length>0;return _t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c&&_t.jsxs("div",{className:"rounded-3xl border border-green-200 bg-green-50 p-6 shadow-card",children:[_t.jsxs("div",{className:"flex items-center gap-2 mb-5",children:[_t.jsx(d_,{className:"h-6 w-6 text-green-600"}),_t.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"You Match"})]}),_t.jsx("div",{className:"space-y-5",children:Object.keys(jO).map(e=>l(e,i[e],"match"))}),_t.jsx("div",{className:"mt-6 pt-4 border-t border-green-200",children:_t.jsx("button",{onClick:n,className:"w-full text-sm font-medium text-green-700 hover:text-green-800 hover:underline text-center transition-colors",children:"View Full Analysis "})})]}),u&&_t.jsxs("div",{className:"rounded-3xl border border-amber-200 bg-amber-50 p-6 shadow-card",children:[_t.jsxs("div",{className:"flex items-center gap-2 mb-5",children:[_t.jsx(c_,{className:"h-6 w-6 text-amber-600"}),_t.jsx("h3",{className:"text-lg font-semibold text-amber-900",children:"Gaps to Address"})]}),_t.jsx("div",{className:"space-y-5",children:Object.keys(jO).map(e=>l(e,o[e],"gap"))}),_t.jsx("div",{className:"mt-6 pt-4 border-t border-amber-200",children:_t.jsx("p",{className:"text-xs text-amber-700 text-center",children:"Consider highlighting these in your application materials"})})]})]})}function RO(){const{id:e}=function(){let{matches:e}=ht.useContext(wf),t=e[e.length-1];return t?t.params:{}}(),t=Cf(),{data:n,isLoading:r}=sT(e),s=Y_(e=>e.profile),a=Y_(e=>e.addApplication),[i,o]=ht.useState(void 0),[l,c]=ht.useState(void 0),[u,d]=ht.useState(void 0),[h,p]=ht.useState(null),[f,m]=ht.useState(""),[g,b]=ht.useState(!1),[y,x]=ht.useState([]),[v,E]=ht.useState(!1),[_,T]=ht.useState(!1),[w,k]=ht.useState(null),[N,S]=ht.useState(!1),[A,C]=ht.useState(null),[I,j]=ht.useState(!1),[O,R]=ht.useState(null),[P,D]=ht.useState([]),[L,M]=ht.useState(!1),[B,U]=ht.useState(!1),[F,H]=ht.useState(!1),[z,G]=ht.useState({}),[$,W]=ht.useState(null),[q,V]=ht.useState(""),[Y,K]=ht.useState(!1),Q=ht.useRef(null);ht.useEffect(()=>{(async()=>{if(e&&s&&!w&&Q.current!==e){Q.current=e,S(!0);try{const t=await zE(e,!1);k(t),t.from_cache||ig.success("Fit analysis completed!")}catch(t){Q.current=null}finally{S(!1)}}})()},[e,s]),ht.useEffect(()=>{},[]),ht.useEffect(()=>{},[e]),ht.useEffect(()=>{(async()=>{if(e)try{const t=await VE(e);D(t.materials)}catch(t){}})()},[e]);const J=async()=>{if(e)try{const t=await VE(e);D(t.materials)}catch(t){}};if(!e)return _t.jsx("div",{className:"flex flex-col bg-slate-50",style:{height:"calc(100vh - 120px)"},children:_t.jsx("div",{className:"flex-1 flex items-center justify-center",children:_t.jsx("p",{className:"text-sm text-red-500",children:"Job not found."})})});if(r||!n)return _t.jsx("div",{className:"flex flex-col bg-slate-50",style:{height:"calc(100vh - 120px)"},children:_t.jsx("div",{className:"flex-1 overflow-y-auto",children:_t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6",children:_t.jsxs("div",{className:"space-y-6 animate-pulse",children:[_t.jsx("div",{className:"rounded-3xl border border-slate-200 bg-white p-8 shadow-card",children:_t.jsxs("div",{className:"space-y-4",children:[_t.jsx("div",{className:"h-6 bg-slate-200 rounded w-32"}),_t.jsx("div",{className:"h-8 bg-slate-200 rounded w-3/4"}),_t.jsxs("div",{className:"flex flex-wrap gap-2",children:[_t.jsx("div",{className:"h-6 bg-slate-200 rounded w-24"}),_t.jsx("div",{className:"h-6 bg-slate-200 rounded w-32"}),_t.jsx("div",{className:"h-6 bg-slate-200 rounded w-28"})]}),_t.jsxs("div",{className:"mt-6 space-y-2 pt-6 border-t border-slate-200",children:[_t.jsx("div",{className:"h-4 bg-slate-200 rounded"}),_t.jsx("div",{className:"h-4 bg-slate-200 rounded w-11/12"}),_t.jsx("div",{className:"h-4 bg-slate-200 rounded w-10/12"})]})]})}),_t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-8 shadow-card",children:[_t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[_t.jsx("div",{className:"h-6 bg-slate-200 rounded w-48"}),_t.jsx("div",{className:"h-10 bg-slate-200 rounded w-32"})]}),_t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_t.jsx("div",{className:"h-32 bg-slate-100 rounded-xl border border-slate-200"}),_t.jsx("div",{className:"h-32 bg-slate-100 rounded-xl border border-slate-200"})]})]}),_t.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-8 shadow-card",children:[_t.jsx("div",{className:"h-6 bg-slate-200 rounded w-40 mb-6"}),_t.jsxs("div",{className:"space-y-3",children:[_t.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"}),_t.jsx("div",{className:"h-4 bg-slate-200 rounded w-5/6"})]}),_t.jsxs("div",{className:"mt-6 flex gap-3",children:[_t.jsx("div",{className:"h-10 bg-slate-200 rounded w-32"}),_t.jsx("div",{className:"h-10 bg-slate-200 rounded w-40"})]})]}),_t.jsx("div",{className:"rounded-3xl border border-slate-200 bg-white p-8 shadow-card",children:_t.jsx("div",{className:"h-12 bg-slate-200 rounded-xl w-full"})})]})})})});const X=async(t=!1)=>{if(s&&e){t||p(null),S(!0);try{const n=await zE(e,t);k(n),n.compass_score&&(o(n.compass_score.totalRaw),c(n.compass_score.verdict),d(n.compass_score)),ig.success(n.from_cache&&!t?"Loaded existing assessment from database.":"Fit assessment completed with detailed LLM analysis."),p("report")}catch(n){ig.error(n instanceof Error?n.message:"Unable to assess fit."),t&&p(null)}finally{S(!1)}}},Z=e=>{navigator.clipboard.writeText(e),ig.success("Email copied to clipboard!")},ee=async e=>{if(n){R(e),j(!0),C(null);try{const t=await GE({job_external_id:n.id,job_title:n.title,job_company:n.company,hr_name:e.full_name,hr_email:e.email||e.personal_email||void 0,hr_job_title:e.job_title});C(t),ig.success("Outreach message generated!")}catch(t){ig.error(t instanceof Error?t.message:"Failed to generate message")}finally{j(!1)}}},te=()=>{if(!A)return;const e=`Subject: ${A.subject}\n\n${A.body}`;navigator.clipboard.writeText(e),ig.success("Message copied to clipboard!")},ne=()=>{W(null),V("")},re=async e=>{if(q.trim()){K(!0);try{const{material:t}=await function(e,t){return FE(`/generate/${e}`,{method:"PATCH",body:JSON.stringify({content:t})})}(e,q);D(n=>n.map(n=>n.id===e?t:n)),W(null),V(""),ig.success("Material updated successfully!")}catch(t){ig.error(t instanceof Error?t.message:"Failed to update material")}finally{K(!1)}}else ig.error("Content cannot be empty")};return i??n.scoreRaw,l??n.epIndicator,_t.jsx("div",{className:"flex flex-col bg-slate-50",style:{height:"calc(100vh - 120px)"},children:_t.jsx("div",{className:"flex-1 overflow-y-auto",children:_t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6",children:[_t.jsx(xO,{open:"apply"===h,title:"Confirm Application",description:"Did you complete your application on the external site?",onClose:()=>p(null),footer:_t.jsxs("div",{className:"flex gap-3 justify-end",children:[_t.jsx("button",{type:"button",onClick:()=>p(null),className:"rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Cancel"}),_t.jsx("button",{type:"button",onClick:async()=>{var e;if(s)try{const t=n.applyUrl||n.url||"",r=await(e={jobId:n.id,jobTitle:n.title,jobCompany:n.company,jobUrl:t,status:"sent",notes:f,appliedAt:(new Date).toISOString()},FE("/applications",{method:"POST",body:JSON.stringify(e)}));a(r),b(!0),ig.success("Application recorded! Track it in Applications."),p(null),m("")}catch(r){ig.error(r instanceof Error?r.message:"Unable to record application.")}else t("/knowledge-base")},className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-medium text-white hover:bg-brand-700",children:"Yes, I Applied"})]}),children:_t.jsxs("div",{className:"space-y-4",children:[_t.jsx("p",{className:"text-sm text-slate-600",children:"We'll track this application in your dashboard. You can add notes to help you remember details about this role."}),_t.jsxs("div",{children:[_t.jsx("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-500 mb-2",children:"Notes (optional)"}),_t.jsx("textarea",{value:f,onChange:e=>m(e.target.value),placeholder:"e.g., Submitted cover letter, contacted recruiter...",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",rows:3})]})]})}),_t.jsx(xO,{open:"hr"===h,title:"HR Contacts",description:n.isInternSG?"This is a smaller company from InternSG":`Found ${y.length} HR contacts at ${n.company}`,onClose:()=>{p(null),C(null),R(null)},children:_t.jsx("div",{className:"space-y-4",children:n.isInternSG?_t.jsx("div",{className:"rounded-lg bg-blue-50 border border-blue-200 p-6",children:_t.jsxs("div",{className:"flex items-start gap-3",children:[_t.jsx("svg",{className:"h-6 w-6 text-blue-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),_t.jsxs("div",{className:"flex-1",children:[_t.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"InternSG Company"}),_t.jsxs("p",{className:"text-sm text-blue-800 mb-4 leading-relaxed",children:["This position is from a smaller company listed on InternSG. HR outreach may not be available through our platform.",n.hrName&&_t.jsxs(_t.Fragment,{children:[" ","Please search for ",_t.jsx("span",{className:"font-semibold",children:n.hrName})," on LinkedIn or apply directly on InternSG."]})]}),n.hrName&&_t.jsxs("div",{className:"rounded-md bg-white border border-blue-200 p-4 mb-4",children:[_t.jsx("p",{className:"text-xs font-semibold text-blue-700 uppercase tracking-wide mb-2",children:"HR Contact"}),_t.jsx("p",{className:"text-base text-blue-900 font-bold mb-3",children:n.hrName}),_t.jsxs("button",{onClick:()=>{const e=`site:linkedin.com/in/ ${n.hrName} ${n.company}`,t=`https://www.google.com/search?q=${encodeURIComponent(e)}`;window.open(t,"_blank")},className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors",children:[_t.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),"Search on LinkedIn"]})]}),_t.jsxs("div",{className:"space-y-2",children:[_t.jsx("p",{className:"text-sm font-semibold text-blue-900",children:"Recommended Actions:"}),_t.jsxs("ul",{className:"text-sm text-blue-800 space-y-1.5",children:[_t.jsxs("li",{className:"flex items-start gap-2",children:[_t.jsx("span",{className:"text-blue-600 mt-0.5",children:""}),_t.jsx("span",{children:"Apply directly on InternSG using the Apply Now button"})]}),_t.jsxs("li",{className:"flex items-start gap-2",children:[_t.jsx("span",{className:"text-blue-600 mt-0.5",children:""}),_t.jsx("span",{children:"Check the company's website or LinkedIn page for contact information"})]})]})]})]})]})}):_t.jsx(_t.Fragment,{children:v?_t.jsxs("div",{className:"flex items-center justify-center py-8",children:[_t.jsxs("svg",{className:"animate-spin h-8 w-8 text-brand-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[_t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),_t.jsx("p",{className:"ml-3 text-sm text-slate-600",children:"Searching for HR contacts..."})]}):0===y.length?_t.jsxs("div",{className:"rounded-lg bg-slate-50 border border-slate-200 p-6 text-center",children:[_t.jsx("p",{className:"text-sm text-slate-600",children:"No HR contacts found for this company."}),_t.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Try searching on LinkedIn or the company's careers page."})]}):_t.jsx("div",{className:"space-y-3",children:y.map((e,t)=>_t.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4 hover:border-brand-300 transition",children:[_t.jsx("div",{className:"flex items-start justify-between",children:_t.jsxs("div",{className:"flex-1",children:[_t.jsx("h4",{className:"font-semibold text-slate-900",children:e.full_name}),_t.jsx("p",{className:"text-sm text-slate-600 mt-1",children:e.job_title}),_t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[e.city,", ",e.country]})]})}),_t.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[e.email&&_t.jsxs("button",{onClick:()=>Z(e.email),className:"inline-flex items-center gap-1 rounded-md bg-brand-50 px-3 py-1.5 text-xs font-medium text-brand-700 hover:bg-brand-100 transition",children:[_t.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.email]}),e.linkedin&&_t.jsxs("a",{href:e.linkedin,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 rounded-md bg-blue-50 px-3 py-1.5 text-xs font-medium text-blue-700 hover:bg-blue-100 transition",children:[_t.jsx("svg",{className:"h-3 w-3",fill:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),"LinkedIn"]}),_t.jsxs("button",{onClick:()=>ee(e),disabled:I,className:"inline-flex items-center gap-1 rounded-md bg-purple-50 px-3 py-1.5 text-xs font-medium text-purple-700 hover:bg-purple-100 transition disabled:opacity-50",children:[_t.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),I&&(null==O?void 0:O.email)===e.email?"Generating...":"Draft Message"]})]}),A&&(null==O?void 0:O.email)===e.email&&_t.jsxs("div",{className:"mt-4 rounded-lg border border-purple-200 bg-purple-50 p-4",children:[_t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[_t.jsx("h5",{className:"text-xs font-semibold text-purple-800 uppercase tracking-wide",children:"Generated Outreach Message"}),_t.jsxs("button",{onClick:te,className:"text-xs text-purple-700 hover:text-purple-900 font-medium flex items-center gap-1",children:[_t.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy"]})]}),_t.jsxs("div",{className:"space-y-2",children:[_t.jsxs("div",{children:[_t.jsx("p",{className:"text-xs font-semibold text-purple-700",children:"Subject:"}),_t.jsx("p",{className:"text-sm text-purple-900",children:A.subject})]}),_t.jsxs("div",{children:[_t.jsx("p",{className:"text-xs font-semibold text-purple-700",children:"Message:"}),_t.jsx("p",{className:"text-sm text-purple-900 whitespace-pre-wrap",children:A.body})]})]})]})]},t))})})})}),_t.jsx(xO,{open:"materials"===h,title:"Application Materials",description:`${P.length} generated ${1===P.length?"document":"documents"} for this position`,onClose:()=>{p(null),ne()},fullScreen:!0,children:_t.jsx("div",{className:"space-y-4",children:0===P.length?_t.jsxs("div",{className:"rounded-lg bg-slate-50 border border-slate-200 p-6 text-center",children:[_t.jsx("p",{className:"text-sm text-slate-600",children:"No materials generated yet."}),_t.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Use the buttons on the job page to generate a resume or cover letter."})]}):P.map(e=>{const t=z[e.id]||"preview",n=$===e.id;return _t.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4 sm:p-6",children:[_t.jsxs("div",{className:"flex flex-col gap-3 mb-4",children:[_t.jsx("div",{className:"flex items-start justify-between gap-2",children:_t.jsxs("div",{className:"flex items-center gap-3",children:[_t.jsx("div",{className:"p-2 rounded-lg "+("resume"===e.material_type?"bg-indigo-100 text-indigo-700":"bg-purple-100 text-purple-700"),children:_t.jsx(y_,{className:"h-5 w-5"})}),_t.jsxs("div",{children:[_t.jsx("h4",{className:"font-semibold text-slate-900 capitalize",children:e.material_type.replace("_"," ")}),_t.jsxs("p",{className:"text-xs text-slate-500",children:["Generated ",new Date(e.created_at).toLocaleDateString()," at"," ",new Date(e.created_at).toLocaleTimeString()]})]})]})}),_t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[!n&&_t.jsxs(_t.Fragment,{children:[_t.jsxs("div",{className:"flex items-center gap-1 rounded-md bg-slate-100 p-1 w-full sm:w-auto",children:[_t.jsx("button",{onClick:()=>G(t=>({...t,[e.id]:"preview"})),className:"flex-1 sm:flex-none px-3 py-1.5 text-xs font-medium rounded transition "+("preview"===t?"bg-white text-slate-900 shadow-sm":"text-slate-600 hover:text-slate-900"),children:"Preview"}),_t.jsx("button",{onClick:()=>G(t=>({...t,[e.id]:"raw"})),className:"flex-1 sm:flex-none px-3 py-1.5 text-xs font-medium rounded transition "+("raw"===t?"bg-white text-slate-900 shadow-sm":"text-slate-600 hover:text-slate-900"),children:"Raw"})]}),_t.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[_t.jsxs("button",{onClick:()=>{return t=e.id,n=e.content,W(t),void V(n);var t,n},className:"flex-1 sm:flex-none inline-flex items-center justify-center gap-1 rounded-md bg-blue-100 px-3 py-1.5 text-xs font-medium text-blue-700 hover:bg-blue-200 transition",children:[_t.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),_t.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(e.content),ig.success("Content copied to clipboard!")},className:"flex-1 sm:flex-none inline-flex items-center justify-center gap-1 rounded-md bg-slate-100 px-3 py-1.5 text-xs font-medium text-slate-700 hover:bg-slate-200 transition",children:[_t.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy"]})]})]}),n&&_t.jsxs("div",{className:"flex gap-2 w-full sm:w-auto sm:ml-auto",children:[_t.jsx("button",{onClick:ne,disabled:Y,className:"flex-1 sm:flex-none inline-flex items-center justify-center gap-1 rounded-md bg-slate-100 px-3 py-1.5 text-xs font-medium text-slate-700 hover:bg-slate-200 transition disabled:opacity-50",children:"Cancel"}),_t.jsxs("button",{onClick:()=>re(e.id),disabled:Y,className:"flex-1 sm:flex-none inline-flex items-center justify-center gap-1 rounded-md bg-green-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-green-700 transition disabled:opacity-50",children:[_t.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),Y?"Saving...":"Save"]})]})]})]}),_t.jsx("div",{className:"rounded-md border border-slate-200 bg-slate-50 p-6 max-h-[60vh] overflow-y-auto",children:n?_t.jsx("textarea",{value:q,onChange:e=>V(e.target.value),className:"w-full min-h-[500px] p-3 text-sm text-slate-700 font-mono border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-y",placeholder:"Edit your material here..."}):"preview"===t?_t.jsx("div",{className:"markdown-preview",children:_t.jsx(cA,{rehypePlugins:[yO],components:{h1(e){const{node:t,...n}=e;return _t.jsx("h1",{className:"text-2xl font-bold mb-4 pb-2 border-b border-slate-300 text-slate-900",...n})},h2(e){const{node:t,...n}=e;return _t.jsx("h2",{className:"text-xl font-semibold mt-6 mb-3 text-slate-900",...n})},h3(e){const{node:t,...n}=e;return _t.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2 text-slate-800",...n})},p(e){const{node:t,...n}=e;return _t.jsx("p",{className:"mb-4 leading-relaxed text-slate-700 whitespace-pre-wrap break-words",...n})},strong(e){const{node:t,...n}=e;return _t.jsx("strong",{className:"font-bold text-slate-900",...n})},em(e){const{node:t,...n}=e;return _t.jsx("em",{className:"italic text-slate-700",...n})},mark(e){const{node:t,...n}=e;return _t.jsx("mark",{className:"bg-yellow-200 px-0.5 rounded",...n})},ul(e){const{node:t,...n}=e;return _t.jsx("ul",{className:"list-disc ml-6 my-4 space-y-2",...n})},ol(e){const{node:t,...n}=e;return _t.jsx("ol",{className:"list-decimal ml-6 my-4 space-y-2",...n})},li(e){const{node:t,...n}=e;return _t.jsx("li",{className:"text-slate-700 leading-relaxed",...n})},a(e){const{node:t,...n}=e;return _t.jsx("a",{className:"text-blue-600 hover:underline break-words",...n})},code(e){const{node:t,...n}=e;return _t.jsx("code",{className:"bg-slate-200 px-1.5 py-0.5 rounded text-sm font-mono text-slate-800",...n})},blockquote(e){const{node:t,...n}=e;return _t.jsx("blockquote",{className:"border-l-4 border-slate-300 pl-4 italic text-slate-600 my-4",...n})},hr(e){const{node:t,...n}=e;return _t.jsx("hr",{className:"my-6 border-slate-300",...n})}},children:e.content.replace(/^```markdown\n?/,"").replace(/\n?```$/,"")})}):_t.jsx("pre",{className:"text-sm text-slate-700 whitespace-pre-wrap break-words font-mono leading-relaxed",children:e.content})}),e.metadata&&!n&&_t.jsxs("div",{className:"mt-3 text-xs text-slate-500",children:[_t.jsx("span",{className:"font-semibold",children:"Tone:"})," ",e.metadata.tone||"Professional"]})]},e.id)})})}),_t.jsx(xO,{open:"assess"===h,title:"Assess Fit with LLM",description:"Get detailed analysis of how well you match this role",onClose:()=>p(null),footer:_t.jsxs("div",{className:"flex gap-3 justify-end",children:[_t.jsx("button",{type:"button",onClick:()=>p(null),className:"rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Cancel"}),_t.jsx("button",{type:"button",onClick:()=>X(!1),className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-medium text-white hover:bg-brand-700",children:"Run Assessment"})]}),children:_t.jsxs("div",{className:"space-y-4",children:[_t.jsx("p",{className:"text-sm text-slate-600",children:"This will use AI to analyze your profile against the job requirements and provide detailed recommendations. The analysis typically takes 10-15 seconds."}),_t.jsxs("div",{className:"rounded-lg bg-blue-50 border border-blue-200 p-4",children:[_t.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"What you'll get:"}),_t.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[_t.jsx("li",{children:" Updated COMPASS score based on this specific role"}),_t.jsx("li",{children:" Detailed breakdown across 6 dimensions"}),_t.jsx("li",{children:" Personalized recommendations to improve your match"})]})]})]})}),_t.jsxs(xO,{open:"report"===h,title:"Job Fit Assessment Report",description:w?`Analysis for ${w.role_title} at ${n.company}`:"",onClose:()=>p(null),footer:_t.jsxs("div",{className:"flex gap-3 justify-between w-full",children:[_t.jsx("div",{className:"flex items-center gap-2",children:(null==w?void 0:w.from_cache)&&_t.jsx("span",{className:"text-xs text-slate-500 italic",children:"Loaded from previous analysis"})}),_t.jsxs("div",{className:"flex gap-2",children:[_t.jsx("button",{type:"button",onClick:()=>X(!0),disabled:N,className:"rounded-lg border border-brand-600 bg-white px-4 py-2 text-sm font-medium text-brand-600 hover:bg-brand-50 disabled:opacity-50 disabled:cursor-not-allowed",children:N?"Regenerating...":"Regenerate"}),_t.jsx("button",{type:"button",onClick:()=>p(null),disabled:N,className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-medium text-white hover:bg-brand-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Close"})]})]}),children:[N&&_t.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-50 rounded-lg",children:_t.jsxs("div",{className:"text-center",children:[_t.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-brand-200 border-t-brand-600 mb-4"}),_t.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Regenerating assessment..."}),_t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"This may take a few moments"})]})}),w&&_t.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto",children:[_t.jsxs("div",{className:"rounded-lg bg-gradient-to-br from-brand-50 to-blue-50 border border-brand-200 p-6",children:[_t.jsxs("div",{className:"flex items-center justify-between",children:[_t.jsxs("div",{children:[_t.jsxs("h3",{className:"text-2xl font-bold text-slate-900",children:[w.overall_score,"/100"]}),_t.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Overall Match Score"})]}),_t.jsx("div",{className:"inline-flex items-center rounded-full px-4 py-2 text-sm font-semibold "+("strong_match"===w.decision?"bg-green-100 text-green-800":"possible_match"===w.decision?"bg-yellow-100 text-yellow-800":"weak_match"===w.decision?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"),children:w.decision.replace("_"," ").toUpperCase()})]}),_t.jsxs("div",{className:"mt-4 pt-4 border-t border-brand-200",children:[_t.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide font-semibold mb-2",children:"Must-Have Coverage"}),_t.jsxs("div",{className:"flex items-center gap-3",children:[_t.jsx("div",{className:"flex-1 bg-white rounded-full h-3 overflow-hidden",children:_t.jsx("div",{className:"bg-brand-600 h-full rounded-full transition-all duration-500",style:{width:100*w.must_have_coverage+"%"}})}),_t.jsxs("span",{className:"text-sm font-semibold text-slate-700",children:[Math.round(100*w.must_have_coverage),"%"]})]})]})]}),_t.jsxs("div",{children:[_t.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500 mb-3",children:"Detailed Subscores"}),_t.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(w.subscores).map(([e,t])=>_t.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[_t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[_t.jsx("span",{className:"text-xs font-medium text-slate-600 capitalize",children:e.replace(/_/g," ")}),_t.jsxs("span",{className:"text-lg font-bold text-brand-600",children:[t,"/5"]})]}),_t.jsx("div",{className:"bg-slate-100 rounded-full h-2 overflow-hidden",children:_t.jsx("div",{className:"bg-brand-600 h-full rounded-full transition-all",style:{width:t/5*100+"%"}})})]},e))})]}),(w.evidence.matched_must_haves.length>0||w.evidence.matched_nice_to_haves.length>0)&&_t.jsxs("div",{children:[_t.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500 mb-3",children:" Strengths & Matches"}),_t.jsxs("div",{className:"space-y-4",children:[w.evidence.matched_must_haves.length>0&&_t.jsxs("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:[_t.jsx("h5",{className:"text-xs font-semibold text-green-800 uppercase tracking-wide mb-2",children:"Matched Must-Haves"}),_t.jsx("ul",{className:"space-y-1",children:w.evidence.matched_must_haves.map((e,t)=>_t.jsxs("li",{className:"text-sm text-green-900 flex items-start gap-2",children:[_t.jsx("span",{className:"text-green-600 mt-0.5",children:""}),_t.jsx("span",{children:e})]},t))})]}),w.evidence.matched_nice_to_haves.length>0&&_t.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4",children:[_t.jsx("h5",{className:"text-xs font-semibold text-blue-800 uppercase tracking-wide mb-2",children:"Matched Nice-to-Haves"}),_t.jsx("ul",{className:"space-y-1",children:w.evidence.matched_nice_to_haves.map((e,t)=>_t.jsxs("li",{className:"text-sm text-blue-900 flex items-start gap-2",children:[_t.jsx("span",{className:"text-blue-600 mt-0.5",children:""}),_t.jsx("span",{children:e})]},t))})]}),w.evidence.impact_highlights.length>0&&_t.jsxs("div",{className:"rounded-lg border border-purple-200 bg-purple-50 p-4",children:[_t.jsx("h5",{className:"text-xs font-semibold text-purple-800 uppercase tracking-wide mb-2",children:"Impact Highlights"}),_t.jsx("ul",{className:"space-y-1",children:w.evidence.impact_highlights.map((e,t)=>_t.jsxs("li",{className:"text-sm text-purple-900 flex items-start gap-2",children:[_t.jsx("span",{className:"text-purple-600 mt-0.5",children:""}),_t.jsx("span",{children:e})]},t))})]}),w.evidence.tools_stack_matched.length>0&&_t.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[_t.jsx("h5",{className:"text-xs font-semibold text-slate-800 uppercase tracking-wide mb-2",children:"Tools & Tech Stack"}),_t.jsx("div",{className:"flex flex-wrap gap-2",children:w.evidence.tools_stack_matched.map((e,t)=>_t.jsx("span",{className:"inline-block rounded-full bg-white border border-slate-300 px-3 py-1 text-xs font-medium text-slate-700",children:e},t))})]})]})]}),(w.gaps.missing_must_haves.length>0||w.gaps.risks.length>0)&&_t.jsxs("div",{children:[_t.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500 mb-3",children:" Gaps & Areas for Improvement"}),_t.jsxs("div",{className:"space-y-4",children:[w.gaps.missing_must_haves.length>0&&_t.jsxs("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:[_t.jsx("h5",{className:"text-xs font-semibold text-red-800 uppercase tracking-wide mb-2",children:"Missing Must-Haves"}),_t.jsx("ul",{className:"space-y-1",children:w.gaps.missing_must_haves.map((e,t)=>_t.jsxs("li",{className:"text-sm text-red-900 flex items-start gap-2",children:[_t.jsx("span",{className:"text-red-600 mt-0.5",children:""}),_t.jsx("span",{children:e})]},t))})]}),w.gaps.risks.length>0&&_t.jsxs("div",{className:"rounded-lg border border-orange-200 bg-orange-50 p-4",children:[_t.jsx("h5",{className:"text-xs font-semibold text-orange-800 uppercase tracking-wide mb-2",children:"Potential Risks"}),_t.jsx("ul",{className:"space-y-1",children:w.gaps.risks.map((e,t)=>_t.jsxs("li",{className:"text-sm text-orange-900 flex items-start gap-2",children:[_t.jsx("span",{className:"text-orange-600 mt-0.5",children:""}),_t.jsx("span",{children:e})]},t))})]})]})]}),w.recommendations_to_candidate.length>0&&_t.jsxs("div",{children:[_t.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500 mb-3",children:"Recommendations for You"}),_t.jsx("div",{className:"rounded-lg border border-brand-200 bg-brand-50 p-4",children:_t.jsx("ul",{className:"space-y-2",children:w.recommendations_to_candidate.map((e,t)=>_t.jsxs("li",{className:"text-sm text-slate-700 flex items-start gap-3",children:[_t.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-brand-600 text-white text-xs font-bold flex-shrink-0 mt-0.5",children:t+1}),_t.jsx("span",{children:e})]},t))})})]}),w.questions_for_interview.length>0&&_t.jsxs("div",{children:[_t.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500 mb-3",children:"Suggested Interview Questions"}),_t.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[_t.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Questions the hiring manager might ask based on your profile:"}),_t.jsx("ul",{className:"space-y-2",children:w.questions_for_interview.map((e,t)=>_t.jsx("li",{className:"text-sm text-slate-700 flex items-start gap-3 pl-4 border-l-2 border-brand-400",children:_t.jsx("span",{children:e})},t))})]})]}),w.notes&&_t.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[_t.jsx("h5",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wide mb-2",children:"Additional Notes"}),_t.jsx("p",{className:"text-sm text-slate-700",children:w.notes})]})]})]}),_t.jsxs("div",{className:"space-y-6",children:[_t.jsx(vO,{title:n.title,company:n.company,location:n.location,tags:[n.industry],salary:n.salaryMinSGD&&n.salaryMaxSGD?`SGD ${n.salaryMinSGD.toLocaleString()} - ${n.salaryMaxSGD.toLocaleString()}`:void 0,postedDate:n.createdAt,isInternSG:n.isInternSG,description:n.description}),(N||w)&&_t.jsx(wO,{score:(null==w?void 0:w.overall_score)||0,decision:(null==w?void 0:w.decision)||"pending",isAnalyzing:N}),w&&_t.jsx(OO,{matches:{must_haves:w.evidence.matched_must_haves||[],nice_to_haves:w.evidence.matched_nice_to_haves||[]},gaps:{missing_must_haves:w.gaps.missing_must_haves||[],risks:w.gaps.risks||[]},onViewFullReport:()=>p("report")}),_t.jsx(TO,{materials:P,onGenerateResume:async()=>{if(e){M(!0);try{const{material:t}=await function(e,t){return FE(`/generate/resume/${e}`,{method:"POST",body:JSON.stringify(t||{})})}(e,{tone:"professional"});await J(),ig.success('Resume generated successfully! Click "View Materials" to see it.')}catch(t){ig.error(t instanceof Error?t.message:"Failed to generate resume")}finally{M(!1)}}},onGenerateCoverLetter:async()=>{if(e){U(!0);try{const{material:t}=await function(e,t){return FE(`/generate/cover-letter/${e}`,{method:"POST",body:JSON.stringify(t||{})})}(e,{tone:"professional"});await J(),ig.success('Cover letter generated successfully! Click "View Materials" to see it.')}catch(t){ig.error(t instanceof Error?t.message:"Failed to generate cover letter")}finally{U(!1)}}},onViewMaterials:()=>{p("materials")},isGeneratingResume:L,isGeneratingCoverLetter:B}),_t.jsx(_O,{companyName:n.company,isInternSG:n.isInternSG,hrName:n.hrName,hrLoading:v,hrProspects:y,hrFetched:_,outreachLoading:I,outreachMessage:A,selectedHRContact:O,onFindHR:async()=>{if(n){E(!0),T(!0);try{const t=`${n.company.toLowerCase().replace(/\s+/g,"")}.com`,r=await function(e){return FE(`/hr/cache?company_domain=${encodeURIComponent(e)}`,{method:"GET"})}(t);if(r.prospects&&r.prospects.length>0)return x(r.prospects),ig.success("HR contacts loaded from cache!"),void E(!1);const s=await(e={company_domain:t,fetch_count:3},FE("/hr/search",{method:"POST",body:JSON.stringify(e)}));x(s.prospects),s.prospects.length>0&&ig.success("HR contacts found and cached!")}catch(t){ig.error(t instanceof Error?t.message:"Failed to search for HR contacts"),x([])}finally{E(!1)}var e}},onSearchLinkedIn:()=>{const e=n.hrName?`site:linkedin.com/in/ "${n.hrName}" ${n.company} singapore`:`site:linkedin.com/in/ ${n.company} (hr OR "hiring manager" OR "talent acquisition" OR recruiter) singapore`,t=`https://www.google.com/search?q=${encodeURIComponent(e)}`;window.open(t,"_blank")},onCopyEmail:Z,onGenerateOutreach:ee,onGenerateGenericOutreach:async()=>{if(n){R(null),j(!0),C(null);try{const e=await GE({job_external_id:n.id,job_title:n.title,job_company:n.company,hr_name:n.hrName||"[HR Name]",hr_email:void 0,hr_job_title:"[HR Title]"});C(e),n.hrName?ig.success(`Outreach message generated for ${n.hrName}!`):ig.success("Generic outreach template generated! Fill in HR details after finding contact.")}catch(e){ig.error(e instanceof Error?e.message:"Failed to generate message")}finally{j(!1)}}},onCopyOutreachMessage:te,onViewAllContacts:()=>p("hr")}),_t.jsx(EO,{hasApplied:g,onApply:()=>{if(!n)return;const e=n.applyUrl||n.url||"";window.open(e,"_blank","noopener,noreferrer"),setTimeout(()=>{p("apply")},1e3)}})]})]})})})}function PO(){const e=Cf(),t=Y_(e=>e.profile),n=Y_(e=>e.applications),r=Y_(e=>e.setApplications),[s,a]=ht.useState("idle");if(ht.useEffect(()=>{t&&t.id&&"local-user"!==t.id&&t.skills&&0!==t.skills.length||e("/knowledge-base")},[t,e]),ht.useEffect(()=>{let e=!0;return(async()=>{a("loading");try{const t=await FE("/applications",{method:"GET"});e&&(r(t.items),a("idle"))}catch{e&&a("error")}})(),()=>{e=!1}},[r]),!t)return _t.jsx("div",{className:"flex flex-col bg-slate-50",style:{height:"calc(100vh - 120px)"},children:_t.jsx("div",{className:"flex-1 flex items-center justify-center",children:_t.jsx(eT,{title:"No profile yet",description:"Add your knowledge sources to start tracking your job applications.",action:_t.jsx(em,{to:"/knowledge-base",className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-brand-700",children:"Set Up Profile"})})})});const i=e=>{switch(e){case"draft":default:return"bg-slate-100 text-slate-700";case"sent":return"bg-blue-100 text-blue-700";case"responded":return"bg-purple-100 text-purple-700";case"interview":return"bg-green-100 text-green-700";case"offer":return"bg-emerald-100 text-emerald-700";case"rejected":return"bg-red-100 text-red-700"}},o=e=>{switch(e){case"sent":return"Applied";case"responded":return"Responded";case"interview":return"Interview";case"offer":return"Offer";case"rejected":return"Rejected";case"draft":return"Draft";default:return e}};return _t.jsx("div",{className:"flex flex-col bg-slate-50",style:{height:"calc(100vh - 120px)"},children:_t.jsx("div",{className:"flex-1 overflow-y-auto",children:_t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6",children:["loading"===s&&_t.jsx("p",{className:"text-sm text-slate-500",children:"Loading applications"}),"error"===s&&_t.jsx("p",{className:"text-sm text-red-500",children:"Unable to load applications. Please try again later."}),0===n.length?_t.jsx(eT,{title:"No applications yet",description:"Start applying to jobs and track your progress here.",action:_t.jsx(em,{to:"/jobs",className:"rounded-lg bg-brand-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-brand-700",children:"Browse Jobs"})}):_t.jsx("div",{className:"space-y-4",children:n.map(e=>_t.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-card hover:shadow-lg transition-shadow",children:_t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[_t.jsxs("div",{className:"flex-1",children:[_t.jsxs("div",{className:"flex items-start gap-3",children:[_t.jsxs("div",{className:"flex-1",children:[_t.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:e.jobTitle}),_t.jsx("p",{className:"mt-1 text-sm text-slate-600",children:e.jobCompany})]}),_t.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-medium ${i(e.status)}`,children:o(e.status)})]}),e.notes&&_t.jsx("p",{className:"mt-3 text-sm text-slate-500 line-clamp-2",children:e.notes}),_t.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 text-xs text-slate-400",children:[e.appliedAt&&_t.jsxs("span",{children:["Applied: ",new Date(e.appliedAt).toLocaleDateString()]}),_t.jsxs("span",{children:["Updated: ",new Date(e.updatedAt).toLocaleDateString()]})]})]}),_t.jsxs("div",{className:"flex gap-2 sm:flex-col sm:items-end",children:[e.jobUrl&&_t.jsxs("a",{href:e.jobUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs font-medium text-brand-600 hover:text-brand-700",children:["View Job",_t.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]}),_t.jsxs(em,{to:`/jobs/${e.jobId}`,className:"inline-flex items-center gap-1 text-xs font-medium text-slate-600 hover:text-slate-900",children:["View Details",_t.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})},e.id))})]})})})}function DO(){var e,t;const n=ht.useRef(null),{user:r,signOut:s}=LE(),a=Y_(e=>e.profile),i=Y_(e=>e.basicInfo),[o,l]=ht.useState(!1),c=(null==(e=null==r?void 0:r.user_metadata)?void 0:e.full_name)||(null==a?void 0:a.name)||(null==i?void 0:i.name)||"User",u=(null==r?void 0:r.email)||"",d=null==(t=null==r?void 0:r.user_metadata)?void 0:t.avatar_url,h=ht.useMemo(()=>(e=>{const t=e.split(" ").filter(Boolean).slice(0,2);return 0===t.length?"U":t.map(e=>{var t;return(null==(t=e[0])?void 0:t.toUpperCase())??""}).join("")})(c),[c]),p=ht.useMemo(()=>{const e=[];return(null==a?void 0:a.nationality)&&e.push(a.nationality),null!=(null==a?void 0:a.yearsExperience)&&e.push(`${a.yearsExperience} yrs exp`),e.length>0?e.join("  "):null},[a]);ht.useEffect(()=>{if(!o)return;const e=e=>{n.current&&!n.current.contains(e.target)&&l(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[o]);return _t.jsxs("div",{className:"relative",ref:n,children:[_t.jsxs("button",{type:"button",onClick:()=>l(e=>!e),className:"flex items-center gap-2 rounded-full border border-slate-200 bg-white px-3 py-1.5 text-sm font-medium text-slate-700 shadow-sm transition hover:bg-slate-50 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brand-500","aria-haspopup":"menu","aria-expanded":o,children:[d?_t.jsx("img",{src:d,alt:c,className:"h-8 w-8 rounded-full object-cover"}):_t.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-brand-100 text-sm font-semibold text-brand-700",children:h}),_t.jsx("span",{className:"hidden sm:inline",children:c.split(" ")[0]}),_t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4 text-slate-400",children:_t.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),o&&_t.jsxs("div",{className:"absolute right-0 mt-2 w-80 origin-top-right rounded-xl border border-slate-200 bg-white shadow-xl ring-1 ring-black ring-opacity-5 focus:outline-none z-50",children:[_t.jsx("div",{className:"p-4 border-b border-slate-100",children:_t.jsxs("div",{className:"flex items-start gap-3",children:[d?_t.jsx("img",{src:d,alt:c,className:"h-12 w-12 rounded-full object-cover flex-shrink-0"}):_t.jsx("span",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-brand-100 text-lg font-semibold text-brand-700 flex-shrink-0",children:h}),_t.jsxs("div",{className:"flex-1 min-w-0",children:[_t.jsx("p",{className:"text-sm font-semibold text-slate-900 truncate",children:c}),_t.jsx("p",{className:"text-xs text-slate-500 truncate mt-0.5",children:u}),p&&_t.jsx("p",{className:"text-xs text-slate-600 mt-1",children:p}),(null==a?void 0:a.educationLevel)&&_t.jsx("div",{className:"mt-2 inline-flex items-center rounded-full bg-brand-50 px-2 py-0.5 text-xs font-medium text-brand-700",children:a.educationLevel})]})]})}),(null==a?void 0:a.latestCompassScore)&&_t.jsx("div",{className:"px-4 py-3 border-b border-slate-100 bg-slate-50",children:_t.jsxs("div",{className:"flex items-center justify-between",children:[_t.jsxs("div",{children:[_t.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Latest COMPASS Score"}),_t.jsxs("p",{className:"text-lg font-bold text-slate-900 mt-1",children:[a.latestCompassScore.totalRaw??a.latestCompassScore.total,"/110"]})]}),_t.jsx("div",{className:"rounded-lg px-3 py-1 text-xs font-semibold "+("Likely"===a.latestCompassScore.verdict?"bg-green-100 text-green-700":"Borderline"===a.latestCompassScore.verdict?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:a.latestCompassScore.verdict})]})}),_t.jsx("div",{className:"py-1",children:_t.jsxs("button",{onClick:async()=>{try{await s(),l(!1)}catch(e){}},className:"w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 flex items-center gap-2",children:[_t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:[_t.jsx("path",{fillRule:"evenodd",d:"M3 4.25A2.25 2.25 0 015.25 2h5.5A2.25 2.25 0 0113 4.25v2a.75.75 0 01-1.5 0v-2a.75.75 0 00-.75-.75h-5.5a.75.75 0 00-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 00.75-.75v-2a.75.75 0 011.5 0v2A2.25 2.25 0 0110.75 18h-5.5A2.25 2.25 0 013 15.75V4.25z",clipRule:"evenodd"}),_t.jsx("path",{fillRule:"evenodd",d:"M19 10a.75.75 0 00-.75-.75H8.704l1.048-.943a.75.75 0 10-1.004-1.114l-2.5 2.25a.75.75 0 000 1.114l2.5 2.25a.75.75 0 101.004-1.114l-1.048-.943h9.546A.75.75 0 0019 10z",clipRule:"evenodd"})]}),"Sign out"]})})]})]})}function LO(){var e,t;const{user:n,signOut:r}=LE(),s=Y_(e=>e.profile),a=Y_(e=>e.basicInfo),i=(null==(e=null==n?void 0:n.user_metadata)?void 0:e.full_name)||(null==s?void 0:s.name)||(null==a?void 0:a.name)||"User",o=(null==n?void 0:n.email)||"",l=null==(t=null==n?void 0:n.user_metadata)?void 0:t.avatar_url,c=(e=>{const t=e.split(" ").filter(Boolean).slice(0,2);return 0===t.length?"U":t.map(e=>{var t;return(null==(t=e[0])?void 0:t.toUpperCase())??""}).join("")})(i);return _t.jsxs("div",{className:"rounded-lg bg-slate-50 p-4",children:[_t.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[l?_t.jsx("img",{src:l,alt:i,className:"h-12 w-12 rounded-full object-cover flex-shrink-0"}):_t.jsx("span",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-brand-100 text-lg font-semibold text-brand-700 flex-shrink-0",children:c}),_t.jsxs("div",{className:"flex-1 min-w-0",children:[_t.jsx("p",{className:"text-sm font-semibold text-slate-900 truncate",children:i}),_t.jsx("p",{className:"text-xs text-slate-500 truncate mt-0.5",children:o}),(null==s?void 0:s.nationality)&&null!=(null==s?void 0:s.yearsExperience)&&_t.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:[s.nationality,"  ",s.yearsExperience," yrs exp"]}),(null==s?void 0:s.educationLevel)&&_t.jsx("div",{className:"mt-2 inline-flex items-center rounded-full bg-brand-50 px-2 py-0.5 text-xs font-medium text-brand-700",children:s.educationLevel})]})]}),(null==s?void 0:s.latestCompassScore)&&_t.jsx("div",{className:"rounded-lg bg-white border border-slate-200 p-3 mb-3",children:_t.jsxs("div",{className:"flex items-center justify-between",children:[_t.jsxs("div",{children:[_t.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Latest Score"}),_t.jsxs("p",{className:"text-lg font-bold text-slate-900 mt-0.5",children:[s.latestCompassScore.totalRaw??s.latestCompassScore.total,"/110"]})]}),_t.jsx("div",{className:"rounded-lg px-3 py-1.5 text-xs font-semibold "+("Likely"===s.latestCompassScore.verdict?"bg-green-100 text-green-700":"Borderline"===s.latestCompassScore.verdict?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:s.latestCompassScore.verdict})]})}),_t.jsxs("button",{onClick:async()=>{try{await r()}catch(e){}},className:"w-full flex items-center justify-center gap-2 rounded-lg bg-white border border-slate-200 px-4 py-2.5 text-sm font-medium text-slate-700 hover:bg-slate-50 transition",children:[_t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:[_t.jsx("path",{fillRule:"evenodd",d:"M3 4.25A2.25 2.25 0 015.25 2h5.5A2.25 2.25 0 0113 4.25v2a.75.75 0 01-1.5 0v-2a.75.75 0 00-.75-.75h-5.5a.75.75 0 00-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 00.75-.75v-2a.75.75 0 011.5 0v2A2.25 2.25 0 0110.75 18h-5.5A2.25 2.25 0 013 15.75V4.25z",clipRule:"evenodd"}),_t.jsx("path",{fillRule:"evenodd",d:"M19 10a.75.75 0 00-.75-.75H8.704l1.048-.943a.75.75 0 10-1.004-1.114l-2.5 2.25a.75.75 0 000 1.114l2.5 2.25a.75.75 0 101.004-1.114l-1.048-.943h9.546A.75.75 0 0019 10z",clipRule:"evenodd"})]}),"Sign out"]})]})}const MO=({isActive:e})=>["px-3 py-2 rounded-md text-sm font-medium transition-colors",e?"bg-brand-100 text-brand-800":"text-slate-600 hover:bg-slate-100"].join(" ");function BO(){const{user:e}=LE(),t=Y_(e=>e.profile),n=Y_(e=>e.loadProfileFromDB),[r,s]=ht.useState(!1);ht.useEffect(()=>{e&&n().catch(e=>{})},[e,n]);const a=!!(t&&t.id&&"local-user"!==t.id&&t.skills&&t.skills.length>0);return _t.jsxs(ME,{children:[_t.jsx(ag,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#0f172a",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),_t.jsxs("div",{className:"min-h-screen flex flex-col",children:[e&&_t.jsxs("header",{className:"border-b bg-white sticky top-0 z-30",children:[_t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 sm:py-4 w-full relative",children:[_t.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[_t.jsx(em,{to:"/",className:"flex items-center",children:_t.jsx("img",{src:"/android-chrome-192x192.png",alt:"CTO",className:"w-7 h-7 sm:w-8 sm:h-8"})}),_t.jsx("p",{className:"hidden sm:block text-xs text-slate-500",children:"Your Personal Chief Talent Officer"})]}),_t.jsxs("nav",{className:"hidden md:flex gap-2 absolute left-1/2 transform -translate-x-1/2",children:[_t.jsx(tm,{to:"/knowledge-base",className:MO,children:"You"}),a?_t.jsxs(_t.Fragment,{children:[_t.jsx(tm,{to:"/jobs",className:MO,children:"Jobs"}),_t.jsx(tm,{to:"/applications",className:MO,children:"Applications"})]}):_t.jsxs(_t.Fragment,{children:[_t.jsx("span",{className:"px-3 py-2 rounded-md text-sm font-medium text-slate-300 cursor-not-allowed opacity-60 relative group",title:"Complete onboarding to unlock",children:"Jobs"}),_t.jsx("span",{className:"px-3 py-2 rounded-md text-sm font-medium text-slate-300 cursor-not-allowed opacity-60 relative group",title:"Complete onboarding to unlock",children:"Applications"})]})]}),_t.jsx("div",{className:"hidden md:flex items-center gap-3",children:_t.jsx(DO,{})}),_t.jsxs("button",{type:"button",onClick:()=>s(!r),className:"md:hidden inline-flex items-center justify-center rounded-md p-2 text-slate-600 hover:bg-slate-100 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-brand-500","aria-expanded":r,children:[_t.jsx("span",{className:"sr-only",children:"Open main menu"}),r?_t.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}):_t.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:_t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})]})]}),r&&_t.jsx("div",{className:"md:hidden border-t border-slate-200",children:_t.jsxs("div",{className:"space-y-1 px-4 pb-3 pt-2",children:[_t.jsx(tm,{to:"/knowledge-base",className:({isActive:e})=>"block px-3 py-2 rounded-md text-base font-medium "+(e?"bg-brand-100 text-brand-800":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"),onClick:()=>s(!1),children:"You"}),a?_t.jsxs(_t.Fragment,{children:[_t.jsx(tm,{to:"/jobs",className:({isActive:e})=>"block px-3 py-2 rounded-md text-base font-medium "+(e?"bg-brand-100 text-brand-800":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"),onClick:()=>s(!1),children:"Jobs"}),_t.jsx(tm,{to:"/applications",className:({isActive:e})=>"block px-3 py-2 rounded-md text-base font-medium "+(e?"bg-brand-100 text-brand-800":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"),onClick:()=>s(!1),children:"Applications"})]}):_t.jsxs(_t.Fragment,{children:[_t.jsx("span",{className:"block px-3 py-2 rounded-md text-base font-medium text-slate-300 cursor-not-allowed",children:"Jobs"}),_t.jsx("span",{className:"block px-3 py-2 rounded-md text-base font-medium text-slate-300 cursor-not-allowed",children:"Applications"})]}),_t.jsx("div",{className:"pt-4 mt-3 border-t border-slate-200",children:_t.jsx(LO,{})})]})})]}),_t.jsx("main",{className:"flex-1 bg-slate-50",children:_t.jsxs(Gf,{children:[_t.jsx(Hf,{path:"/login",element:_t.jsx(P_,{})}),_t.jsx(Hf,{path:"/terms",element:_t.jsx(D_,{})}),_t.jsx(Hf,{path:"/privacy",element:_t.jsx(L_,{})}),_t.jsx(Hf,{path:"/",element:_t.jsx(R_,{})}),_t.jsx(Hf,{path:"/knowledge-base",element:_t.jsx(BE,{children:_t.jsx(X_,{})})}),_t.jsx(Hf,{path:"/jobs",element:_t.jsx(BE,{children:_t.jsx(iT,{})})}),_t.jsx(Hf,{path:"/jobs/:id",element:_t.jsx(BE,{children:_t.jsx(RO,{})})}),_t.jsx(Hf,{path:"/applications",element:_t.jsx(BE,{children:_t.jsx(PO,{})})})]})}),e&&_t.jsx("footer",{className:"border-t bg-white flex-shrink-0",children:_t.jsxs("div",{className:"px-4 py-2 text-sm text-slate-500 w-full",children:[" ",(new Date).getFullYear()," CTO  Your Personal Chief Talent Officer."]})})]})]})}const UO=new Sp({defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:6e4}}});Tt.createRoot(document.getElementById("root")).render(_t.jsx(pt.StrictMode,{children:_t.jsx(Cp,{client:UO,children:_t.jsx(Jf,{children:_t.jsx(BO,{})})})}));
